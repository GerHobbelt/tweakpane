/*! Tweakpane 1.5.9 (c) 2016 cocopon, licensed under the MIT license. */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Tweakpane=t()}(this,(function(){"use strict";var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};function t(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}var n=function(){return(n=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};var i=function(){function e(){this.observers_={}}return e.prototype.on=function(e,t){var n=this.observers_[e];return n||(n=this.observers_[e]=[]),n.push({handler:t}),this},e.prototype.off=function(e,t){var n=this.observers_[e];return n&&(this.observers_[e]=n.filter((function(e){return e.handler!==t}))),this},e.prototype.emit=function(e,t){var n=this.observers_[e];n&&n.forEach((function(e){e.handler(t)}))},e}(),o=function(){function e(e){this.emitter=new i,this.title=e}return e.prototype.click=function(){this.emitter.emit("click",{sender:this})},e}(),r="tp",a={"":"v",input:"iv",monitor:"mv"};function l(e,t){var n=a[t||""];return function(t,i){return[r,"-",e,n,t?"_"+t:"",i?"-"+i:""].join("")}}function s(e){return e&&e.parentElement&&e.parentElement.removeChild(e),null}var u=function(){function e(e){this.message=function(e){return"alreadydisposed"===e.type?"View has been already disposed":"emptyvalue"===e.type?"Value is empty for "+e.context.key:"invalidparams"===e.type?"Invalid parameters for "+e.context.name:"nomatchingcontroller"===e.type?"No matching controller for "+e.context.key:"shouldneverhappen"===e.type?"This error should never happen":"Unexpected error"}(e),this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=e.type}return e.alreadyDisposed=function(){return new e({type:"alreadydisposed"})},e.shouldNeverHappen=function(){return new e({type:"shouldneverhappen"})},e}();u.prototype=Object.create(Error.prototype),u.prototype.constructor=u;var d=l(""),p=function(){function e(e,t){this.onChange_=this.onChange_.bind(this),this.onDispose_=this.onDispose_.bind(this),this.model_=t.model,this.model_.emitter.on("change",this.onChange_),this.model_.emitter.on("dispose",this.onDispose_),this.doc_=e,this.elem_=this.doc_.createElement("div"),this.elem_.classList.add(d())}return Object.defineProperty(e.prototype,"document",{get:function(){if(!this.doc_)throw u.alreadyDisposed();return this.doc_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){if(!this.elem_)throw u.alreadyDisposed();return this.elem_},enumerable:!1,configurable:!0}),e.prototype.onDispose_=function(){this.doc_=null,this.elem_=s(this.elem_)},e.prototype.onChange_=function(e){var t=this.elem_;if(!t)throw u.alreadyDisposed();if("hidden"===e.propertyName){var n=d(void 0,"hidden");this.model_.hidden?t.classList.add(n):t.classList.remove(n)}else"positions"===e.propertyName&&(["first","last"].forEach((function(e){t.classList.remove(d(void 0,e))})),this.model_.positions.forEach((function(e){t.classList.add(d(void 0,e))})))},e}(),c=l("btn"),h=function(e){function n(t,n){var i=e.call(this,t,n)||this;i.button=n.button,i.element.classList.add(c());var o=t.createElement("button");return o.classList.add(c("b")),o.textContent=i.button.title,i.element.appendChild(o),i.buttonElem_=o,n.model.emitter.on("dispose",(function(){i.buttonElem_=s(i.buttonElem_)})),i}return t(n,e),Object.defineProperty(n.prototype,"buttonElement",{get:function(){if(!this.buttonElem_)throw u.alreadyDisposed();return this.buttonElem_},enumerable:!1,configurable:!0}),n}(p),f=function(){function e(e,t){this.onButtonClick_=this.onButtonClick_.bind(this),this.button=new o(t.title),this.viewModel=t.viewModel,this.view=new h(e,{button:this.button,model:this.viewModel}),this.view.buttonElement.addEventListener("click",this.onButtonClick_)}return e.prototype.onButtonClick_=function(){this.button.click()},e}(),v={forceCast:function(e){return e},isEmpty:function(e){return null==e},getOrDefault:function(e,t){return v.isEmpty(e)?t:e},deepEqualsArray:function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}},m="http://www.w3.org/2000/svg";function g(e){e.offsetHeight}function b(e){return void 0!==e.ontouchstart}function _(){return new Function("return this")()}function w(e){return"document"in _()?e.getContext("2d"):null}var y={p2dpad:'<path d="M8 2V14" stroke="currentColor" stroke-width="1.5"/><path d="M2 8H14" stroke="currentColor" stroke-width="1.5"/><circle cx="8" cy="8" r="2" fill="currentColor"/>'};function x(e,t,n){e.insertBefore(t,e.children[n])}function E(e){return e.relatedTarget?v.forceCast(e.relatedTarget):"explicitOriginalTarget"in e?e.explicitOriginalTarget:null}var C=function(){function e(e,t){this.emitter=new i,this.expanded_=t,this.expandedHeight_=null,this.temporaryExpanded_=null,this.shouldFixHeight_=!1,this.title=e}return Object.defineProperty(e.prototype,"expanded",{get:function(){return this.expanded_},set:function(e){this.expanded_!==e&&(this.emitter.emit("beforechange",{propertyName:"expanded",sender:this}),this.expanded_=e,this.emitter.emit("change",{propertyName:"expanded",sender:this}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"temporaryExpanded",{get:function(){return this.temporaryExpanded_},set:function(e){this.temporaryExpanded_!==e&&(this.emitter.emit("beforechange",{propertyName:"temporaryExpanded",sender:this}),this.temporaryExpanded_=e,this.emitter.emit("change",{propertyName:"temporaryExpanded",sender:this}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"expandedHeight",{get:function(){return this.expandedHeight_},set:function(e){this.expandedHeight_!==e&&(this.emitter.emit("beforechange",{propertyName:"expandedHeight",sender:this}),this.expandedHeight_=e,this.emitter.emit("change",{propertyName:"expandedHeight",sender:this}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldFixHeight",{get:function(){return this.shouldFixHeight_},set:function(e){this.shouldFixHeight_!==e&&(this.emitter.emit("beforechange",{propertyName:"shouldFixHeight",sender:this}),this.shouldFixHeight_=e,this.emitter.emit("change",{propertyName:"shouldFixHeight",sender:this}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"styleExpanded",{get:function(){return v.getOrDefault(this.temporaryExpanded,this.expanded)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"styleHeight",{get:function(){return this.styleExpanded?this.shouldFixHeight&&!v.isEmpty(this.expandedHeight)?this.expandedHeight+"px":"auto":"0"},enumerable:!1,configurable:!0}),e}(),k=l("lbl");var V=function(e){function n(t,n){var i=e.call(this,t,n)||this;i.label=n.label,i.element.classList.add(k());var o=t.createElement("div");o.classList.add(k("l")),o.appendChild(function(e,t){var n=e.createDocumentFragment();return t.split("\n").map((function(t){return e.createTextNode(t)})).forEach((function(t,i){i>0&&n.appendChild(e.createElement("br")),n.appendChild(t)})),n}(t,i.label)),i.element.appendChild(o);var r=t.createElement("div");return r.classList.add(k("v")),r.appendChild(n.view.element),i.element.appendChild(r),i}return t(n,e),n}(p),M=function(){function e(e,t){this.binding=t.binding,this.controller=t.controller,this.view=new V(e,{model:this.controller.viewModel,label:t.label,view:this.controller.view})}return Object.defineProperty(e.prototype,"viewModel",{get:function(){return this.controller.viewModel},enumerable:!1,configurable:!0}),e}(),P=function(){function e(e,t){var n=this;this.binding=t.binding,this.controller=t.controller,this.view=new V(e,{label:t.label,model:this.viewModel,view:this.controller.view}),this.viewModel.emitter.on("dispose",(function(){n.binding.dispose()}))}return Object.defineProperty(e.prototype,"viewModel",{get:function(){return this.controller.viewModel},enumerable:!1,configurable:!0}),e}(),L=function(){function e(){this.emitter=new i,this.items_=[]}return Object.defineProperty(e.prototype,"items",{get:function(){return this.items_},enumerable:!1,configurable:!0}),e.prototype.add=function(e,t){var n=void 0!==t?t:this.items_.length;this.items_.splice(n,0,e),this.emitter.emit("add",{index:n,item:e,sender:this})},e.prototype.remove=function(e){var t=this.items_.indexOf(e);t<0||(this.items_.splice(t,1),this.emitter.emit("remove",{sender:this}))},e}(),I=function(){function e(){this.onItemFolderFold_=this.onItemFolderFold_.bind(this),this.onListItemLayout_=this.onListItemLayout_.bind(this),this.onSubitemLayout_=this.onSubitemLayout_.bind(this),this.onSubitemFolderFold_=this.onSubitemFolderFold_.bind(this),this.onSubitemInputChange_=this.onSubitemInputChange_.bind(this),this.onSubitemMonitorUpdate_=this.onSubitemMonitorUpdate_.bind(this),this.onItemInputChange_=this.onItemInputChange_.bind(this),this.onListAdd_=this.onListAdd_.bind(this),this.onListItemDispose_=this.onListItemDispose_.bind(this),this.onListRemove_=this.onListRemove_.bind(this),this.onItemMonitorUpdate_=this.onItemMonitorUpdate_.bind(this),this.ucList_=new L,this.emitter=new i,this.ucList_.emitter.on("add",this.onListAdd_),this.ucList_.emitter.on("remove",this.onListRemove_)}return Object.defineProperty(e.prototype,"items",{get:function(){return this.ucList_.items},enumerable:!1,configurable:!0}),e.prototype.add=function(e,t){this.ucList_.add(e,t)},e.prototype.onListAdd_=function(e){var t=e.item;if(this.emitter.emit("add",{index:e.index,sender:this,uiController:t}),t.viewModel.emitter.on("dispose",this.onListItemDispose_),t.viewModel.emitter.on("change",this.onListItemLayout_),t instanceof M)(n=t.binding.emitter).on("change",this.onItemInputChange_);else if(t instanceof P){(n=t.binding.emitter).on("update",this.onItemMonitorUpdate_)}else if(t instanceof z){var n;t.folder.emitter.on("change",this.onItemFolderFold_),(n=t.uiContainer.emitter).on("itemfold",this.onSubitemFolderFold_),n.on("itemlayout",this.onSubitemLayout_),n.on("inputchange",this.onSubitemInputChange_),n.on("monitorupdate",this.onSubitemMonitorUpdate_)}},e.prototype.onListRemove_=function(e){this.emitter.emit("remove",{sender:this})},e.prototype.onListItemLayout_=function(e){"hidden"!==e.propertyName&&"positions"!==e.propertyName||this.emitter.emit("itemlayout",{sender:this})},e.prototype.onListItemDispose_=function(e){var t=this;this.ucList_.items.filter((function(e){return e.viewModel.disposed})).forEach((function(e){t.ucList_.remove(e)}))},e.prototype.onItemInputChange_=function(e){this.emitter.emit("inputchange",{inputBinding:e.sender,sender:this,value:e.rawValue})},e.prototype.onItemMonitorUpdate_=function(e){this.emitter.emit("monitorupdate",{monitorBinding:e.sender,sender:this,value:e.rawValue})},e.prototype.onItemFolderFold_=function(e){"expanded"===e.propertyName&&this.emitter.emit("itemfold",{expanded:e.sender.expanded,sender:this})},e.prototype.onSubitemLayout_=function(e){this.emitter.emit("itemlayout",{sender:this})},e.prototype.onSubitemInputChange_=function(e){this.emitter.emit("inputchange",{inputBinding:e.inputBinding,sender:this,value:e.value})},e.prototype.onSubitemMonitorUpdate_=function(e){this.emitter.emit("monitorupdate",{monitorBinding:e.monitorBinding,sender:this,value:e.value})},e.prototype.onSubitemFolderFold_=function(e){this.emitter.emit("itemfold",{expanded:e.expanded,sender:this})},e}(),D=l("fld"),O=function(e){function n(t,n){var i=e.call(this,t,n)||this;i.onFolderChange_=i.onFolderChange_.bind(i),i.folder_=n.folder,i.folder_.emitter.on("change",i.onFolderChange_),i.element.classList.add(D());var o=t.createElement("button");o.classList.add(D("t")),o.textContent=i.folder_.title,i.element.appendChild(o),i.titleElem_=o;var r=t.createElement("div");r.classList.add(D("m")),i.titleElem_.appendChild(r);var a=t.createElement("div");return a.classList.add(D("c")),i.element.appendChild(a),i.containerElem_=a,i.applyModel_(),n.model.emitter.on("dispose",(function(){i.containerElem_=s(i.containerElem_),i.titleElem_=s(i.titleElem_)})),i}return t(n,e),Object.defineProperty(n.prototype,"titleElement",{get:function(){if(!this.titleElem_)throw u.alreadyDisposed();return this.titleElem_},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"containerElement",{get:function(){if(!this.containerElem_)throw u.alreadyDisposed();return this.containerElem_},enumerable:!1,configurable:!0}),n.prototype.applyModel_=function(){var e=this.containerElem_;if(!e)throw u.alreadyDisposed();var t=this.folder_.styleExpanded,n=D(void 0,"expanded");t?this.element.classList.add(n):this.element.classList.remove(n),e.style.height=this.folder_.styleHeight},n.prototype.onFolderChange_=function(){this.applyModel_()},n}(p);function F(e){var t=e.items.filter((function(e){return!e.viewModel.hidden})),n=t[0],i=t[t.length-1];e.items.forEach((function(e){var t=[];e===n&&t.push("first"),e===i&&t.push("last"),e.viewModel.positions=t}))}function j(e,t){var n,i,o,r=0;return i=function(){e.expandedHeight=null,e.temporaryExpanded=!0,g(t),r=t.clientHeight,e.temporaryExpanded=null,g(t)},o=(n=t).style.transition,n.style.transition="none",i(),n.style.transition=o,r}var z=function(){function e(e,t){this.onContainerTransitionEnd_=this.onContainerTransitionEnd_.bind(this),this.onFolderBeforeChange_=this.onFolderBeforeChange_.bind(this),this.onTitleClick_=this.onTitleClick_.bind(this),this.onUiContainerAdd_=this.onUiContainerAdd_.bind(this),this.onUiContainerItemLayout_=this.onUiContainerItemLayout_.bind(this),this.onUiContainerRemove_=this.onUiContainerRemove_.bind(this),this.viewModel=t.viewModel,this.folder=new C(t.title,v.getOrDefault(t.expanded,!0)),this.folder.emitter.on("beforechange",this.onFolderBeforeChange_),this.ucList_=new I,this.ucList_.emitter.on("add",this.onUiContainerAdd_),this.ucList_.emitter.on("itemlayout",this.onUiContainerItemLayout_),this.ucList_.emitter.on("remove",this.onUiContainerRemove_),this.doc_=e,this.view=new O(this.doc_,{folder:this.folder,model:this.viewModel}),this.view.titleElement.addEventListener("click",this.onTitleClick_),this.view.containerElement.addEventListener("transitionend",this.onContainerTransitionEnd_)}return Object.defineProperty(e.prototype,"document",{get:function(){return this.doc_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uiContainer",{get:function(){return this.ucList_},enumerable:!1,configurable:!0}),e.prototype.onFolderBeforeChange_=function(e){"expanded"===e.propertyName&&(v.isEmpty(this.folder.expandedHeight)&&(this.folder.expandedHeight=j(this.folder,this.view.containerElement)),this.folder.shouldFixHeight=!0,g(this.view.containerElement))},e.prototype.onTitleClick_=function(){this.folder.expanded=!this.folder.expanded},e.prototype.applyUiContainerChange_=function(){F(this.uiContainer)},e.prototype.onUiContainerAdd_=function(e){x(this.view.containerElement,e.uiController.view.element,e.index),this.applyUiContainerChange_()},e.prototype.onUiContainerRemove_=function(e){this.applyUiContainerChange_()},e.prototype.onUiContainerItemLayout_=function(e){this.applyUiContainerChange_()},e.prototype.onContainerTransitionEnd_=function(e){"height"===e.propertyName&&(this.folder.shouldFixHeight=!1,this.folder.expandedHeight=null)},e}(),A=l("spt"),S=function(e){function n(t,n){var i=e.call(this,t,n)||this;i.element.classList.add(A());var o=t.createElement("hr");return o.classList.add(A("r")),i.element.appendChild(o),i}return t(n,e),n}(p),N=function(e,t){this.viewModel=t.viewModel,this.view=new S(e,{model:this.viewModel})},U=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.x=e,this.y=t}return e.prototype.getComponents=function(){return[this.x,this.y]},e.isObject=function(e){if(v.isEmpty(e))return!1;var t=e.x,n=e.y;return"number"==typeof t&&"number"==typeof n},e.equals=function(e,t){return e.x===t.x&&e.y===t.y},e.prototype.toObject=function(){return{x:this.x,y:this.y}},e}(),B=function(){function e(e){this.xConstraint=e.x,this.yConstraint=e.y}return e.prototype.constrain=function(e){return new U(this.xConstraint?this.xConstraint.constrain(e.x):e.x,this.yConstraint?this.yConstraint.constrain(e.y):e.y)},e}(),T=function(){function e(e){this.maxValue=e.max,this.minValue=e.min}return e.prototype.constrain=function(e){var t=e;return v.isEmpty(this.minValue)||(t=Math.max(t,this.minValue)),v.isEmpty(this.maxValue)||(t=Math.min(t,this.maxValue)),t},e}(),H=function(){function e(e){this.step=e.step}return e.prototype.constrain=function(e){return(e<0?-Math.round(-e/this.step):Math.round(e/this.step))*this.step},e}(),K=function(){function e(e){this.constraints_=e.constraints}return Object.defineProperty(e.prototype,"constraints",{get:function(){return this.constraints_},enumerable:!1,configurable:!0}),e.prototype.constrain=function(e){return this.constraints_.reduce((function(e,t){return t.constrain(e)}),e)},e}(),R=function(e,t){if(e instanceof t)return e;if(e instanceof K){var n=e.constraints.reduce((function(e,n){return e||(n instanceof t?n:null)}),null);if(n)return n}return null},Y=function(e,t,n,i,o){return i+(e-t)/(n-t)*(o-i)},q=function(e){return String(e.toFixed(10)).split(".")[1].replace(/0+$/,"").length},G=function(e,t,n){return Math.min(Math.max(e,t),n)},$=function(e,t){return(e%t+t)%t};function X(e,t){if(Array.isArray(e))return e.map((function(e){return{text:e.text,value:t(e.value)}}));var n=e;return Object.keys(n).reduce((function(e,i){return e.concat({text:i,value:t(n[i])})}),[])}function W(e,t){return e.reduce((function(e,n){return n instanceof z&&e.push.apply(e,W(n.uiContainer.items,t)),n instanceof t&&e.push(n),e}),[])}function Q(e){var t=function(e){var t=e?R(e,H):null;return t?t.step:null}(e);return v.getOrDefault(t,1)}function Z(e,t){var n=e*(t.altKey?.1:1)*(t.shiftKey?10:1);return t.upKey?+n:t.downKey?-n:0}function J(e){return{altKey:e.altKey,downKey:40===e.keyCode,shiftKey:e.shiftKey,upKey:38===e.keyCode}}function ee(e){return{altKey:e.altKey,downKey:37===e.keyCode,shiftKey:e.shiftKey,upKey:39===e.keyCode}}function te(e){return function(e){return 38===e||40===e}(e)||37===e||39===e}function ne(e,t){var n=e&&R(e,H);return n?q(n.step):Math.max(q(t),2)}function ie(e,t){var n=e&&R(e,T);if(n)return Math.max(Math.abs(n.minValue||0),Math.abs(n.maxValue||0));var i=Q(e);return Math.max(10*Math.abs(i),10*Math.abs(t))}function oe(e){return e?.1:1}var re=function(){function e(e,t,n){this.obj_=e,this.key_=t,this.presetKey_=v.getOrDefault(n,t)}return Object.defineProperty(e.prototype,"key",{get:function(){return this.key_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"presetKey",{get:function(){return this.presetKey_},enumerable:!1,configurable:!0}),e.prototype.read=function(){return this.obj_[this.key_]},e.prototype.write=function(e){this.obj_[this.key_]=e},e}(),ae=function(){function e(){this.emitter=new i,this.disposed_=!1}return Object.defineProperty(e.prototype,"disposed",{get:function(){return this.disposed_},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){return!this.disposed_&&(this.disposed_=!0,this.emitter.emit("dispose",{sender:this}),!0)},e}(),le=function(){function e(){this.onDispose_=this.onDispose_.bind(this),this.emitter=new i,this.positions_=[],this.hidden_=!1,this.disposable_=new ae,this.disposable_.emitter.on("dispose",this.onDispose_)}return Object.defineProperty(e.prototype,"hidden",{get:function(){return this.hidden_},set:function(e){this.hidden_!==e&&(this.hidden_=e,this.emitter.emit("change",{propertyName:"hidden",sender:this}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"positions",{get:function(){return this.positions_},set:function(e){v.deepEqualsArray(e,this.positions_)||(this.positions_=e,this.emitter.emit("change",{propertyName:"positions",sender:this}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disposed",{get:function(){return this.disposable_.disposed},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this.disposable_.dispose()},e.prototype.onDispose_=function(){this.emitter.emit("dispose",{sender:this})},e}(),se=function(){function e(e){this.controller=e}return Object.defineProperty(e.prototype,"hidden",{get:function(){return this.controller.viewModel.hidden},set:function(e){this.controller.viewModel.hidden=e},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this.controller.viewModel.dispose()},e.prototype.on=function(e,t){return this.controller.button.emitter.on(e,t.bind(this)),this},e}();function ue(e){var t=e.eventName,n=e.folder,i=e.handler,o=e.uiContainer;"change"===t&&o.emitter.on("inputchange",(function(e){i(e.inputBinding.getValueToWrite(e.value))}));"update"===t&&o.emitter.on("monitorupdate",(function(e){i(e.monitorBinding.target.read())}));"fold"===t&&(o.emitter.on("itemfold",(function(e){i(e.expanded)})),null==n||n.emitter.on("change",(function(e){"expanded"===e.propertyName&&i(e.sender.expanded)})))}var de=function(){function e(e){this.controller=e}return Object.defineProperty(e.prototype,"hidden",{get:function(){return this.controller.viewModel.hidden},set:function(e){this.controller.viewModel.hidden=e},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this.controller.viewModel.dispose()},e.prototype.on=function(e,t){return function(e){var t=e.binding,n=e.eventName,i=e.handler;"change"===n&&t.emitter.on("change",(function(e){i(e.sender.getValueToWrite(e.rawValue))}))}({binding:this.controller.binding,eventName:e,handler:t.bind(this)}),this},e.prototype.refresh=function(){this.controller.binding.read()},e}(),pe=function(){function e(e){this.onValueChange_=this.onValueChange_.bind(this),this.reader=e.reader,this.writer=e.writer,this.emitter=new i,this.value=e.value,this.value.emitter.on("change",this.onValueChange_),this.target=e.target,this.read()}return e.prototype.read=function(){var e=this.target.read();void 0!==e&&(this.value.rawValue=this.reader(e))},e.prototype.getValueToWrite=function(e){return this.writer(e)},e.prototype.write_=function(e){this.target.write(this.getValueToWrite(e))},e.prototype.onValueChange_=function(e){this.write_(e.rawValue),this.emitter.emit("change",{rawValue:e.rawValue,sender:this})},e}(),ce=function(){function e(e,t,n){this.constraint_=t,this.equals_=n||function(e,t){return e===t},this.emitter=new i,this.rawValue_=e}return Object.defineProperty(e.prototype,"constraint",{get:function(){return this.constraint_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rawValue",{get:function(){return this.rawValue_},set:function(e){var t=this.constraint_?this.constraint_.constrain(e):e;!this.equals_(this.rawValue_,t)&&(this.rawValue_=t,this.emitter.emit("change",{rawValue:t,sender:this}))},enumerable:!1,configurable:!0}),e}();var he={inputs:[],monitors:[]};function fe(e,t,n){var i=t.read();if(v.isEmpty(i))throw new u({context:{key:t.key},type:"emptyvalue"});var o=he.inputs.reduce((function(i,o){return i||function(e,t){var n=e.model.accept(t.target.read(),t.params);if(null===n)return null;var i={target:t.target,initialValue:n,params:t.params},o=e.model.reader(i),r=e.model.constraint?e.model.constraint(i):void 0,a=new ce(o(n),r,e.model.equals),l=new pe({reader:o,target:t.target,value:a,writer:e.model.writer(i)});return new M(t.document,{binding:l,controller:e.controller({binding:l,document:t.document,initialValue:n,params:t.params}),label:t.params.label||t.target.key})}(o,{document:e,target:t,params:n})}),null);if(o)return o;throw new u({context:{key:t.key},type:"nomatchingcontroller"})}var ve=function(){function e(e){this.controller=e}return Object.defineProperty(e.prototype,"hidden",{get:function(){return this.controller.viewModel.hidden},set:function(e){this.controller.viewModel.hidden=e},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this.controller.viewModel.dispose()},e.prototype.on=function(e,t){return function(e){var t=e.binding,n=e.eventName,i=e.handler;"update"===n&&t.emitter.on("update",(function(e){i(e.sender.target.read())}))}({binding:this.controller.binding,eventName:e,handler:t.bind(this)}),this},e.prototype.refresh=function(){this.controller.binding.read()},e}(),me=function(){function e(e){this.onTick_=this.onTick_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.reader_=e.reader,this.target=e.target,this.emitter=new i,this.value=e.value,this.value.emitter.on("update",this.onValueUpdate_),this.ticker=e.ticker,this.ticker.emitter.on("tick",this.onTick_),this.read()}return e.prototype.dispose=function(){this.ticker.disposable.dispose()},e.prototype.read=function(){var e=this.target.read();void 0!==e&&this.value.append(this.reader_(e))},e.prototype.onTick_=function(e){this.read()},e.prototype.onValueUpdate_=function(e){this.emitter.emit("update",{rawValue:e.rawValue,sender:this})},e}(),ge={defaultInterval:200,defaultLineCount:3},be=function(){function e(e,t){var n=this;if(this.onTick_=this.onTick_.bind(this),this.doc_=e,this.emitter=new i,t<=0)this.id_=null;else{var o=this.doc_.defaultView;o&&(this.id_=o.setInterval(this.onTick_,t))}this.disposable=new ae,this.disposable.emitter.on("dispose",(function(){if(null!==n.id_){var e=n.doc_.defaultView;e&&e.clearInterval(n.id_)}n.id_=null}))}return e.prototype.onTick_=function(){this.emitter.emit("tick",{sender:this})},e}(),_e=function(){function e(){this.disposable=new ae,this.emitter=new i}return e.prototype.tick=function(){this.emitter.emit("tick",{sender:this})},e}(),we=function(){function e(e){this.emitter=new i,this.rawValues_=[],this.bufferSize_=e}return Object.defineProperty(e.prototype,"rawValues",{get:function(){return this.rawValues_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bufferSize",{get:function(){return this.bufferSize_},enumerable:!1,configurable:!0}),e.prototype.append=function(e){this.rawValues_.push(e),this.rawValues_.length>this.bufferSize_&&this.rawValues_.splice(0,this.rawValues_.length-this.bufferSize_),this.emitter.emit("update",{rawValue:e,sender:this})},e}();function ye(e,t,n){var i=t.read();if(v.isEmpty(i))throw new u({context:{key:t.key},type:"emptyvalue"});var o=he.monitors.reduce((function(i,o){return i||function(e,t){var n=e.model.accept(t.target.read(),t.params);if(null===n)return null;var i,o,r={target:t.target,initialValue:n,params:t.params},a=e.model.reader(r),l=v.getOrDefault(v.getOrDefault(t.params.bufferSize,t.params.count),e.model.defaultBufferSize(t.params)),s=new we(l),u=new me({reader:a,target:t.target,ticker:(i=t.document,o=t.params.interval,0===o?new _e:new be(i,v.getOrDefault(o,ge.defaultInterval))),value:s});return new P(t.document,{binding:u,controller:e.controller({binding:u,document:t.document,params:t.params}),label:t.params.label||t.target.key})}(o,{document:e,params:n,target:t})}),null);if(o)return o;throw new u({context:{key:t.key},type:"nomatchingcontroller"})}var xe=function(){function e(e){this.controller=e}return Object.defineProperty(e.prototype,"hidden",{get:function(){return this.controller.viewModel.hidden},set:function(e){this.controller.viewModel.hidden=e},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this.controller.viewModel.dispose()},e}(),Ee=function(){function e(e){this.controller=e}return Object.defineProperty(e.prototype,"expanded",{get:function(){return this.controller.folder.expanded},set:function(e){this.controller.folder.expanded=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hidden",{get:function(){return this.controller.viewModel.hidden},set:function(e){this.controller.viewModel.hidden=e},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this.controller.viewModel.dispose()},e.prototype.addInput=function(e,t,n){var i=n||{},o=fe(this.controller.document,new re(e,t,i.presetKey),i);return this.controller.uiContainer.add(o,i.index),new de(o)},e.prototype.addMonitor=function(e,t,n){var i=n||{},o=ye(this.controller.document,new re(e,t),i);return this.controller.uiContainer.add(o,i.index),new ve(o)},e.prototype.addFolder=function(t){var i=new z(this.controller.document,n(n({},t),{viewModel:new le}));return this.controller.uiContainer.add(i,t.index),new e(i)},e.prototype.addButton=function(e){var t=new f(this.controller.document,n(n({},e),{viewModel:new le}));return this.controller.uiContainer.add(t,e.index),new se(t)},e.prototype.addSeparator=function(e){var t=e||{},n=new N(this.controller.document,{viewModel:new le});return this.controller.uiContainer.add(n,t.index),new xe(n)},e.prototype.on=function(e,t){return ue({eventName:e,folder:this.controller.folder,handler:t.bind(this),uiContainer:this.controller.uiContainer}),this},e}();var Ce=function(){function e(e){this.controller=e}return e.registerPlugin=function(e){"input"===e.type?he.inputs.push(e.plugin):"monitor"===e.type&&he.monitors.push(e.plugin)},Object.defineProperty(e.prototype,"element",{get:function(){return this.controller.view.element},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"expanded",{get:function(){var e=this.controller.folder;return!e||e.expanded},set:function(e){var t=this.controller.folder;t&&(t.expanded=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hidden",{get:function(){return this.controller.viewModel.hidden},set:function(e){this.controller.viewModel.hidden=e},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this.controller.viewModel.dispose()},e.prototype.addInput=function(e,t,n){var i=n||{},o=fe(this.controller.document,new re(e,t,i.presetKey),i);return this.controller.uiContainer.add(o,i.index),new de(o)},e.prototype.addMonitor=function(e,t,n){var i=n||{},o=ye(this.controller.document,new re(e,t),i);return this.controller.uiContainer.add(o,i.index),new ve(o)},e.prototype.addButton=function(e){var t=new f(this.controller.document,n(n({},e),{viewModel:new le}));return this.controller.uiContainer.add(t,e.index),new se(t)},e.prototype.addFolder=function(e){var t=new z(this.controller.document,n(n({},e),{viewModel:new le}));return this.controller.uiContainer.add(t,e.index),new Ee(t)},e.prototype.addSeparator=function(e){var t=e||{},n=new N(this.controller.document,{viewModel:new le});return this.controller.uiContainer.add(n,t.index),new xe(n)},e.prototype.importPreset=function(e){!function(e,t){e.forEach((function(e){var n=t[e.presetKey];void 0!==n&&e.write(n)}))}(W(this.controller.uiContainer.items,M).map((function(e){return e.binding.target})),e),this.refresh()},e.prototype.exportPreset=function(){return function(e){return e.reduce((function(e,t){var n;return Object.assign(e,((n={})[t.presetKey]=t.read(),n))}),{})}(W(this.controller.uiContainer.items,M).map((function(e){return e.binding.target})))},e.prototype.on=function(e,t){return ue({eventName:e,folder:this.controller.folder,handler:t.bind(this),uiContainer:this.controller.uiContainer}),this},e.prototype.refresh=function(){W(this.controller.uiContainer.items,M).forEach((function(e){e.binding.read()})),W(this.controller.uiContainer.items,P).forEach((function(e){e.binding.read()}))},e}(),ke=l("rot"),Ve=function(e){function n(t,n){var i=e.call(this,t,n)||this;i.onFolderChange_=i.onFolderChange_.bind(i),i.folder_=n.folder,i.folder_&&i.folder_.emitter.on("change",i.onFolderChange_),i.element.classList.add(ke());var o=i.folder_;if(o){var r=t.createElement("button");r.classList.add(ke("t")),r.textContent=o.title,i.element.appendChild(r);var a=t.createElement("div");a.classList.add(ke("m")),r.appendChild(a),i.titleElem_=r}var l=t.createElement("div");return l.classList.add(ke("c")),i.element.appendChild(l),i.containerElem_=l,i.applyModel_(),n.model.emitter.on("dispose",(function(){i.containerElem_=s(i.containerElem_),i.folder_=null,i.titleElem_=s(i.titleElem_)})),i}return t(n,e),Object.defineProperty(n.prototype,"titleElement",{get:function(){return this.titleElem_},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"containerElement",{get:function(){if(!this.containerElem_)throw u.alreadyDisposed();return this.containerElem_},enumerable:!1,configurable:!0}),n.prototype.applyModel_=function(){var e=this.containerElem_;if(!e)throw u.alreadyDisposed();var t=!this.folder_||this.folder_.styleExpanded,n=ke(void 0,"expanded");t?this.element.classList.add(n):this.element.classList.remove(n),e.style.height=this.folder_?this.folder_.styleHeight:"auto"},n.prototype.onFolderChange_=function(){this.applyModel_()},n}(p);var Me=function(){function e(e,t){this.onContainerTransitionEnd_=this.onContainerTransitionEnd_.bind(this),this.onFolderBeforeChange_=this.onFolderBeforeChange_.bind(this),this.onTitleClick_=this.onTitleClick_.bind(this),this.onUiContainerAdd_=this.onUiContainerAdd_.bind(this),this.onUiContainerItemLayout_=this.onUiContainerItemLayout_.bind(this),this.onUiContainerRemove_=this.onUiContainerRemove_.bind(this),this.folder=function(e){return e.title?new C(e.title,v.getOrDefault(e.expanded,!0)):null}(t),this.folder&&this.folder.emitter.on("beforechange",this.onFolderBeforeChange_),this.ucList_=new I,this.ucList_.emitter.on("add",this.onUiContainerAdd_),this.ucList_.emitter.on("itemlayout",this.onUiContainerItemLayout_),this.ucList_.emitter.on("remove",this.onUiContainerRemove_),this.doc_=e,this.viewModel=t.viewModel,this.view=new Ve(this.doc_,{folder:this.folder,model:this.viewModel}),this.view.titleElement&&this.view.titleElement.addEventListener("click",this.onTitleClick_),this.view.containerElement.addEventListener("transitionend",this.onContainerTransitionEnd_)}return Object.defineProperty(e.prototype,"document",{get:function(){return this.doc_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uiContainer",{get:function(){return this.ucList_},enumerable:!1,configurable:!0}),e.prototype.onFolderBeforeChange_=function(e){if("expanded"===e.propertyName){var t=this.folder;t&&(v.isEmpty(t.expandedHeight)&&(t.expandedHeight=j(t,this.view.containerElement)),t.shouldFixHeight=!0,g(this.view.containerElement))}},e.prototype.applyUiContainerChange_=function(){F(this.uiContainer)},e.prototype.onUiContainerAdd_=function(e){x(this.view.containerElement,e.uiController.view.element,e.index),this.applyUiContainerChange_()},e.prototype.onUiContainerRemove_=function(e){this.applyUiContainerChange_()},e.prototype.onUiContainerItemLayout_=function(e){this.applyUiContainerChange_()},e.prototype.onTitleClick_=function(){this.folder&&(this.folder.expanded=!this.folder.expanded)},e.prototype.onContainerTransitionEnd_=function(e){"height"===e.propertyName&&this.folder&&(this.folder.shouldFixHeight=!1,this.folder.expandedHeight=null)},e}(),Pe=function(){function e(e){this.opts_=e.options}return Object.defineProperty(e.prototype,"options",{get:function(){return this.opts_},enumerable:!1,configurable:!0}),e.prototype.constrain=function(e){var t=this.opts_;return 0===t.length||t.filter((function(t){return t.value===e})).length>0?e:t[0].value},e}(),Le=l("ckb","input"),Ie=function(e){function n(t,n){var i=e.call(this,t,n)||this;i.onValueChange_=i.onValueChange_.bind(i),i.element.classList.add(Le());var o=t.createElement("label");o.classList.add(Le("l")),i.element.appendChild(o);var r=t.createElement("input");r.classList.add(Le("i")),r.type="checkbox",o.appendChild(r),i.inputElem_=r;var a=t.createElement("div");return a.classList.add(Le("m")),o.appendChild(a),n.value.emitter.on("change",i.onValueChange_),i.value=n.value,i.update(),n.model.emitter.on("dispose",(function(){i.inputElem_=s(i.inputElem_)})),i}return t(n,e),Object.defineProperty(n.prototype,"inputElement",{get:function(){if(!this.inputElem_)throw u.alreadyDisposed();return this.inputElem_},enumerable:!1,configurable:!0}),n.prototype.update=function(){if(!this.inputElem_)throw u.alreadyDisposed();this.inputElem_.checked=this.value.rawValue},n.prototype.onValueChange_=function(){this.update()},n}(p),De=function(){function e(e,t){this.onInputChange_=this.onInputChange_.bind(this),this.value=t.value,this.viewModel=t.viewModel,this.view=new Ie(e,{model:this.viewModel,value:this.value}),this.view.inputElement.addEventListener("change",this.onInputChange_)}return e.prototype.onInputChange_=function(e){var t=v.forceCast(e.currentTarget);this.value.rawValue=t.checked,this.view.update()},e}(),Oe=l("lst","input"),Fe=function(e){function n(t,n){var i=e.call(this,t,n)||this;i.onValueChange_=i.onValueChange_.bind(i),i.element.classList.add(Oe()),i.stringifyValue_=n.stringifyValue;var o=t.createElement("select");o.classList.add(Oe("s")),n.options.forEach((function(e,n){var r=t.createElement("option");r.dataset.index=String(n),r.textContent=e.text,r.value=i.stringifyValue_(e.value),o.appendChild(r)})),i.element.appendChild(o),i.selectElem_=o;var r=t.createElement("div");return r.classList.add(Oe("m")),i.element.appendChild(r),n.value.emitter.on("change",i.onValueChange_),i.value=n.value,i.update(),n.model.emitter.on("dispose",(function(){i.selectElem_=s(i.selectElem_)})),i}return t(n,e),Object.defineProperty(n.prototype,"selectElement",{get:function(){if(!this.selectElem_)throw u.alreadyDisposed();return this.selectElem_},enumerable:!1,configurable:!0}),n.prototype.update=function(){if(!this.selectElem_)throw u.alreadyDisposed();this.selectElem_.value=this.stringifyValue_(this.value.rawValue)},n.prototype.onValueChange_=function(){this.update()},n}(p);var je=function(){function e(e,t){var n,i;this.onSelectChange_=this.onSelectChange_.bind(this),this.value_=t.value,this.listItems_=(n=this.value_,((i=n.constraint?R(n.constraint,Pe):null)?i.options:null)||[]),this.viewModel=t.viewModel,this.view_=new Fe(e,{model:this.viewModel,options:this.listItems_,stringifyValue:t.stringifyValue,value:this.value_}),this.view_.selectElement.addEventListener("change",this.onSelectChange_)}return Object.defineProperty(e.prototype,"value",{get:function(){return this.value_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"view",{get:function(){return this.view_},enumerable:!1,configurable:!0}),e.prototype.onSelectChange_=function(e){var t=v.forceCast(e.currentTarget).selectedOptions.item(0);if(t){var n=Number(t.dataset.index);this.value_.rawValue=this.listItems_[n].value,this.view_.update()}},e}();function ze(e){return"false"!==e&&!!e}function Ae(e){return String(e)}var Se={model:{accept:function(e){return"boolean"==typeof e?e:null},reader:function(e){return ze},writer:function(e){return function(e){return e}},constraint:function(e){return t=e.params,n=[],"options"in t&&void 0!==t.options&&n.push(new Pe({options:X(t.options,ze)})),new K({constraints:n});var t,n}},controller:function(e){return t=e.document,n=e.binding.value,(i=n.constraint)&&R(i,Pe)?new je(t,{viewModel:new le,stringifyValue:Ae,value:n}):new De(t,{viewModel:new le,value:n});var t,n,i}},Ne=l("cswtxt","input"),Ue=function(e){function n(t,n){var i=e.call(this,t,n)||this;i.element.classList.add(Ne());var o=t.createElement("div");o.classList.add(Ne("s")),i.swatchInputView_=n.swatchInputView,o.appendChild(i.swatchInputView_.element),i.element.appendChild(o);var r=t.createElement("div");return r.classList.add(Ne("t")),i.textInputView=n.textInputView,r.appendChild(i.textInputView.element),i.element.appendChild(r),i}return t(n,e),Object.defineProperty(n.prototype,"value",{get:function(){return this.textInputView.value},enumerable:!1,configurable:!0}),n.prototype.update=function(){this.swatchInputView_.update(),this.textInputView.update()},n}(p),Be=function(){function e(e){this.onValueChange_=this.onValueChange_.bind(this),this.mode_="rgb",this.value=e,this.value.emitter.on("change",this.onValueChange_),this.emitter=new i}return Object.defineProperty(e.prototype,"mode",{get:function(){return this.mode_},set:function(e){this.mode_!==e&&(this.mode_=e,this.emitter.emit("change",{propertyName:"mode",sender:this}))},enumerable:!1,configurable:!0}),e.prototype.onValueChange_=function(){this.emitter.emit("change",{propertyName:"value",sender:this})},e}(),Te=function(){function e(e){this.digits_=e}return Object.defineProperty(e.prototype,"digits",{get:function(){return this.digits_},enumerable:!1,configurable:!0}),e.prototype.format=function(e){return e.toFixed(Math.max(Math.min(this.digits_,20),0))},e}(),He=new Te(0),Ke=function(){function e(){}return e.prototype.format=function(e){return He.format(e)+"%"},e}();function Re(e,t,n){var i=G(e/255,0,1),o=G(t/255,0,1),r=G(n/255,0,1),a=Math.max(i,o,r),l=Math.min(i,o,r),s=a-l,u=0,d=0,p=(l+a)/2;return 0!==s&&(d=p>.5?s/(2-l-a):s/(a+l),u=(u=i===a?(o-r)/s:o===a?2+(r-i)/s:4+(i-o)/s)/6+(u<0?1:0)),[360*u,100*d,100*p]}function Ye(e,t,n){var i,o,r,a,l,s,u,d,p,c=(e%360+360)%360,h=G(t/100,0,1),f=G(n/100,0,1),v=(1-Math.abs(2*f-1))*h,m=v*(1-Math.abs(c/60%2-1)),g=f-v/2;return c>=0&&c<60?(u=(i=[v,m,0])[0],d=i[1],p=i[2]):c>=60&&c<120?(u=(o=[m,v,0])[0],d=o[1],p=o[2]):c>=120&&c<180?(u=(r=[0,v,m])[0],d=r[1],p=r[2]):c>=180&&c<240?(u=(a=[0,m,v])[0],d=a[1],p=a[2]):c>=240&&c<300?(u=(l=[m,0,v])[0],d=l[1],p=l[2]):(u=(s=[v,0,m])[0],d=s[1],p=s[2]),[255*(u+g),255*(d+g),255*(p+g)]}function qe(e,t,n){var i=G(e/255,0,1),o=G(t/255,0,1),r=G(n/255,0,1),a=Math.max(i,o,r),l=a-Math.min(i,o,r);return[0===l?0:a===i?((o-r)/l%6+6)%6*60:a===o?60*((r-i)/l+2):60*((i-o)/l+4),100*(0===a?0:l/a),100*a]}function Ge(e,t,n){var i,o,r,a,l,s,u,d,p,c=$(e,360),h=G(t/100,0,1),f=G(n/100,0,1),v=f*h,m=v*(1-Math.abs(c/60%2-1)),g=f-v;return c>=0&&c<60?(u=(i=[v,m,0])[0],d=i[1],p=i[2]):c>=60&&c<120?(u=(o=[m,v,0])[0],d=o[1],p=o[2]):c>=120&&c<180?(u=(r=[0,v,m])[0],d=r[1],p=r[2]):c>=180&&c<240?(u=(a=[0,m,v])[0],d=a[1],p=a[2]):c>=240&&c<300?(u=(l=[m,0,v])[0],d=l[1],p=l[2]):(u=(s=[v,0,m])[0],d=s[1],p=s[2]),[255*(u+g),255*(d+g),255*(p+g)]}function $e(e){return[e[0],e[1],e[2]]}var Xe={hsl:{hsl:function(e,t,n){return[e,t,n]},hsv:function(e,t,n){var i=Ye(e,t,n);return qe(i[0],i[1],i[2])},rgb:Ye},hsv:{hsl:function(e,t,n){var i=Ge(e,t,n);return Re(i[0],i[1],i[2])},hsv:function(e,t,n){return[e,t,n]},rgb:Ge},rgb:{hsl:Re,hsv:qe,rgb:function(e,t,n){return[e,t,n]}}};var We={hsl:function(e){return[$(e[0],360),G(e[1],0,100),G(e[2],0,100),G(v.getOrDefault(e[3],1),0,1)]},hsv:function(e){return[$(e[0],360),G(e[1],0,100),G(e[2],0,100),G(v.getOrDefault(e[3],1),0,1)]},rgb:function(e){return[G(e[0],0,255),G(e[1],0,255),G(e[2],0,255),G(v.getOrDefault(e[3],1),0,1)]}};function Qe(e,t){return"object"==typeof e&&!v.isEmpty(e)&&(t in e&&"number"==typeof e[t])}var Ze=function(){function e(e,t){this.mode_=t,this.comps_=We[t](e)}return e.fromObject=function(t){return new e("a"in t?[t.r,t.g,t.b,t.a]:[t.r,t.g,t.b],"rgb")},e.toRgbaObject=function(e){return e.toRgbaObject()},e.isRgbColorObject=function(e){return Qe(e,"r")&&Qe(e,"g")&&Qe(e,"b")},e.isRgbaColorObject=function(e){return this.isRgbColorObject(e)&&Qe(e,"a")},e.isColorObject=function(e){return this.isRgbColorObject(e)},e.equals=function(e,t){if(e.mode_!==t.mode_)return!1;for(var n=e.comps_,i=t.comps_,o=0;o<n.length;o++)if(n[o]!==i[o])return!1;return!0},Object.defineProperty(e.prototype,"mode",{get:function(){return this.mode_},enumerable:!1,configurable:!0}),e.prototype.getComponents=function(e){return i=$e(this.comps_),o=this.mode_,r=e||this.mode_,t=(a=Xe[o])[r].apply(a,i),n=this.comps_[3],[t[0],t[1],t[2],n];var t,n,i,o,r,a},e.prototype.toRgbaObject=function(){var e=this.getComponents("rgb");return{r:e[0],g:e[1],b:e[2],a:e[3]}},e}();function Je(e,t){var n=e.match(/^(.+)%$/);return n?Math.min(.01*parseFloat(n[1])*t,t):Math.min(parseFloat(e),t)}var et={deg:function(e){return e},grad:function(e){return 360*e/400},rad:function(e){return 360*e/(2*Math.PI)},turn:function(e){return 360*e}};function tt(e){var t=e.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);if(!t)return parseFloat(e);var n=parseFloat(t[1]),i=t[2];return et[i](n)}var nt={"func.rgb":function(e){var t=e.match(/^rgb\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;var n=[Je(t[1],255),Je(t[2],255),Je(t[3],255)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:new Ze(n,"rgb")},"func.rgba":function(e){var t=e.match(/^rgba\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;var n=[Je(t[1],255),Je(t[2],255),Je(t[3],255),Je(t[4],1)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:new Ze(n,"rgb")},"func.hsl":function(e){var t=e.match(/^hsl\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;var n=[tt(t[1]),Je(t[2],100),Je(t[3],100)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:new Ze(n,"hsl")},"func.hsla":function(e){var t=e.match(/^hsla\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;var n=[tt(t[1]),Je(t[2],100),Je(t[3],100),Je(t[4],1)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:new Ze(n,"hsl")},"hex.rgb":function(e){var t=e.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(t)return new Ze([parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)],"rgb");var n=e.match(/^#([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return n?new Ze([parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)],"rgb"):null},"hex.rgba":function(e){var t=e.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(t)return new Ze([parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16),Y(parseInt(t[4]+t[4],16),0,255,0,1)],"rgb");var n=e.match(/^#?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return n?new Ze([parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16),Y(parseInt(n[4],16),0,255,0,1)],"rgb"):null}};function it(e){return Object.keys(nt).reduce((function(t,n){return t||((0,nt[n])(e)?n:null)}),null)}var ot=function(e){var t=it(e);return t?nt[t](e):null};function rt(e){return"func.hsla"===e||"func.rgba"===e||"hex.rgba"===e}function at(){return new Ze([0,0,0],"rgb")}function lt(e){if("string"==typeof e){var t=ot(e);if(t)return t}return at()}function st(e){return Ze.isColorObject(e)?Ze.fromObject(e):at()}function ut(e){if("number"==typeof e){var t=new Ze([(n=e)>>16&255,n>>8&255,255&n],"rgb");if(t)return t}var n;return at()}function dt(e){if("number"==typeof e){var t=new Ze([(n=e)>>24&255,n>>16&255,n>>8&255,Y(255&n,0,255,0,1)],"rgb");if(t)return t}var n;return at()}function pt(e){var t=G(Math.floor(e),0,255).toString(16);return 1===t.length?"0"+t:t}function ct(e){return"#"+$e(e.getComponents("rgb")).map(pt).join("")}function ht(e){var t=e.getComponents("rgb");return"#"+[t[0],t[1],t[2],255*t[3]].map(pt).join("")}function ft(e){var t=new Te(0);return"rgb("+$e(e.getComponents("rgb")).map((function(e){return t.format(e)})).join(", ")+")"}function vt(e){var t=new Te(2),n=new Te(0);return"rgba("+e.getComponents("rgb").map((function(e,i){return(3===i?t:n).format(e)})).join(", ")+")"}var mt={"func.hsl":function(e){var t=[new Te(0),new Ke,new Ke];return"hsl("+$e(e.getComponents("hsl")).map((function(e,n){return t[n].format(e)})).join(", ")+")"},"func.hsla":function(e){var t=[new Te(0),new Ke,new Ke,new Te(2)];return"hsla("+e.getComponents("hsl").map((function(e,n){return t[n].format(e)})).join(", ")+")"},"func.rgb":ft,"func.rgba":vt,"hex.rgb":ct,"hex.rgba":ht};function gt(e){return $e(e.getComponents("rgb")).reduce((function(e,t){return e<<8|255&Math.floor(t)}),0)}function bt(e){return e.getComponents("rgb").reduce((function(e,t,n){return e<<8|255&Math.floor(3===n?255*t:t)}),0)}var _t=l("csw","input"),wt=function(e){function n(t,n){var i=e.call(this,t,n)||this;if(null===i.element)throw u.alreadyDisposed();i.onValueChange_=i.onValueChange_.bind(i),n.value.emitter.on("change",i.onValueChange_),i.value=n.value,i.element.classList.add(_t());var o=t.createElement("div");o.classList.add(_t("sw")),i.element.appendChild(o),i.swatchElem_=o;var r=t.createElement("button");r.classList.add(_t("b")),i.element.appendChild(r),i.buttonElem_=r;var a=t.createElement("div");return a.classList.add(_t("p")),i.pickerView_=n.pickerInputView,a.appendChild(i.pickerView_.element),i.element.appendChild(a),i.update(),n.model.emitter.on("dispose",(function(){i.buttonElem_=s(i.buttonElem_),i.swatchElem_=s(i.swatchElem_)})),i}return t(n,e),Object.defineProperty(n.prototype,"buttonElement",{get:function(){if(null===this.buttonElem_)throw u.alreadyDisposed();return this.buttonElem_},enumerable:!1,configurable:!0}),n.prototype.update=function(){if(!this.swatchElem_)throw u.alreadyDisposed();var e=this.value.rawValue;this.swatchElem_.style.backgroundColor=ht(e)},n.prototype.onValueChange_=function(){this.update()},n}(p),yt=function(){function e(){this.emitter=new i,this.expanded_=!1}return Object.defineProperty(e.prototype,"expanded",{get:function(){return this.expanded_},set:function(e){this.expanded_!==e&&(this.expanded_=e,this.emitter.emit("change",{sender:this}))},enumerable:!1,configurable:!0}),e}();var xt=function(e){var t=parseFloat(e);return isNaN(t)?null:t},Et=l("clp","input"),Ct=function(e){function n(t,n){var i=e.call(this,t,n)||this;i.onFoldableChange_=i.onFoldableChange_.bind(i),i.onValueChange_=i.onValueChange_.bind(i),i.pickedColor=n.pickedColor,i.pickedColor.value.emitter.on("change",i.onValueChange_),i.foldable=n.foldable,i.foldable.emitter.on("change",i.onFoldableChange_),i.element.classList.add(Et());var o=t.createElement("div");o.classList.add(Et("hsv"));var r=t.createElement("div");r.classList.add(Et("sv")),i.svPaletteView_=n.svPaletteInputView,r.appendChild(i.svPaletteView_.element),o.appendChild(r);var a=t.createElement("div");a.classList.add(Et("h")),i.hPaletteView_=n.hPaletteInputView,a.appendChild(i.hPaletteView_.element),o.appendChild(a),i.element.appendChild(o);var l=t.createElement("div");if(l.classList.add(Et("rgb")),i.compTextsView_=n.componentTextsView,l.appendChild(i.compTextsView_.element),i.element.appendChild(l),n.alphaInputViews){i.alphaViews_={palette:n.alphaInputViews.palette,text:n.alphaInputViews.text};var s=t.createElement("div");s.classList.add(Et("a"));var u=t.createElement("div");u.classList.add(Et("ap")),u.appendChild(i.alphaViews_.palette.element),s.appendChild(u);var d=t.createElement("div");d.classList.add(Et("at")),d.appendChild(i.alphaViews_.text.element),s.appendChild(d),i.element.appendChild(s)}return i.update(),i}return t(n,e),Object.defineProperty(n.prototype,"allFocusableElements",{get:function(){var e=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],a=0,l=r.length;a<l;a++,o++)i[o]=r[a];return i}([this.svPaletteView_.element,this.hPaletteView_.element],this.compTextsView_.inputElements);return this.alphaViews_&&e.push(this.alphaViews_.palette.element,this.alphaViews_.text.inputElement),v.forceCast(e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){return this.pickedColor.value},enumerable:!1,configurable:!0}),n.prototype.update=function(){this.foldable.expanded?this.element.classList.add(Et(void 0,"expanded")):this.element.classList.remove(Et(void 0,"expanded"))},n.prototype.onValueChange_=function(){this.update()},n.prototype.onFoldableChange_=function(){this.update()},n}(p);function kt(e,t){var n=t.ownerDocument.defaultView,i=t.getBoundingClientRect();return[e.pageX-((n&&n.scrollX||0)+i.left),e.pageY-((n&&n.scrollY||0)+i.top)]}var Vt=function(){function e(e,t){this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.document=e,this.element=t,this.emitter=new i,this.pressed_=!1,b(this.document)?(t.addEventListener("touchstart",this.onTouchStart_),t.addEventListener("touchmove",this.onTouchMove_)):(t.addEventListener("mousedown",this.onMouseDown_),this.document.addEventListener("mousemove",this.onDocumentMouseMove_),this.document.addEventListener("mouseup",this.onDocumentMouseUp_))}return e.prototype.computePosition_=function(e,t){var n=this.element.getBoundingClientRect();return{px:e/n.width,py:t/n.height}},e.prototype.onMouseDown_=function(e){var t;e.preventDefault(),null===(t=e.currentTarget)||void 0===t||t.focus(),this.pressed_=!0,this.emitter.emit("down",{data:this.computePosition_.apply(this,kt(e,this.element)),sender:this})},e.prototype.onDocumentMouseMove_=function(e){this.pressed_&&this.emitter.emit("move",{data:this.computePosition_.apply(this,kt(e,this.element)),sender:this})},e.prototype.onDocumentMouseUp_=function(e){this.pressed_&&(this.pressed_=!1,this.emitter.emit("up",{data:this.computePosition_.apply(this,kt(e,this.element)),sender:this}))},e.prototype.onTouchStart_=function(e){e.preventDefault();var t=e.targetTouches[0],n=this.element.getBoundingClientRect();this.emitter.emit("down",{data:this.computePosition_(t.clientX-n.left,t.clientY-n.top),sender:this})},e.prototype.onTouchMove_=function(e){var t=e.targetTouches[0],n=this.element.getBoundingClientRect();this.emitter.emit("move",{data:this.computePosition_(t.clientX-n.left,t.clientY-n.top),sender:this})},e}(),Mt=l("apl","input"),Pt=function(e){function n(t,n){var i=e.call(this,t,n)||this;i.onValueChange_=i.onValueChange_.bind(i),i.value=n.value,i.value.emitter.on("change",i.onValueChange_),i.element.classList.add(Mt()),i.element.tabIndex=0;var o=t.createElement("div");o.classList.add(Mt("b")),i.element.appendChild(o);var r=t.createElement("div");r.classList.add(Mt("c")),o.appendChild(r),i.colorElem_=r;var a=t.createElement("div");a.classList.add(Mt("m")),i.element.appendChild(a),i.markerElem_=a;var l=t.createElement("div");return l.classList.add(Mt("p")),i.markerElem_.appendChild(l),i.previewElem_=l,i.update(),n.model.emitter.on("dispose",(function(){i.colorElem_=s(i.colorElem_),i.markerElem_=s(i.markerElem_)})),i}return t(n,e),n.prototype.update=function(){if(!this.markerElem_||!this.previewElem_||!this.colorElem_)throw u.alreadyDisposed();var e=this.value.rawValue,t=e.getComponents("rgb"),n=new Ze([t[0],t[1],t[2],0],"rgb"),i=new Ze([t[0],t[1],t[2],255],"rgb"),o=["to right",vt(n),vt(i)];this.colorElem_.style.background="linear-gradient("+o.join(",")+")",this.previewElem_.style.backgroundColor=vt(e);var r=Y(t[3],0,1,0,100);this.markerElem_.style.left=r+"%"},n.prototype.onValueChange_=function(){this.update()},n}(p),Lt=function(){function e(e,t){this.onKeyDown_=this.onKeyDown_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=t.value,this.viewModel=t.viewModel,this.view=new Pt(e,{model:this.viewModel,value:this.value}),this.ptHandler_=new Vt(e,this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_)}return e.prototype.handlePointerEvent_=function(e){var t=e.px,n=this.value.rawValue.getComponents("hsv"),i=n[0],o=n[1],r=n[2];this.value.rawValue=new Ze([i,o,r,t],"hsv"),this.view.update()},e.prototype.onPointerDown_=function(e){this.handlePointerEvent_(e.data)},e.prototype.onPointerMove_=function(e){this.handlePointerEvent_(e.data)},e.prototype.onPointerUp_=function(e){this.handlePointerEvent_(e.data)},e.prototype.onKeyDown_=function(e){var t=Z(oe(!0),ee(e)),n=this.value.rawValue.getComponents("hsv"),i=n[0],o=n[1],r=n[2],a=n[3];this.value.rawValue=new Ze([i,o,r,a+t],"hsv")},e}(),It=l("cctxts","input"),Dt=new Te(0);var Ot=function(e){function n(t,n){var i=e.call(this,t,n)||this;i.onValueChange_=i.onValueChange_.bind(i),i.element.classList.add(It());var o=t.createElement("div");o.classList.add(It("m")),i.modeSelectElement=function(e){var t=e.createElement("select");return t.appendChild([{text:"RGB",value:"rgb"},{text:"HSL",value:"hsl"},{text:"HSV",value:"hsv"}].reduce((function(t,n){var i=e.createElement("option");return i.textContent=n.text,i.value=n.value,t.appendChild(i),t}),e.createDocumentFragment())),t}(t),i.modeSelectElement.classList.add(It("ms")),o.appendChild(i.modeSelectElement);var r=t.createElement("div");r.classList.add(It("mm")),o.appendChild(r),i.element.appendChild(o);var a=t.createElement("div");a.classList.add(It("w")),i.element.appendChild(a);var l=[0,1,2].map((function(){var e=t.createElement("input");return e.classList.add(It("i")),e.type="text",e}));return l.forEach((function(e){a.appendChild(e)})),i.inputElems_=[l[0],l[1],l[2]],i.pickedColor=n.pickedColor,i.pickedColor.emitter.on("change",i.onValueChange_),i.update(),n.model.emitter.on("dispose",(function(){i.inputElems_&&(i.inputElems_.forEach((function(e){s(e)})),i.inputElems_=null)})),i}return t(n,e),Object.defineProperty(n.prototype,"inputElements",{get:function(){if(!this.inputElems_)throw u.alreadyDisposed();return this.inputElems_},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){return this.pickedColor.value},enumerable:!1,configurable:!0}),n.prototype.update=function(){var e=this.inputElems_;if(!e)throw u.alreadyDisposed();this.pickedColor.value.rawValue.getComponents(this.pickedColor.mode).forEach((function(t,n){var i=e[n];i&&(i.value=Dt.format(t))}))},n.prototype.onValueChange_=function(){this.update()},n}(p),Ft=function(){function e(e,t){var n=this;this.onModeSelectChange_=this.onModeSelectChange_.bind(this),this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.parser_=t.parser,this.pickedColor=t.pickedColor,this.viewModel=t.viewModel,this.view=new Ot(e,{model:this.viewModel,pickedColor:this.pickedColor}),this.view.inputElements.forEach((function(e){e.addEventListener("change",n.onInputChange_),e.addEventListener("keydown",n.onInputKeyDown_)})),this.view.modeSelectElement.addEventListener("change",this.onModeSelectChange_)}return Object.defineProperty(e.prototype,"value",{get:function(){return this.pickedColor.value},enumerable:!1,configurable:!0}),e.prototype.findIndexOfInputElem_=function(e){for(var t=this.view.inputElements,n=0;n<t.length;n++)if(t[n]===e)return n;return null},e.prototype.updateComponent_=function(e,t){var n=this.pickedColor.mode,i=this.value.rawValue.getComponents(n).map((function(n,i){return i===e?t:n}));this.value.rawValue=new Ze(i,n),this.view.update()},e.prototype.onInputChange_=function(e){var t=v.forceCast(e.currentTarget),n=this.parser_(t.value);if(!v.isEmpty(n)){var i=this.findIndexOfInputElem_(t);v.isEmpty(i)||this.updateComponent_(i,n)}},e.prototype.onInputKeyDown_=function(e){var t=this.findIndexOfInputElem_(e.currentTarget),n=Z(oe(3===t),J(e));if(0!==n){var i=v.forceCast(e.currentTarget),o=this.parser_(i.value);v.isEmpty(o)||v.isEmpty(t)||this.updateComponent_(t,o+n)}},e.prototype.onModeSelectChange_=function(e){var t=e.currentTarget;this.pickedColor.mode=t.value},e}(),jt=l("hpl","input"),zt=function(e){function n(t,n){var i=e.call(this,t,n)||this;i.onValueChange_=i.onValueChange_.bind(i),i.value=n.value,i.value.emitter.on("change",i.onValueChange_),i.element.classList.add(jt()),i.element.tabIndex=0;var o=t.createElement("div");o.classList.add(jt("c")),i.element.appendChild(o),i.colorElem_=o;var r=t.createElement("div");return r.classList.add(jt("m")),i.element.appendChild(r),i.markerElem_=r,i.update(),n.model.emitter.on("dispose",(function(){i.colorElem_=s(i.colorElem_),i.markerElem_=s(i.markerElem_)})),i}return t(n,e),n.prototype.update=function(){if(!this.markerElem_)throw u.alreadyDisposed();var e=this.value.rawValue.getComponents("hsv")[0];this.markerElem_.style.backgroundColor=ft(new Ze([e,100,100],"hsv"));var t=Y(e,0,360,0,100);this.markerElem_.style.left=t+"%"},n.prototype.onValueChange_=function(){this.update()},n}(p),At=function(){function e(e,t){this.onKeyDown_=this.onKeyDown_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=t.value,this.viewModel=t.viewModel,this.view=new zt(e,{model:this.viewModel,value:this.value}),this.ptHandler_=new Vt(e,this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_)}return e.prototype.handlePointerEvent_=function(e){var t=Y(e.px,0,1,0,360),n=this.value.rawValue.getComponents("hsv"),i=n[1],o=n[2],r=n[3];this.value.rawValue=new Ze([t,i,o,r],"hsv"),this.view.update()},e.prototype.onPointerDown_=function(e){this.handlePointerEvent_(e.data)},e.prototype.onPointerMove_=function(e){this.handlePointerEvent_(e.data)},e.prototype.onPointerUp_=function(e){this.handlePointerEvent_(e.data)},e.prototype.onKeyDown_=function(e){var t=Z(oe(!1),ee(e)),n=this.value.rawValue.getComponents("hsv"),i=n[0],o=n[1],r=n[2],a=n[3];this.value.rawValue=new Ze([i+t,o,r,a],"hsv")},e}(),St=l("txt","input"),Nt=function(e){function n(t,n){var i=e.call(this,t,n)||this;i.onValueChange_=i.onValueChange_.bind(i),i.formatter_=n.formatter,i.element.classList.add(St());var o=t.createElement("input");return o.classList.add(St("i")),o.type="text",i.element.appendChild(o),i.inputElem_=o,n.value.emitter.on("change",i.onValueChange_),i.value=n.value,i.update(),n.model.emitter.on("dispose",(function(){i.inputElem_=s(i.inputElem_)})),i}return t(n,e),Object.defineProperty(n.prototype,"inputElement",{get:function(){if(!this.inputElem_)throw u.alreadyDisposed();return this.inputElem_},enumerable:!1,configurable:!0}),n.prototype.update=function(){if(!this.inputElem_)throw u.alreadyDisposed();this.inputElem_.value=this.formatter_.format(this.value.rawValue)},n.prototype.onValueChange_=function(){this.update()},n}(p),Ut=function(){function e(e,t){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=t.parser,this.value=t.value,this.viewModel=t.viewModel,this.view=new Nt(e,{formatter:t.formatter,model:this.viewModel,value:this.value}),this.view.inputElement.addEventListener("change",this.onInputChange_)}return e.prototype.onInputChange_=function(e){var t=v.forceCast(e.currentTarget).value,n=this.parser_(t);v.isEmpty(n)||(this.value.rawValue=n),this.view.update()},e}(),Bt=function(e){function n(t,n){var i=e.call(this,t,n)||this;return i.onInputKeyDown_=i.onInputKeyDown_.bind(i),i.step_=v.getOrDefault(n.step,Q(i.value.constraint)),i.view.inputElement.addEventListener("keydown",i.onInputKeyDown_),i}return t(n,e),n.prototype.onInputKeyDown_=function(e){var t=Z(this.step_,J(e));0!==t&&(this.value.rawValue+=t,this.view.update())},n}(Ut),Tt=l("svp","input"),Ht=function(e){function n(t,n){var i=e.call(this,t,n)||this;i.onValueChange_=i.onValueChange_.bind(i),i.value=n.value,i.value.emitter.on("change",i.onValueChange_),i.element.classList.add(Tt()),i.element.tabIndex=0;var o=t.createElement("canvas");o.height=64,o.width=64,o.classList.add(Tt("c")),i.element.appendChild(o),i.canvasElem_=o;var r=t.createElement("div");return r.classList.add(Tt("m")),i.element.appendChild(r),i.markerElem_=r,i.update(),n.model.emitter.on("dispose",(function(){i.canvasElem_=s(i.canvasElem_),i.markerElem_=s(i.markerElem_)})),i}return t(n,e),Object.defineProperty(n.prototype,"canvasElement",{get:function(){if(!this.canvasElem_)throw u.alreadyDisposed();return this.canvasElem_},enumerable:!1,configurable:!0}),n.prototype.update=function(){if(!this.markerElem_)throw u.alreadyDisposed();var e=w(this.canvasElement);if(e){for(var t=this.value.rawValue.getComponents("hsv"),n=this.canvasElement.width,i=this.canvasElement.height,o=e.getImageData(0,0,n,i),r=o.data,a=0;a<i;a++)for(var l=0;l<n;l++){var s=Y(l,0,n,0,100),d=Y(a,0,i,100,0),p=Ge(t[0],s,d),c=4*(a*n+l);r[c]=p[0],r[c+1]=p[1],r[c+2]=p[2],r[c+3]=255}e.putImageData(o,0,0);var h=Y(t[1],0,100,0,100);this.markerElem_.style.left=h+"%";var f=Y(t[2],0,100,100,0);this.markerElem_.style.top=f+"%"}},n.prototype.onValueChange_=function(){this.update()},n}(p),Kt=function(){function e(e,t){this.onKeyDown_=this.onKeyDown_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=t.value,this.viewModel=t.viewModel,this.view=new Ht(e,{model:this.viewModel,value:this.value}),this.ptHandler_=new Vt(e,this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_)}return e.prototype.handlePointerEvent_=function(e){var t=Y(e.px,0,1,0,100),n=Y(e.py,0,1,100,0),i=this.value.rawValue.getComponents("hsv"),o=i[0],r=i[3];this.value.rawValue=new Ze([o,t,n,r],"hsv"),this.view.update()},e.prototype.onPointerDown_=function(e){this.handlePointerEvent_(e.data)},e.prototype.onPointerMove_=function(e){this.handlePointerEvent_(e.data)},e.prototype.onPointerUp_=function(e){this.handlePointerEvent_(e.data)},e.prototype.onKeyDown_=function(e){te(e.keyCode)&&e.preventDefault();var t=this.value.rawValue.getComponents("hsv"),n=t[0],i=t[1],o=t[2],r=t[3],a=oe(!1);this.value.rawValue=new Ze([n,i+Z(a,ee(e)),o+Z(a,J(e)),r],"hsv")},e}(),Rt=function(){function e(e,t){var n,i,o,r=this;this.triggerElement=null,this.onFocusableElementBlur_=this.onFocusableElementBlur_.bind(this),this.onKeyDown_=this.onKeyDown_.bind(this),this.pickedColor=t.pickedColor,this.foldable=new yt,this.viewModel=t.viewModel,this.hPaletteIc_=new At(e,{value:this.pickedColor.value,viewModel:this.viewModel}),this.svPaletteIc_=new Kt(e,{value:this.pickedColor.value,viewModel:this.viewModel}),this.alphaIcs_=t.supportsAlpha?{palette:new Lt(e,{value:this.pickedColor.value,viewModel:this.viewModel}),text:new Bt(e,{formatter:new Te(2),parser:xt,step:.1,value:new ce(0),viewModel:this.viewModel})}:null,this.alphaIcs_&&(n={primary:{apply:function(e,t){t.rawValue=e.value.rawValue.getComponents()[3]},emitter:function(e){return e.value.emitter},value:this.pickedColor},secondary:{apply:function(e,t){var n=t.value.rawValue.getComponents();n[3]=e.rawValue,t.value.rawValue=new Ze(n,t.value.rawValue.mode)},emitter:function(e){return e.emitter},value:this.alphaIcs_.text.value}},i=n.primary,o=n.secondary,i.emitter(i.value).on("change",(function(){i.apply(i.value,o.value)})),o.emitter(o.value).on("change",(function(){o.apply(o.value,i.value)})),i.apply(i.value,o.value)),this.compTextsIc_=new Ft(e,{parser:xt,pickedColor:this.pickedColor,viewModel:this.viewModel}),this.view=new Ct(e,{alphaInputViews:this.alphaIcs_?{palette:this.alphaIcs_.palette.view,text:this.alphaIcs_.text.view}:null,componentTextsView:this.compTextsIc_.view,foldable:this.foldable,hPaletteInputView:this.hPaletteIc_.view,model:this.viewModel,pickedColor:this.pickedColor,supportsAlpha:t.supportsAlpha,svPaletteInputView:this.svPaletteIc_.view}),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.allFocusableElements.forEach((function(e){e.addEventListener("blur",r.onFocusableElementBlur_)}))}return Object.defineProperty(e.prototype,"value",{get:function(){return this.pickedColor.value},enumerable:!1,configurable:!0}),e.prototype.onFocusableElementBlur_=function(e){var t=this.view.element,n=E(e);n&&t.contains(n)||n&&n===this.triggerElement&&!b(t.ownerDocument)||(this.foldable.expanded=!1)},e.prototype.onKeyDown_=function(e){27===e.keyCode&&(this.foldable.expanded=!1)},e}(),Yt=function(){function e(e,t){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.value=t.value,this.viewModel=t.viewModel,this.pickerIc_=new Rt(e,{pickedColor:new Be(this.value),supportsAlpha:t.supportsAlpha,viewModel:this.viewModel}),this.view=new wt(e,{model:this.viewModel,pickerInputView:this.pickerIc_.view,value:this.value}),this.view.buttonElement.addEventListener("blur",this.onButtonBlur_),this.view.buttonElement.addEventListener("click",this.onButtonClick_),this.pickerIc_.triggerElement=this.view.buttonElement}return e.prototype.onButtonBlur_=function(e){var t=this.view.element,n=v.forceCast(e.relatedTarget);n&&t.contains(n)||(this.pickerIc_.foldable.expanded=!1)},e.prototype.onButtonClick_=function(){this.pickerIc_.foldable.expanded=!this.pickerIc_.foldable.expanded,this.pickerIc_.foldable.expanded&&this.pickerIc_.view.allFocusableElements[0].focus()},e}(),qt=function(e,t){this.value=t.value,this.viewModel=t.viewModel,this.swatchIc_=new Yt(e,{supportsAlpha:t.supportsAlpha,value:this.value,viewModel:this.viewModel}),this.textIc_=new Ut(e,{formatter:t.formatter,parser:t.parser,value:this.value,viewModel:this.viewModel}),this.view=new Ue(e,{swatchInputView:this.swatchIc_.view,textInputView:this.textIc_.view,model:this.viewModel})},Gt=function(){function e(e){this.stringifier_=e}return e.prototype.format=function(e){return this.stringifier_(e)},e}();function $t(e){return"input"in e&&"color.rgba"===e.input}var Xt={model:{accept:function(e,t){return"number"!=typeof e?null:"input"in t?"color"!==t.input&&"color.rgb"!==t.input&&"color.rgba"!==t.input?null:e:null},reader:function(e){return $t(e.params)?dt:ut},writer:function(e){return $t(e.params)?bt:gt},equals:Ze.equals},controller:function(e){var t=$t(e.params),n=new Gt(t?ht:ct);return new qt(e.document,{formatter:n,parser:ot,supportsAlpha:t,value:e.binding.value,viewModel:new le})}},Wt={model:{accept:function(e,t){return Ze.isColorObject(e)?e:null},reader:function(e){return st},writer:function(e){return Ze.toRgbaObject},equals:Ze.equals},controller:function(e){var t=Ze.isRgbaColorObject(e.initialValue),n=new Gt(t?ht:ct);return new qt(e.document,{viewModel:new le,formatter:n,parser:ot,supportsAlpha:t,value:e.binding.value})}},Qt={model:{accept:function(e,t){return"string"!=typeof e||"input"in t&&"string"===t.input?null:it(e)?e:null},reader:function(e){return lt},writer:function(e){var t=it(e.initialValue);if(!t)throw u.shouldNeverHappen();return function(e){return mt[e]}(t)},equals:Ze.equals},controller:function(e){var t=it(e.initialValue);if(!t)throw u.shouldNeverHappen();return new qt(e.document,{formatter:new Gt(e.binding.writer),parser:ot,supportsAlpha:rt(t),value:e.binding.value,viewModel:new le})}},Zt=l("sldtxt","input"),Jt=function(e){function n(t,n){var i=e.call(this,t,n)||this;i.element.classList.add(Zt());var o=t.createElement("div");o.classList.add(Zt("s")),i.sliderInputView_=n.sliderInputView,o.appendChild(i.sliderInputView_.element),i.element.appendChild(o);var r=t.createElement("div");return r.classList.add(Zt("t")),i.textInputView_=n.textInputView,r.appendChild(i.textInputView_.element),i.element.appendChild(r),i}return t(n,e),Object.defineProperty(n.prototype,"value",{get:function(){return this.sliderInputView_.value},enumerable:!1,configurable:!0}),n.prototype.update=function(){this.sliderInputView_.update(),this.textInputView_.update()},n}(p),en=l("sld","input"),tn=function(e){function n(t,n){var i=e.call(this,t,n)||this;i.onValueChange_=i.onValueChange_.bind(i),i.minValue_=n.minValue,i.maxValue_=n.maxValue,i.element.classList.add(en());var o=t.createElement("div");o.classList.add(en("o")),o.tabIndex=0,i.element.appendChild(o),i.outerElem_=o;var r=t.createElement("div");return r.classList.add(en("i")),i.outerElem_.appendChild(r),i.innerElem_=r,n.value.emitter.on("change",i.onValueChange_),i.value=n.value,i.update(),n.model.emitter.on("dispose",(function(){i.innerElem_=s(i.innerElem_),i.outerElem_=s(i.outerElem_)})),i}return t(n,e),Object.defineProperty(n.prototype,"outerElement",{get:function(){if(!this.outerElem_)throw u.alreadyDisposed();return this.outerElem_},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"innerElement",{get:function(){if(!this.innerElem_)throw u.alreadyDisposed();return this.innerElem_},enumerable:!1,configurable:!0}),n.prototype.update=function(){if(!this.innerElem_)throw u.alreadyDisposed();var e=G(Y(this.value.rawValue,this.minValue_,this.maxValue_,0,100),0,100);this.innerElem_.style.width=e+"%"},n.prototype.onValueChange_=function(){this.update()},n}(p);function nn(e){var t=function(e){var t=e.constraint?R(e.constraint,T):null;return t?[t.minValue,t.maxValue]:[void 0,void 0]}(e),n=t[0],i=t[1];return[v.getOrDefault(n,0),v.getOrDefault(i,100)]}var on=function(){function e(e,t){this.onKeyDown_=this.onKeyDown_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=t.value,this.step_=Q(this.value.constraint);var n=nn(this.value),i=n[0],o=n[1];this.minValue_=i,this.maxValue_=o,this.viewModel=t.viewModel,this.view=new tn(e,{maxValue:this.maxValue_,minValue:this.minValue_,model:this.viewModel,value:this.value}),this.ptHandler_=new Vt(e,this.view.outerElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.outerElement.addEventListener("keydown",this.onKeyDown_)}return e.prototype.handlePointerEvent_=function(e){this.value.rawValue=Y(e.px,0,1,this.minValue_,this.maxValue_)},e.prototype.onPointerDown_=function(e){this.handlePointerEvent_(e.data)},e.prototype.onPointerMove_=function(e){this.handlePointerEvent_(e.data)},e.prototype.onPointerUp_=function(e){this.handlePointerEvent_(e.data)},e.prototype.onKeyDown_=function(e){this.value.rawValue+=Z(this.step_,ee(e))},e}(),rn=function(){function e(e,t){this.value_=t.value,this.viewModel=t.viewModel,this.sliderIc_=new on(e,{value:t.value,viewModel:this.viewModel}),this.textIc_=new Bt(e,{formatter:t.formatter,parser:t.parser,value:t.value,viewModel:this.viewModel}),this.view_=new Jt(e,{model:this.viewModel,sliderInputView:this.sliderIc_.view,textInputView:this.textIc_.view})}return Object.defineProperty(e.prototype,"value",{get:function(){return this.value_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"view",{get:function(){return this.view_},enumerable:!1,configurable:!0}),e}();function an(e){if("number"==typeof e)return e;if("string"==typeof e){var t=xt(e);if(!v.isEmpty(t))return t}return 0}function ln(e){return String(e)}var sn={model:{accept:function(e){return"number"==typeof e?e:null},reader:function(e){return an},writer:function(e){return function(e){return e}},constraint:function(e){return t=e.params,n=[],"step"in t&&!v.isEmpty(t.step)&&n.push(new H({step:t.step})),("max"in t&&!v.isEmpty(t.max)||"min"in t&&!v.isEmpty(t.min))&&n.push(new T({max:t.max,min:t.min})),"options"in t&&void 0!==t.options&&n.push(new Pe({options:X(t.options,an)})),new K({constraints:n});var t,n}},controller:function(e){return t=e.document,n=e.binding.value,(i=n.constraint)&&R(i,Pe)?new je(t,{stringifyValue:ln,value:n,viewModel:new le}):i&&R(i,T)?new rn(t,{formatter:new Te(ne(n.constraint,n.rawValue)),parser:xt,value:n,viewModel:new le}):new Bt(t,{formatter:new Te(ne(n.constraint,n.rawValue)),parser:xt,value:n,viewModel:new le});var t,n,i}},un=l("p2dpadtxt","input"),dn=function(e){function n(t,n){var i=e.call(this,t,n)||this;i.element.classList.add(un());var o=t.createElement("div");o.classList.add(un("w")),i.element.appendChild(o);var r=t.createElement("button");r.classList.add(un("b")),r.appendChild(function(e,t){var n=e.createElementNS(m,"svg");return n.innerHTML=y[t],n}(t,"p2dpad")),o.appendChild(r),i.padButtonElem_=r;var a=t.createElement("div");a.classList.add(un("p")),o.appendChild(a),i.padInputView_=n.padInputView,a.appendChild(i.padInputView_.element);var l=t.createElement("div");return l.classList.add(un("t")),i.textInputView_=n.textInputView,l.appendChild(i.textInputView_.element),i.element.appendChild(l),i}return t(n,e),Object.defineProperty(n.prototype,"value",{get:function(){return this.textInputView_.value},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"padButtonElement",{get:function(){return this.padButtonElem_},enumerable:!1,configurable:!0}),n.prototype.update=function(){this.padInputView_.update(),this.textInputView_.update()},n}(p),pn=m,cn=l("p2dpad","input"),hn=function(e){function n(t,n){var i=e.call(this,t,n)||this;i.onFoldableChange_=i.onFoldableChange_.bind(i),i.onValueChange_=i.onValueChange_.bind(i),i.foldable=n.foldable,i.foldable.emitter.on("change",i.onFoldableChange_),i.invertsY_=n.invertsY,i.maxValue_=n.maxValue,i.element.classList.add(cn());var o=t.createElement("div");o.tabIndex=0,o.classList.add(cn("p")),i.element.appendChild(o),i.padElem_=o;var r=t.createElementNS(pn,"svg");r.classList.add(cn("g")),i.padElem_.appendChild(r),i.svgElem_=r;var a=t.createElementNS(pn,"line");a.classList.add(cn("ax")),a.setAttributeNS(null,"x1","0"),a.setAttributeNS(null,"y1","50%"),a.setAttributeNS(null,"x2","100%"),a.setAttributeNS(null,"y2","50%"),i.svgElem_.appendChild(a);var l=t.createElementNS(pn,"line");l.classList.add(cn("ax")),l.setAttributeNS(null,"x1","50%"),l.setAttributeNS(null,"y1","0"),l.setAttributeNS(null,"x2","50%"),l.setAttributeNS(null,"y2","100%"),i.svgElem_.appendChild(l);var u=t.createElementNS(pn,"line");u.classList.add(cn("l")),u.setAttributeNS(null,"x1","50%"),u.setAttributeNS(null,"y1","50%"),i.svgElem_.appendChild(u),i.lineElem_=u;var d=t.createElementNS(pn,"circle");return d.classList.add(cn("m")),d.setAttributeNS(null,"r","2px"),i.svgElem_.appendChild(d),i.markerElem_=d,n.value.emitter.on("change",i.onValueChange_),i.value=n.value,i.update(),n.model.emitter.on("dispose",(function(){i.padElem_=s(i.padElem_)})),i}return t(n,e),Object.defineProperty(n.prototype,"padElement",{get:function(){if(!this.padElem_)throw u.alreadyDisposed();return this.padElem_},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"allFocusableElements",{get:function(){if(!this.padElem_)throw u.alreadyDisposed();return[this.padElem_]},enumerable:!1,configurable:!0}),n.prototype.update=function(){this.foldable.expanded?this.element.classList.add(cn(void 0,"expanded")):this.element.classList.remove(cn(void 0,"expanded"));var e=this.lineElem_,t=this.markerElem_;if(!e||!t)throw u.alreadyDisposed();var n=this.value.rawValue.getComponents(),i=n[0],o=n[1],r=this.maxValue_,a=Y(i,-r,+r,0,100),l=Y(o,-r,+r,0,100),s=this.invertsY_?100-l:l;e.setAttributeNS(null,"x2",a+"%"),e.setAttributeNS(null,"y2",s+"%"),t.setAttributeNS(null,"cx",a+"%"),t.setAttributeNS(null,"cy",s+"%")},n.prototype.onValueChange_=function(){this.update()},n.prototype.onFoldableChange_=function(){this.update()},n}(p),fn=function(){function e(e,t){var n,i,o,r,a,l,s=this;this.triggerElement=null,this.onFocusableElementBlur_=this.onFocusableElementBlur_.bind(this),this.onKeyDown_=this.onKeyDown_.bind(this),this.onPadKeyDown_=this.onPadKeyDown_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=t.value,this.foldable=new yt,this.maxValue_=(n=this.value.constraint,i=this.value.rawValue,o=n instanceof B?n.xConstraint:void 0,r=n instanceof B?n.yConstraint:void 0,a=ie(o,i.x),l=ie(r,i.y),Math.max(a,l)),this.invertsY_=t.invertsY;var u=this.value.constraint;this.xStep_=Q(u instanceof B?u.xConstraint:void 0),this.yStep_=Q(u instanceof B?u.yConstraint:void 0),this.viewModel=t.viewModel,this.view=new hn(e,{foldable:this.foldable,invertsY:this.invertsY_,maxValue:this.maxValue_,model:this.viewModel,value:this.value}),this.ptHandler_=new Vt(e,this.view.padElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.padElement.addEventListener("keydown",this.onPadKeyDown_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.allFocusableElements.forEach((function(e){e.addEventListener("blur",s.onFocusableElementBlur_)}))}return e.prototype.handlePointerEvent_=function(e){var t=this.maxValue_,n=Y(e.px,0,1,-t,+t),i=Y(this.invertsY_?1-e.py:e.py,0,1,-t,+t);this.value.rawValue=new U(n,i),this.view.update()},e.prototype.onPointerDown_=function(e){this.handlePointerEvent_(e.data)},e.prototype.onPointerMove_=function(e){this.handlePointerEvent_(e.data)},e.prototype.onPointerUp_=function(e){this.handlePointerEvent_(e.data)},e.prototype.onPadKeyDown_=function(e){te(e.keyCode)&&e.preventDefault(),this.value.rawValue=new U(this.value.rawValue.x+Z(this.xStep_,ee(e)),this.value.rawValue.y+Z(this.yStep_,J(e))*(this.invertsY_?1:-1))},e.prototype.onFocusableElementBlur_=function(e){var t=this.view.element,n=E(e);n&&t.contains(n)||n&&n===this.triggerElement&&!b(t.ownerDocument)||(this.foldable.expanded=!1)},e.prototype.onKeyDown_=function(e){27===e.keyCode&&(this.foldable.expanded=!1)},e}(),vn=["X","Y"],mn=l("p2dtxt","input"),gn=function(e){function n(t,n){var i=e.call(this,t,n)||this;i.onValueChange_=i.onValueChange_.bind(i),i.formatters_=[n.xFormatter,n.yFormatter],i.element.classList.add(mn());var o=vn.map((function(){var e=t.createElement("input");return e.classList.add(mn("i")),e.type="text",e}));return vn.forEach((function(e,n){var r=t.createElement("div");r.classList.add(mn("w")),r.appendChild(o[n]),i.element.appendChild(r)})),i.inputElems_=[o[0],o[1]],n.value.emitter.on("change",i.onValueChange_),i.value=n.value,i.update(),n.model.emitter.on("dispose",(function(){i.inputElems_&&(i.inputElems_.forEach((function(e){s(e)})),i.inputElems_=null)})),i}return t(n,e),Object.defineProperty(n.prototype,"inputElements",{get:function(){if(!this.inputElems_)throw u.alreadyDisposed();return this.inputElems_},enumerable:!1,configurable:!0}),n.prototype.update=function(){var e=this,t=this.inputElems_;if(!t)throw u.alreadyDisposed();this.value.rawValue.getComponents().forEach((function(n,i){t[i].value=e.formatters_[i].format(n)}))},n.prototype.onValueChange_=function(){this.update()},n}(p),bn=function(){function e(e,t){var n=this;this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.parser_=t.parser,this.value=t.value;var i=this.value.constraint;this.xStep_=Q(i instanceof B?i.xConstraint:void 0),this.yStep_=Q(i instanceof B?i.yConstraint:void 0),this.viewModel=t.viewModel,this.view=new gn(e,{model:this.viewModel,value:this.value,xFormatter:t.xFormatter,yFormatter:t.yFormatter}),this.view.inputElements.forEach((function(e){e.addEventListener("change",n.onInputChange_),e.addEventListener("keydown",n.onInputKeyDown_)}))}return e.prototype.findIndexOfInputElem_=function(e){for(var t=this.view.inputElements,n=0;n<t.length;n++)if(t[n]===e)return n;return null},e.prototype.updateComponent_=function(e,t){var n=this.value.rawValue.getComponents().map((function(n,i){return i===e?t:n}));this.value.rawValue=new U(n[0],n[1]),this.view.update()},e.prototype.onInputChange_=function(e){var t=v.forceCast(e.currentTarget),n=this.parser_(t.value);if(!v.isEmpty(n)){var i=this.findIndexOfInputElem_(t);v.isEmpty(i)||this.updateComponent_(i,n)}},e.prototype.onInputKeyDown_=function(e){var t=v.forceCast(e.currentTarget),n=this.parser_(t.value);if(!v.isEmpty(n)){var i=this.findIndexOfInputElem_(t);if(!v.isEmpty(i)){var o=Z(0===i?this.xStep_:this.yStep_,J(e));0!==o&&this.updateComponent_(i,n+o)}}},e}(),_n=function(){function e(e,t){this.onPadButtonBlur_=this.onPadButtonBlur_.bind(this),this.onPadButtonClick_=this.onPadButtonClick_.bind(this),this.value=t.value,this.viewModel=t.viewModel,this.padIc_=new fn(e,{invertsY:t.invertsY,value:this.value,viewModel:this.viewModel}),this.textIc_=new bn(e,{parser:t.parser,value:this.value,viewModel:this.viewModel,xFormatter:t.xFormatter,yFormatter:t.yFormatter}),this.view=new dn(e,{model:this.viewModel,padInputView:this.padIc_.view,textInputView:this.textIc_.view}),this.view.padButtonElement.addEventListener("blur",this.onPadButtonBlur_),this.view.padButtonElement.addEventListener("click",this.onPadButtonClick_),this.padIc_.triggerElement=this.view.padButtonElement}return e.prototype.onPadButtonBlur_=function(e){var t=this.view.element,n=v.forceCast(e.relatedTarget);n&&t.contains(n)||(this.padIc_.foldable.expanded=!1)},e.prototype.onPadButtonClick_=function(){this.padIc_.foldable.expanded=!this.padIc_.foldable.expanded,this.padIc_.foldable.expanded&&this.padIc_.view.allFocusableElements[0].focus()},e}();function wn(e){return t=e,(U.isObject(t)?new U(t.x,t.y):null)||new U;var t}function yn(e){if(e){var t=[];return v.isEmpty(e.step)||t.push(new H({step:e.step})),v.isEmpty(e.max)&&v.isEmpty(e.min)||t.push(new T({max:e.max,min:e.min})),new K({constraints:t})}}var xn={model:{accept:function(e,t){return U.isObject(e)?e:null},reader:function(e){return wn},writer:function(e){return function(e){return e.toObject()}},constraint:function(e){return t=e.params,new B({x:yn("x"in t?t.x:void 0),y:yn("y"in t?t.y:void 0)});var t},equals:U.equals},controller:function(e){var t="y"in e.params?e.params.y:void 0,n=!!t&&!!t.inverted;return function(e,t,n){var i=t.constraint;if(!(i instanceof B))throw u.shouldNeverHappen();return new _n(e,{invertsY:n,parser:xt,value:t,viewModel:new le,xFormatter:new Te(ne(i.xConstraint,t.rawValue.x)),yFormatter:new Te(ne(i.yConstraint,t.rawValue.y))})}(e.document,e.binding.value,n)}};function En(e){return String(e)}function Cn(e){return e}var kn=function(){function e(){}return e.prototype.format=function(e){return e},e}();var Vn={model:{accept:function(e,t){return"string"==typeof e?e:null},reader:function(e){return En},writer:function(e){return function(e){return e}},constraint:function(e){return t=e.params,n=[],"options"in t&&void 0!==t.options&&n.push(new Pe({options:X(t.options,En)})),new K({constraints:n});var t,n}},controller:function(e){return t=e.document,n=e.binding.value,(i=n.constraint)&&R(i,Pe)?new je(t,{stringifyValue:Cn,value:n,viewModel:new le}):new Ut(t,{formatter:new kn,parser:Cn,value:n,viewModel:new le});var t,n,i}},Mn=l("mll","monitor"),Pn=function(e){function n(t,n){var i=e.call(this,t,n)||this;i.onValueUpdate_=i.onValueUpdate_.bind(i),i.formatter_=n.formatter,i.element.classList.add(Mn());var o=t.createElement("textarea");return o.classList.add(Mn("i")),o.style.height="calc(var(--unit-size) * "+n.lineCount+")",o.readOnly=!0,i.element.appendChild(o),i.textareaElem_=o,n.value.emitter.on("update",i.onValueUpdate_),i.value=n.value,i.update(),n.model.emitter.on("dispose",(function(){i.textareaElem_=s(i.textareaElem_)})),i}return t(n,e),n.prototype.update=function(){var e=this,t=this.textareaElem_;if(!t)throw u.alreadyDisposed();var n=t.scrollTop===t.scrollHeight-t.clientHeight;t.textContent=this.value.rawValues.map((function(t){return e.formatter_.format(t)})).join("\n"),n&&(t.scrollTop=t.scrollHeight)},n.prototype.onValueUpdate_=function(){this.update()},n}(p),Ln=function(e,t){this.value=t.value,this.viewModel=t.viewModel,this.view=new Pn(e,{formatter:t.formatter,lineCount:t.lineCount,model:this.viewModel,value:this.value})},In=l("sgl","monitor"),Dn=function(e){function n(t,n){var i=e.call(this,t,n)||this;i.onValueUpdate_=i.onValueUpdate_.bind(i),i.formatter_=n.formatter,i.element.classList.add(In());var o=t.createElement("input");return o.classList.add(In("i")),o.readOnly=!0,o.type="text",i.element.appendChild(o),i.inputElem_=o,n.value.emitter.on("update",i.onValueUpdate_),i.value=n.value,i.update(),n.model.emitter.on("dispose",(function(){i.inputElem_=s(i.inputElem_)})),i}return t(n,e),n.prototype.update=function(){if(!this.inputElem_)throw u.alreadyDisposed();var e=this.value.rawValues;this.inputElem_.value=e.length>0?this.formatter_.format(e[e.length-1]):""},n.prototype.onValueUpdate_=function(){this.update()},n}(p),On=function(e,t){this.value=t.value,this.viewModel=t.viewModel,this.view=new Dn(e,{formatter:t.formatter,model:this.viewModel,value:this.value})},Fn=function(){function e(){}return e.prototype.format=function(e){return Ae(e)},e}(),jn={model:{accept:function(e,t){return"boolean"==typeof e?e:null},defaultBufferSize:function(e){return 1},reader:function(e){return ze}},controller:function(e){return 1===e.binding.value.bufferSize?new On(e.document,{viewModel:new le,formatter:new Fn,value:e.binding.value}):new Ln(e.document,{viewModel:new le,formatter:new Fn,lineCount:v.getOrDefault(e.params.lineCount,ge.defaultLineCount),value:e.binding.value})}},zn=function(){function e(){this.emitter=new i,this.index_=-1}return Object.defineProperty(e.prototype,"index",{get:function(){return this.index_},set:function(e){this.index_!==e&&(this.index_=e,this.emitter.emit("change",{index:e,sender:this}))},enumerable:!1,configurable:!0}),e}(),An=m,Sn=l("grp","monitor"),Nn=function(e){function n(t,n){var i=e.call(this,t,n)||this;i.onCursorChange_=i.onCursorChange_.bind(i),i.onValueUpdate_=i.onValueUpdate_.bind(i),i.element.classList.add(Sn()),i.formatter_=n.formatter,i.minValue_=n.minValue,i.maxValue_=n.maxValue,i.cursor_=n.cursor,i.cursor_.emitter.on("change",i.onCursorChange_);var o=t.createElementNS(An,"svg");o.classList.add(Sn("g")),o.style.height="calc(var(--unit-size) * "+n.lineCount+")",i.element.appendChild(o),i.svgElem_=o;var r=t.createElementNS(An,"polyline");i.svgElem_.appendChild(r),i.lineElem_=r;var a=t.createElement("div");return a.classList.add(Sn("t")),i.element.appendChild(a),i.tooltipElem_=a,n.value.emitter.on("update",i.onValueUpdate_),i.value=n.value,i.update(),n.model.emitter.on("dispose",(function(){i.lineElem_=s(i.lineElem_),i.svgElem_=s(i.svgElem_),i.tooltipElem_=s(i.tooltipElem_)})),i}return t(n,e),Object.defineProperty(n.prototype,"graphElement",{get:function(){if(!this.svgElem_)throw u.alreadyDisposed();return this.svgElem_},enumerable:!1,configurable:!0}),n.prototype.update=function(){var e=this.tooltipElem_;if(!this.lineElem_||!this.svgElem_||!e)throw u.alreadyDisposed();var t=this.svgElem_.getBoundingClientRect(),n=this.value.bufferSize-1,i=this.minValue_,o=this.maxValue_;this.lineElem_.setAttributeNS(null,"points",this.value.rawValues.map((function(e,r){return[Y(r,0,n,0,t.width),Y(e,i,o,t.height,0)].join(",")})).join(" "));var r=this.value.rawValues[this.cursor_.index];if(void 0!==r){e.classList.add(Sn("t","valid"));var a=Y(this.cursor_.index,0,n,0,t.width),l=Y(r,i,o,t.height,0);e.style.left=a+"px",e.style.top=l+"px",e.textContent=""+this.formatter_.format(r)}else e.classList.remove(Sn("t","valid"))},n.prototype.onValueUpdate_=function(){this.update()},n.prototype.onCursorChange_=function(){this.update()},n}(p),Un=function(){function e(e,t){this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.value=t.value,this.cursor_=new zn,this.viewModel=t.viewModel,this.view=new Nn(e,{cursor:this.cursor_,formatter:t.formatter,lineCount:t.lineCount,maxValue:t.maxValue,minValue:t.minValue,model:this.viewModel,value:this.value}),this.view.graphElement.addEventListener("mouseleave",this.onGraphMouseLeave_),this.view.graphElement.addEventListener("mousemove",this.onGraphMouseMove_)}return e.prototype.onGraphMouseLeave_=function(){this.cursor_.index=-1},e.prototype.onGraphMouseMove_=function(e){var t=this.view.graphElement.getBoundingClientRect(),n=e.offsetX;this.cursor_.index=Math.floor(Y(n,0,t.width,0,this.value.bufferSize))},e}();function Bn(){return new Te(2)}function Tn(e){return"view"in e&&"graph"===e.view}var Hn={model:{accept:function(e,t){return"number"==typeof e?e:null},defaultBufferSize:function(e){return Tn(e)?64:1},reader:function(e){return an}},controller:function(e){return Tn(e.params)?(t=e.document,n=e.binding,i=e.params,new Un(t,{formatter:Bn(),lineCount:v.getOrDefault(i.lineCount,ge.defaultLineCount),maxValue:v.getOrDefault("max"in i?i.max:null,100),minValue:v.getOrDefault("min"in i?i.min:null,0),value:n.value,viewModel:new le})):function(e,t,n){return 1===t.value.bufferSize?new On(e,{formatter:Bn(),value:t.value,viewModel:new le}):new Ln(e,{formatter:Bn(),lineCount:v.getOrDefault(n.lineCount,ge.defaultLineCount),value:t.value,viewModel:new le})}(e.document,e.binding,e.params);var t,n,i}},Kn={model:{accept:function(e,t){return"string"==typeof e?e:null},defaultBufferSize:function(e){return 1},reader:function(e){return En}},controller:function(e){var t=e.binding.value;return t.bufferSize>1||"multiline"in e.params&&e.params.multiline?new Ln(e.document,{formatter:new kn,lineCount:v.getOrDefault(e.params.lineCount,ge.defaultLineCount),value:t,viewModel:new le}):new On(e.document,{formatter:new kn,value:t,viewModel:new le})}};var Rn=function(e){function n(t){var n=this,i=t||{},o=v.getOrDefault(i.document,v.forceCast(_()).document),r=new Me(o,{expanded:i.expanded,viewModel:new le,title:i.title});return(n=e.call(this,r)||this).containerElem_=i.container||function(e){var t=e.createElement("div");return t.classList.add(l("dfw")()),e.body&&e.body.appendChild(t),t}(o),n.containerElem_.appendChild(n.element),n.doc_=o,n.usesDefaultWrapper_=!i.container,n}return t(n,e),n.prototype.dispose=function(){var t=this.containerElem_;if(!t)throw u.alreadyDisposed();if(this.usesDefaultWrapper_){var n=t.parentElement;n&&n.removeChild(t)}this.containerElem_=null,this.doc_=null,e.prototype.dispose.call(this)},Object.defineProperty(n.prototype,"document",{get:function(){if(!this.doc_)throw u.alreadyDisposed();return this.doc_},enumerable:!1,configurable:!0}),n}(Ce);return[Se,Xt,Wt,Qt,sn,Vn,xn].forEach((function(e){Ce.registerPlugin({type:"input",plugin:e})})),[Hn,Kn,jn].forEach((function(e){Ce.registerPlugin({type:"monitor",plugin:e})})),function(e){function n(t){var n=e.call(this,t)||this;return function(e){var t="tweakpane";if(!e.querySelector("style[data-for=tweakpane]")){var n=e.createElement("style");n.dataset.for=t,n.textContent=".tp-fldv_t,.tp-rotv_t{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:var(--folder-background-color);color:var(--folder-foreground-color);cursor:pointer;display:block;height:calc(var(--unit-size) + 4px);line-height:calc(var(--unit-size) + 4px);overflow:hidden;padding-left:28px;position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%;transition:border-radius .2s ease-in-out .2s}.tp-fldv_t:hover,.tp-rotv_t:hover{background-color:var(--folder-background-color-hover)}.tp-fldv_t:focus,.tp-rotv_t:focus{background-color:var(--folder-background-color-focus)}.tp-fldv_t:active,.tp-rotv_t:active{background-color:var(--folder-background-color-active)}.tp-fldv_m,.tp-rotv_m{background:linear-gradient(to left, var(--folder-foreground-color), var(--folder-foreground-color) 2px, transparent 2px, transparent 4px, var(--folder-foreground-color) 4px);border-radius:2px;bottom:0;content:'';display:block;height:6px;left:13px;margin:auto;opacity:0.5;position:absolute;top:0;transform:rotate(90deg);transition:transform .2s ease-in-out;width:6px}.tp-fldv.tp-fldv-expanded>.tp-fldv_t>.tp-fldv_m,.tp-rotv.tp-rotv-expanded .tp-rotv_m{transform:none}.tp-fldv_c,.tp-rotv_c{box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height .2s ease-in-out,opacity .2s linear,padding .2s ease-in-out}.tp-fldv_c>.tp-fldv.tp-v-first,.tp-rotv_c>.tp-fldv.tp-v-first{margin-top:-4px}.tp-fldv_c>.tp-fldv.tp-v-last,.tp-rotv_c>.tp-fldv.tp-v-last{margin-bottom:-4px}.tp-fldv_c>*:not(.tp-v-first),.tp-rotv_c>*:not(.tp-v-first){margin-top:4px}.tp-fldv_c>.tp-fldv:not(.tp-v-hidden)+.tp-fldv,.tp-rotv_c>.tp-fldv:not(.tp-v-hidden)+.tp-fldv{margin-top:0}.tp-fldv_c>.tp-sptv:not(.tp-v-hidden)+.tp-sptv,.tp-rotv_c>.tp-sptv:not(.tp-v-hidden)+.tp-sptv{margin-top:0}.tp-fldv.tp-fldv-expanded>.tp-fldv_c,.tp-rotv.tp-rotv-expanded .tp-rotv_c{opacity:1;padding-bottom:4px;padding-top:4px;transform:none;overflow:visible;transition:height .2s ease-in-out,opacity .2s linear .2s,padding .2s ease-in-out}.tp-btnv{padding:0 4px}.tp-btnv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:var(--button-background-color);border-radius:2px;color:var(--button-foreground-color);cursor:pointer;display:block;font-weight:bold;height:var(--unit-size);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%}.tp-btnv_b:hover{background-color:var(--button-background-color-hover)}.tp-btnv_b:focus{background-color:var(--button-background-color-focus)}.tp-btnv_b:active{background-color:var(--button-background-color-active)}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv.tp-fldv-expanded .tp-fldv_t{transition:border-radius 0s}.tp-fldv_c{border-left:var(--folder-background-color) solid 4px}.tp-fldv_t:hover+.tp-fldv_c{border-left-color:var(--folder-background-color-hover)}.tp-fldv_t:focus+.tp-fldv_c{border-left-color:var(--folder-background-color-focus)}.tp-fldv_t:active+.tp-fldv_c{border-left-color:var(--folder-background-color-active)}.tp-fldv_c>.tp-fldv{margin-left:4px}.tp-fldv_c>.tp-fldv>.tp-fldv_t{border-top-left-radius:2px;border-bottom-left-radius:2px}.tp-fldv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_t{border-bottom-left-radius:0}.tp-fldv_c .tp-fldv>.tp-fldv_c{border-bottom-left-radius:2px}.tp-ckbiv_l{display:block;position:relative}.tp-ckbiv_i{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background:red;left:0;opacity:0;position:absolute;top:0}.tp-ckbiv_m{background-color:var(--input-background-color);border-radius:2px;cursor:pointer;display:block;height:var(--unit-size);position:relative;width:var(--unit-size)}.tp-ckbiv_m::before{background-color:var(--input-foreground-color);border-radius:2px;bottom:4px;content:'';display:block;left:4px;opacity:0;position:absolute;right:4px;top:4px}.tp-ckbiv_i:hover+.tp-ckbiv_m{background-color:var(--input-background-color-hover)}.tp-ckbiv_i:focus+.tp-ckbiv_m{background-color:var(--input-background-color-focus)}.tp-ckbiv_i:active+.tp-ckbiv_m{background-color:var(--input-background-color-active)}.tp-ckbiv_i:checked+.tp-ckbiv_m::before{opacity:1}.tp-cctxtsiv{display:flex;width:100%}.tp-cctxtsiv_m{margin-right:4px;position:relative}.tp-cctxtsiv_ms{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;border-radius:2px;color:var(--label-foreground-color);cursor:pointer;height:var(--unit-size);line-height:var(--unit-size);padding:0 18px 0 4px}.tp-cctxtsiv_ms:hover{background-color:var(--input-background-color-hover)}.tp-cctxtsiv_ms:focus{background-color:var(--input-background-color-focus)}.tp-cctxtsiv_ms:active{background-color:var(--input-background-color-active)}.tp-cctxtsiv_mm{border-color:var(--label-foreground-color) transparent transparent;border-style:solid;border-width:3px;box-sizing:border-box;height:6px;pointer-events:none;width:6px;bottom:0;margin:auto;position:absolute;right:6px;top:3px}.tp-cctxtsiv_w{display:flex;flex:1}.tp-cctxtsiv_i{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:var(--input-background-color);border-radius:2px;box-sizing:border-box;color:var(--input-foreground-color);font-family:inherit;height:var(--unit-size);line-height:var(--unit-size);min-width:0;width:100%;border-radius:0;flex:1;padding:0 4px}.tp-cctxtsiv_i:hover{background-color:var(--input-background-color-hover)}.tp-cctxtsiv_i:focus{background-color:var(--input-background-color-focus)}.tp-cctxtsiv_i:active{background-color:var(--input-background-color-active)}.tp-cctxtsiv_i:first-child{border-bottom-left-radius:2px;border-top-left-radius:2px}.tp-cctxtsiv_i:last-child{border-bottom-right-radius:2px;border-top-right-radius:2px}.tp-cctxtsiv_i+.tp-cctxtsiv_i{margin-left:2px}.tp-clpiv{background-color:var(--base-background-color);border-radius:6px;box-shadow:0 2px 4px var(--base-shadow-color);display:none;padding:4px;position:relative;visibility:hidden;z-index:1000}.tp-clpiv.tp-clpiv-expanded{display:block;visibility:visible}.tp-clpiv_h,.tp-clpiv_ap{margin-left:6px;margin-right:6px}.tp-clpiv_h{margin-top:4px}.tp-clpiv_rgb{display:flex;margin-top:4px;width:100%}.tp-clpiv_a{display:flex;margin-top:4px;padding-top:8px;position:relative}.tp-clpiv_a:before{background-color:var(--separator-color);content:'';height:4px;left:-4px;position:absolute;right:-4px;top:0}.tp-clpiv_ap{align-items:center;display:flex;flex:3}.tp-clpiv_at{flex:1;margin-left:4px}.tp-svpiv{border-radius:2px;outline:none;overflow:hidden;position:relative}.tp-svpiv_c{cursor:crosshair;display:block;height:80px;width:100%}.tp-svpiv_m{border-radius:100%;border:rgba(255,255,255,0.75) solid 2px;box-sizing:border-box;filter:drop-shadow(0 0 1px rgba(0,0,0,0.3));height:12px;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;width:12px}.tp-svpiv:focus .tp-svpiv_m{border-color:#fff}.tp-hpliv{cursor:pointer;height:var(--unit-size);outline:none;position:relative}.tp-hpliv_c{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAABCAYAAABubagXAAAAQ0lEQVQoU2P8z8Dwn0GCgQEDi2OK/RBgYHjBgIpfovFh8j8YBIgzFGQxuqEgPhaDOT5gOhPkdCxOZeBg+IDFZZiGAgCaSSMYtcRHLgAAAABJRU5ErkJggg==);background-position:left top;background-repeat:no-repeat;background-size:100% 100%;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;position:absolute;top:50%;width:100%}.tp-hpliv_m{border-radius:2px;border:rgba(255,255,255,0.75) solid 2px;box-shadow:0 0 2px rgba(0,0,0,0.1);box-sizing:border-box;height:12px;left:50%;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;top:50%;width:12px}.tp-hpliv:focus .tp-hpliv_m{border-color:#fff}.tp-apliv{cursor:pointer;height:var(--unit-size);outline:none;position:relative;width:100%}.tp-apliv_b{background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:4px 4px;background-position:0 0,2px 2px;background-color:#fff;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;overflow:hidden;position:absolute;top:50%;width:100%}.tp-apliv_c{bottom:0;left:0;position:absolute;right:0;top:0}.tp-apliv_m{background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:12px 12px;background-position:0 0,6px 6px;background-color:#fff;border-radius:2px;box-shadow:0 0 2px rgba(0,0,0,0.1);height:12px;left:50%;margin-left:-6px;margin-top:-6px;overflow:hidden;pointer-events:none;position:absolute;top:50%;width:12px}.tp-apliv_p{border-radius:2px;border:rgba(255,255,255,0.75) solid 2px;box-sizing:border-box;bottom:0;left:0;position:absolute;right:0;top:0}.tp-apliv:focus .tp-apliv_p{border-color:#fff}.tp-lstiv{display:block;padding:0;position:relative}.tp-lstiv_s{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:var(--button-background-color);border-radius:2px;color:var(--button-foreground-color);cursor:pointer;display:block;height:var(--unit-size);line-height:var(--unit-size);padding:0 18px 0 4px;width:100%}.tp-lstiv_s:hover{background-color:var(--button-background-color-hover)}.tp-lstiv_s:focus{background-color:var(--button-background-color-focus)}.tp-lstiv_s:active{background-color:var(--button-background-color-active)}.tp-lstiv_m{border-color:var(--button-foreground-color) transparent transparent;border-style:solid;border-width:3px;box-sizing:border-box;height:6px;pointer-events:none;width:6px;bottom:0;margin:auto;position:absolute;right:6px;top:3px}.tp-p2dpadiv{background-color:var(--base-background-color);border-radius:6px;box-shadow:0 2px 4px var(--base-shadow-color);display:none;padding:4px 4px 4px calc(4px * 2 + var(--unit-size));position:relative;visibility:hidden;z-index:1000}.tp-p2dpadiv.tp-p2dpadiv-expanded{display:block;visibility:visible}.tp-p2dpadiv_p{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:var(--input-background-color);border-radius:2px;box-sizing:border-box;color:var(--input-foreground-color);font-family:inherit;height:var(--unit-size);line-height:var(--unit-size);min-width:0;width:100%;cursor:crosshair;height:0;overflow:hidden;padding-bottom:100%;position:relative}.tp-p2dpadiv_p:hover{background-color:var(--input-background-color-hover)}.tp-p2dpadiv_p:focus{background-color:var(--input-background-color-focus)}.tp-p2dpadiv_p:active{background-color:var(--input-background-color-active)}.tp-p2dpadiv_g{display:block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.tp-p2dpadiv_ax{stroke:var(--input-guide-color)}.tp-p2dpadiv_l{stroke:var(--input-foreground-color);stroke-linecap:round;stroke-dasharray:1px 3px}.tp-p2dpadiv_m{fill:var(--input-foreground-color)}.tp-p2dpadtxtiv{display:flex;position:relative}.tp-p2dpadtxtiv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:var(--button-background-color);border-radius:2px;color:var(--button-foreground-color);cursor:pointer;display:block;font-weight:bold;height:var(--unit-size);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;height:var(--unit-size);position:relative;width:var(--unit-size)}.tp-p2dpadtxtiv_b:hover{background-color:var(--button-background-color-hover)}.tp-p2dpadtxtiv_b:focus{background-color:var(--button-background-color-focus)}.tp-p2dpadtxtiv_b:active{background-color:var(--button-background-color-active)}.tp-p2dpadtxtiv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-p2dpadtxtiv_p{left:-4px;position:absolute;right:-4px;top:var(--unit-size)}.tp-p2dpadtxtiv_t{margin-left:4px}.tp-p2dtxtiv{display:flex}.tp-p2dtxtiv_w{align-items:center;display:flex}.tp-p2dtxtiv_w+.tp-p2dtxtiv_w{margin-left:2px}.tp-p2dtxtiv_i{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:var(--input-background-color);border-radius:2px;box-sizing:border-box;color:var(--input-foreground-color);font-family:inherit;height:var(--unit-size);line-height:var(--unit-size);min-width:0;width:100%;padding:0 4px;width:100%}.tp-p2dtxtiv_i:hover{background-color:var(--input-background-color-hover)}.tp-p2dtxtiv_i:focus{background-color:var(--input-background-color-focus)}.tp-p2dtxtiv_i:active{background-color:var(--input-background-color-active)}.tp-p2dtxtiv_w:nth-child(1) .tp-p2dtxtiv_i{border-top-right-radius:0;border-bottom-right-radius:0}.tp-p2dtxtiv_w:nth-child(2) .tp-p2dtxtiv_i{border-top-left-radius:0;border-bottom-left-radius:0}.tp-sldiv{display:block;padding:0}.tp-sldiv_o{box-sizing:border-box;cursor:pointer;height:var(--unit-size);margin:0 6px;outline:none;position:relative}.tp-sldiv_o::before{background-color:var(--input-background-color);border-radius:1px;bottom:0;content:'';display:block;height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-sldiv_i{height:100%;left:0;position:absolute;top:0}.tp-sldiv_i::before{background-color:var(--button-background-color);border-radius:2px;bottom:0;content:'';display:block;height:12px;margin:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldiv_o:hover .tp-sldiv_i::before{background-color:var(--button-background-color-hover)}.tp-sldiv_o:focus .tp-sldiv_i::before{background-color:var(--button-background-color-focus)}.tp-sldiv_o:active .tp-sldiv_i::before{background-color:var(--button-background-color-active)}.tp-txtiv{display:block;padding:0}.tp-txtiv_i{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:var(--input-background-color);border-radius:2px;box-sizing:border-box;color:var(--input-foreground-color);font-family:inherit;height:var(--unit-size);line-height:var(--unit-size);min-width:0;width:100%;padding:0 4px}.tp-txtiv_i:hover{background-color:var(--input-background-color-hover)}.tp-txtiv_i:focus{background-color:var(--input-background-color-focus)}.tp-txtiv_i:active{background-color:var(--input-background-color-active)}.tp-cswiv{background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:10px 10px;background-position:0 0,5px 5px;background-color:#fff;border-radius:2px}.tp-cswiv_sw{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:var(--input-background-color);border-radius:2px;box-sizing:border-box;color:var(--input-foreground-color);font-family:inherit;height:var(--unit-size);line-height:var(--unit-size);min-width:0;width:100%}.tp-cswiv_sw:hover{background-color:var(--input-background-color-hover)}.tp-cswiv_sw:focus{background-color:var(--input-background-color-focus)}.tp-cswiv_sw:active{background-color:var(--input-background-color-active)}.tp-cswiv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;cursor:pointer;display:block;height:var(--unit-size);left:0;margin:0;outline:none;padding:0;position:absolute;top:0;width:var(--unit-size)}.tp-cswiv_b:focus::after{border:rgba(255,255,255,0.75) solid 2px;border-radius:2px;bottom:0;content:'';display:block;left:0;position:absolute;right:0;top:0}.tp-cswiv_p{left:-4px;position:absolute;right:-4px;top:var(--unit-size)}.tp-cswtxtiv{display:flex;position:relative}.tp-cswtxtiv_s{flex-grow:0;flex-shrink:0;width:var(--unit-size)}.tp-cswtxtiv_t{flex:1;margin-left:4px}.tp-sldtxtiv{display:flex}.tp-sldtxtiv_s{flex:2}.tp-sldtxtiv_t{flex:1;margin-left:4px}.tp-lblv{align-items:center;display:flex;line-height:1.3;padding-left:4px;padding-right:4px}.tp-lblv_l{color:var(--label-foreground-color);flex:1;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;overflow:hidden;padding-left:4px;padding-right:16px}.tp-lblv_v{align-self:flex-start;flex-grow:0;flex-shrink:0;width:160px}.tp-grpmv{display:block;padding:0;position:relative}.tp-grpmv_g{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:var(--monitor-background-color);border-radius:2px;box-sizing:border-box;color:var(--monitor-foreground-color);height:var(--unit-size);width:100%;display:block;height:calc(var(--unit-size) * 3)}.tp-grpmv_g polyline{fill:none;stroke:var(--monitor-foreground-color);stroke-linejoin:round}.tp-grpmv_t{color:var(--monitor-foreground-color);font-size:0.9em;left:0;pointer-events:none;position:absolute;text-indent:4px;top:0;visibility:hidden}.tp-grpmv_t.tp-grpmv_t-valid{visibility:visible}.tp-grpmv_t::before{background-color:var(--monitor-foreground-color);border-radius:100%;content:'';display:block;height:4px;left:-2px;position:absolute;top:-2px;width:4px}.tp-sglmv_i{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:var(--monitor-background-color);border-radius:2px;box-sizing:border-box;color:var(--monitor-foreground-color);height:var(--unit-size);width:100%;padding:0 4px}.tp-mllmv_i{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:var(--monitor-background-color);border-radius:2px;box-sizing:border-box;color:var(--monitor-foreground-color);height:var(--unit-size);width:100%;display:block;height:calc(var(--unit-size) * 3);line-height:var(--unit-size);padding:0 4px;resize:none;white-space:pre}.tp-cswmv_sw{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:var(--monitor-background-color);border-radius:2px;box-sizing:border-box;color:var(--monitor-foreground-color);height:var(--unit-size);width:100%}.tp-rotv{--font-family: var(--tp-font-family, Roboto Mono,Source Code Pro,Menlo,Courier,monospace);--unit-size: var(--tp-unit-size, 20px);--base-background-color: var(--tp-base-background-color, #2f3137);--base-shadow-color: var(--tp-base-shadow-color, rgba(0,0,0,0.2));--button-background-color: var(--tp-button-background-color, #adafb8);--button-background-color-active: var(--tp-button-background-color-active, #d6d7db);--button-background-color-focus: var(--tp-button-background-color-focus, #c8cad0);--button-background-color-hover: var(--tp-button-background-color-hover, #bbbcc4);--button-foreground-color: var(--tp-button-foreground-color, #2f3137);--folder-background-color: var(--tp-folder-background-color, rgba(200,202,208,0.1));--folder-background-color-active: var(--tp-folder-background-color-active, rgba(200,202,208,0.25));--folder-background-color-focus: var(--tp-folder-background-color-focus, rgba(200,202,208,0.2));--folder-background-color-hover: var(--tp-folder-background-color-hover, rgba(200,202,208,0.15));--folder-foreground-color: var(--tp-folder-foreground-color, #c8cad0);--input-background-color: var(--tp-input-background-color, rgba(200,202,208,0.1));--input-background-color-active: var(--tp-input-background-color-active, rgba(200,202,208,0.25));--input-background-color-focus: var(--tp-input-background-color-focus, rgba(200,202,208,0.2));--input-background-color-hover: var(--tp-input-background-color-hover, rgba(200,202,208,0.15));--input-foreground-color: var(--tp-input-foreground-color, #c8cad0);--input-guide-color: var(--tp-input-guide-color, rgba(47,49,55,0.5));--label-foreground-color: var(--tp-label-foreground-color, rgba(200,202,208,0.7));--monitor-background-color: var(--tp-monitor-background-color, #26272c);--monitor-foreground-color: var(--tp-monitor-foreground-color, rgba(200,202,208,0.7));--separator-color: var(--tp-separator-color, #26272c);background-color:var(--base-background-color);border-radius:6px;box-shadow:0 2px 4px var(--base-shadow-color);font-family:var(--font-family);font-size:11px;font-weight:500;line-height:1;text-align:left}.tp-rotv_t{border-bottom-left-radius:6px;border-bottom-right-radius:6px;border-top-left-radius:6px;border-top-right-radius:6px}.tp-rotv.tp-rotv-expanded .tp-rotv_t{border-bottom-left-radius:0;border-bottom-right-radius:0}.tp-rotv_m{transition:none}.tp-rotv_c>.tp-fldv:last-child>.tp-fldv_c{border-bottom-left-radius:6px;border-bottom-right-radius:6px}.tp-rotv_c>.tp-fldv:last-child:not(.tp-fldv-expanded)>.tp-fldv_t{border-bottom-left-radius:6px;border-bottom-right-radius:6px}.tp-rotv_c>.tp-fldv:first-child>.tp-fldv_t{border-top-left-radius:6px;border-top-right-radius:6px}.tp-sptv_r{background-color:var(--separator-color);border-width:0;display:block;height:4px;margin:0;width:100%}.tp-v.tp-v-hidden{display:none}",e.head&&e.head.appendChild(n)}}(n.document),n}return t(n,e),n}(Rn)}));
