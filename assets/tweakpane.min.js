/*! Tweakpane 1.6.0 (c) 2016 cocopon, licensed under the MIT license. */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Tweakpane=e()}(this,(function(){"use strict";var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};function e(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}var n=function(){return(n=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function i(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),o=0;for(e=0;e<n;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)i[o]=r[a];return i}var o={inputs:[],monitors:[]};function r(t){return null==t}var a=function(){function t(){this.observers_={}}return t.prototype.on=function(t,e){var n=this.observers_[t];return n||(n=this.observers_[t]=[]),n.push({handler:e}),this},t.prototype.off=function(t,e){var n=this.observers_[t];return n&&(this.observers_[t]=n.filter((function(t){return t.handler!==e}))),this},t.prototype.emit=function(t,e){var n=this.observers_[t];n&&n.forEach((function(t){t.handler(e)}))},t}(),s=function(){function t(t){this.emitter=new a,this.title=t}return t.prototype.click=function(){this.emitter.emit("click",{sender:this})},t}();var l="tp";function u(t){return function(e,n){return[l,"-",t,"v",e?"_"+e:"",n?"-"+n:""].join("")}}var d=u("");function p(t,e){var n=t.element;e.emitter.on("change",(function(t){if("hidden"===t.propertyName){var i=d(void 0,"hidden");e.hidden?n.classList.add(i):n.classList.remove(i)}else"positions"===t.propertyName&&(["first","last"].forEach((function(t){n.classList.remove(d(void 0,t))})),e.positions.forEach((function(t){n.classList.add(d(void 0,t))})))})),e.emitter.on("dispose",(function(){t.onDispose&&t.onDispose(),function(t){t&&t.parentElement&&t.parentElement.removeChild(t)}(n)}))}var h=u("btn"),c=function(t,e){this.button=e.button,this.element=t.createElement("div"),this.element.classList.add(h());var n=t.createElement("button");n.classList.add(h("b")),n.textContent=this.button.title,this.element.appendChild(n),this.buttonElement=n},v=function(){function t(t,e){this.onButtonClick_=this.onButtonClick_.bind(this),this.button=new s(e.title),this.blade=e.blade,this.view=new c(t,{button:this.button}),this.view.buttonElement.addEventListener("click",this.onButtonClick_),p(this.view,this.blade)}return t.prototype.onButtonClick_=function(){this.button.click()},t}(),f=u("lbl");var m=function(){function t(t,e){this.label=e.label,this.elem_=t.createElement("div"),this.elem_.classList.add(f());var n=t.createElement("div");n.classList.add(f("l")),n.appendChild(function(t,e){var n=t.createDocumentFragment();return e.split("\n").map((function(e){return t.createTextNode(e)})).forEach((function(e,i){i>0&&n.appendChild(t.createElement("br")),n.appendChild(e)})),n}(t,this.label)),this.elem_.appendChild(n);var i=t.createElement("div");i.classList.add(f("v")),i.appendChild(e.view.element),this.elem_.appendChild(i)}return Object.defineProperty(t.prototype,"element",{get:function(){return this.elem_},enumerable:!1,configurable:!0}),t}(),b=function(t,e){this.binding=e.binding,this.controller=e.controller,this.view=new m(t,{label:e.label,view:this.controller.view}),this.blade=e.blade,p(this.view,this.blade)},g=function(t,e){var n=this;this.binding=e.binding,this.controller=e.controller,this.view=new m(t,{label:e.label,view:this.controller.view}),this.blade=e.blade,this.blade.emitter.on("dispose",(function(){n.binding.dispose()})),p(this.view,this.blade)},_=function(){function t(){this.emitter=new a,this.disposed_=!1}return Object.defineProperty(t.prototype,"disposed",{get:function(){return this.disposed_},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){return!this.disposed_&&(this.disposed_=!0,this.emitter.emit("dispose",{sender:this}),!0)},t}(),w=function(){function t(){this.onDispose_=this.onDispose_.bind(this),this.emitter=new a,this.positions_=[],this.hidden_=!1,this.disposable_=new _,this.disposable_.emitter.on("dispose",this.onDispose_)}return Object.defineProperty(t.prototype,"hidden",{get:function(){return this.hidden_},set:function(t){this.hidden_!==t&&(this.hidden_=t,this.emitter.emit("change",{propertyName:"hidden",sender:this}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"positions",{get:function(){return this.positions_},set:function(t){(function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0})(t,this.positions_)||(this.positions_=t,this.emitter.emit("change",{propertyName:"positions",sender:this}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disposed",{get:function(){return this.disposable_.disposed},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this.disposable_.dispose()},t.prototype.onDispose_=function(){this.emitter.emit("dispose",{sender:this})},t}(),y="http://www.w3.org/2000/svg";function x(t){t.offsetHeight}function C(t){return void 0!==t.ontouchstart}function k(){return new Function("return this")()}function E(t){return"document"in k()?t.getContext("2d"):null}var V={p2dpad:'<path d="M8 2V14" stroke="currentColor" stroke-width="1.5"/><path d="M2 8H14" stroke="currentColor" stroke-width="1.5"/><circle cx="8" cy="8" r="2" fill="currentColor"/>'};function L(t,e,n){t.insertBefore(e,t.children[n])}function P(t){return t.relatedTarget?t.relatedTarget:"explicitOriginalTarget"in t?t.explicitOriginalTarget:null}var I=function(){function t(t,e){this.emitter=new a,this.expanded_=e,this.expandedHeight_=null,this.temporaryExpanded_=null,this.shouldFixHeight_=!1,this.title=t}return Object.defineProperty(t.prototype,"expanded",{get:function(){return this.expanded_},set:function(t){this.expanded_!==t&&(this.emitter.emit("beforechange",{propertyName:"expanded",sender:this}),this.expanded_=t,this.emitter.emit("change",{propertyName:"expanded",sender:this}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"temporaryExpanded",{get:function(){return this.temporaryExpanded_},set:function(t){this.temporaryExpanded_!==t&&(this.emitter.emit("beforechange",{propertyName:"temporaryExpanded",sender:this}),this.temporaryExpanded_=t,this.emitter.emit("change",{propertyName:"temporaryExpanded",sender:this}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expandedHeight",{get:function(){return this.expandedHeight_},set:function(t){this.expandedHeight_!==t&&(this.emitter.emit("beforechange",{propertyName:"expandedHeight",sender:this}),this.expandedHeight_=t,this.emitter.emit("change",{propertyName:"expandedHeight",sender:this}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldFixHeight",{get:function(){return this.shouldFixHeight_},set:function(t){this.shouldFixHeight_!==t&&(this.emitter.emit("beforechange",{propertyName:"shouldFixHeight",sender:this}),this.shouldFixHeight_=t,this.emitter.emit("change",{propertyName:"shouldFixHeight",sender:this}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styleExpanded",{get:function(){var t;return null!==(t=this.temporaryExpanded)&&void 0!==t?t:this.expanded},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styleHeight",{get:function(){return this.styleExpanded?this.shouldFixHeight&&!r(this.expandedHeight)?this.expandedHeight+"px":"auto":"0"},enumerable:!1,configurable:!0}),t}();function F(t){var e=t.items.filter((function(t){return!t.blade.hidden})),n=e[0],i=e[e.length-1];t.items.forEach((function(t){var e=[];t===n&&e.push("first"),t===i&&e.push("last"),t.blade.positions=e}))}function O(t,e){var n,i,o,r=0;return i=function(){t.expandedHeight=null,t.temporaryExpanded=!0,x(e),r=e.clientHeight,t.temporaryExpanded=null,x(e)},o=(n=e).style.transition,n.style.transition="none",i(),n.style.transition=o,r}var M=function(){function t(){this.emitter=new a,this.items_=[]}return Object.defineProperty(t.prototype,"items",{get:function(){return this.items_},enumerable:!1,configurable:!0}),t.prototype.add=function(t,e){var n=void 0!==e?e:this.items_.length;this.items_.splice(n,0,t),this.emitter.emit("add",{index:n,item:t,sender:this})},t.prototype.remove=function(t){var e=this.items_.indexOf(t);e<0||(this.items_.splice(e,1),this.emitter.emit("remove",{sender:this}))},t}(),S=function(){function t(){this.onItemFolderFold_=this.onItemFolderFold_.bind(this),this.onListItemLayout_=this.onListItemLayout_.bind(this),this.onSubitemLayout_=this.onSubitemLayout_.bind(this),this.onSubitemFolderFold_=this.onSubitemFolderFold_.bind(this),this.onSubitemInputChange_=this.onSubitemInputChange_.bind(this),this.onSubitemMonitorUpdate_=this.onSubitemMonitorUpdate_.bind(this),this.onItemInputChange_=this.onItemInputChange_.bind(this),this.onListAdd_=this.onListAdd_.bind(this),this.onListItemDispose_=this.onListItemDispose_.bind(this),this.onListRemove_=this.onListRemove_.bind(this),this.onItemMonitorUpdate_=this.onItemMonitorUpdate_.bind(this),this.blades_=new M,this.emitter=new a,this.blades_.emitter.on("add",this.onListAdd_),this.blades_.emitter.on("remove",this.onListRemove_)}return Object.defineProperty(t.prototype,"items",{get:function(){return this.blades_.items},enumerable:!1,configurable:!0}),t.prototype.add=function(t,e){this.blades_.add(t,e)},t.prototype.find=function(t){return this.items.reduce((function(e,n){return n instanceof A&&e.push.apply(e,n.bladeRack.find(t)),n instanceof t&&e.push(n),e}),[])},t.prototype.onListAdd_=function(t){var e=t.item;if(this.emitter.emit("add",{blade:e,index:t.index,sender:this}),e.blade.emitter.on("dispose",this.onListItemDispose_),e.blade.emitter.on("change",this.onListItemLayout_),e instanceof b)(n=e.binding.emitter).on("change",this.onItemInputChange_);else if(e instanceof g){(n=e.binding.emitter).on("update",this.onItemMonitorUpdate_)}else if(e instanceof A){var n;e.folder.emitter.on("change",this.onItemFolderFold_),(n=e.bladeRack.emitter).on("itemfold",this.onSubitemFolderFold_),n.on("itemlayout",this.onSubitemLayout_),n.on("inputchange",this.onSubitemInputChange_),n.on("monitorupdate",this.onSubitemMonitorUpdate_)}},t.prototype.onListRemove_=function(t){this.emitter.emit("remove",{sender:this})},t.prototype.onListItemLayout_=function(t){"hidden"!==t.propertyName&&"positions"!==t.propertyName||this.emitter.emit("itemlayout",{sender:this})},t.prototype.onListItemDispose_=function(t){var e=this;this.blades_.items.filter((function(t){return t.blade.disposed})).forEach((function(t){e.blades_.remove(t)}))},t.prototype.onItemInputChange_=function(t){this.emitter.emit("inputchange",{inputBinding:t.sender,sender:this,value:t.rawValue})},t.prototype.onItemMonitorUpdate_=function(t){this.emitter.emit("monitorupdate",{monitorBinding:t.sender,sender:this,value:t.rawValue})},t.prototype.onItemFolderFold_=function(t){"expanded"===t.propertyName&&this.emitter.emit("itemfold",{expanded:t.sender.expanded,sender:this})},t.prototype.onSubitemLayout_=function(t){this.emitter.emit("itemlayout",{sender:this})},t.prototype.onSubitemInputChange_=function(t){this.emitter.emit("inputchange",{inputBinding:t.inputBinding,sender:this,value:t.value})},t.prototype.onSubitemMonitorUpdate_=function(t){this.emitter.emit("monitorupdate",{monitorBinding:t.monitorBinding,sender:this,value:t.value})},t.prototype.onSubitemFolderFold_=function(t){this.emitter.emit("itemfold",{expanded:t.expanded,sender:this})},t}(),D=u("fld"),j=function(){function t(t,e){this.onFolderChange_=this.onFolderChange_.bind(this),this.folder_=e.folder,this.folder_.emitter.on("change",this.onFolderChange_),this.element=t.createElement("div"),this.element.classList.add(D());var n=t.createElement("button");n.classList.add(D("t")),n.textContent=this.folder_.title,this.element.appendChild(n),this.titleElement=n;var i=t.createElement("div");i.classList.add(D("m")),this.titleElement.appendChild(i);var o=t.createElement("div");o.classList.add(D("c")),this.element.appendChild(o),this.containerElement=o,this.applyModel_()}return t.prototype.applyModel_=function(){var t=this.folder_.styleExpanded,e=D(void 0,"expanded");t?this.element.classList.add(e):this.element.classList.remove(e),this.containerElement.style.height=this.folder_.styleHeight},t.prototype.onFolderChange_=function(){this.applyModel_()},t}(),A=function(){function t(t,e){var n;this.onContainerTransitionEnd_=this.onContainerTransitionEnd_.bind(this),this.onFolderBeforeChange_=this.onFolderBeforeChange_.bind(this),this.onTitleClick_=this.onTitleClick_.bind(this),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackItemLayout_=this.onRackItemLayout_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this),this.blade=e.blade,this.folder=new I(e.title,null===(n=e.expanded)||void 0===n||n),this.folder.emitter.on("beforechange",this.onFolderBeforeChange_),this.rack_=new S,this.rack_.emitter.on("add",this.onRackAdd_),this.rack_.emitter.on("itemlayout",this.onRackItemLayout_),this.rack_.emitter.on("remove",this.onRackRemove_),this.doc_=t,this.view=new j(this.doc_,{folder:this.folder}),this.view.titleElement.addEventListener("click",this.onTitleClick_),this.view.containerElement.addEventListener("transitionend",this.onContainerTransitionEnd_),p(this.view,this.blade)}return Object.defineProperty(t.prototype,"document",{get:function(){return this.doc_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bladeRack",{get:function(){return this.rack_},enumerable:!1,configurable:!0}),t.prototype.onFolderBeforeChange_=function(t){"expanded"===t.propertyName&&(r(this.folder.expandedHeight)&&(this.folder.expandedHeight=O(this.folder,this.view.containerElement)),this.folder.shouldFixHeight=!0,x(this.view.containerElement))},t.prototype.onTitleClick_=function(){this.folder.expanded=!this.folder.expanded},t.prototype.applyRackChange_=function(){F(this.bladeRack)},t.prototype.onRackAdd_=function(t){L(this.view.containerElement,t.blade.view.element,t.index),this.applyRackChange_()},t.prototype.onRackRemove_=function(t){this.applyRackChange_()},t.prototype.onRackItemLayout_=function(t){this.applyRackChange_()},t.prototype.onContainerTransitionEnd_=function(t){"height"===t.propertyName&&(this.folder.shouldFixHeight=!1,this.folder.expandedHeight=null)},t}(),R=u("spt"),N=function(t){this.element=t.createElement("div"),this.element.classList.add(R());var e=t.createElement("hr");e.classList.add(R("r")),this.element.appendChild(e)},B=function(t,e){this.blade=e.blade,this.view=new N(t),p(this.view,this.blade)},z=function(){function t(t,e,n){this.obj_=t,this.key_=e,this.presetKey_=null!=n?n:e}return Object.defineProperty(t.prototype,"key",{get:function(){return this.key_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"presetKey",{get:function(){return this.presetKey_},enumerable:!1,configurable:!0}),t.prototype.read=function(){return this.obj_[this.key_]},t.prototype.write=function(t){this.obj_[this.key_]=t},t}(),T=function(){function t(t){this.controller=t}return Object.defineProperty(t.prototype,"hidden",{get:function(){return this.controller.blade.hidden},set:function(t){this.controller.blade.hidden=t},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this.controller.blade.dispose()},t.prototype.on=function(t,e){return this.controller.button.emitter.on(t,e.bind(this)),this},t}();function K(t){var e=t.bladeRack,n=t.eventName,i=t.folder,o=t.handler;"change"===n&&e.emitter.on("inputchange",(function(t){o(t.inputBinding.getValueToWrite(t.value))}));"update"===n&&e.emitter.on("monitorupdate",(function(t){o(t.monitorBinding.target.read())}));"fold"===n&&(e.emitter.on("itemfold",(function(t){o(t.expanded)})),null==i||i.emitter.on("change",(function(t){"expanded"===t.propertyName&&o(t.sender.expanded)})))}var H=function(){function t(t){this.controller=t}return Object.defineProperty(t.prototype,"hidden",{get:function(){return this.controller.blade.hidden},set:function(t){this.controller.blade.hidden=t},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this.controller.blade.dispose()},t.prototype.on=function(t,e){return function(t){var e=t.binding,n=t.eventName,i=t.handler;"change"===n&&e.emitter.on("change",(function(t){i(t.sender.getValueToWrite(t.rawValue))}))}({binding:this.controller.binding,eventName:t,handler:e.bind(this)}),this},t.prototype.refresh=function(){this.controller.binding.read()},t}();var U=function(){function t(t){this.message=function(t){return"alreadydisposed"===t.type?"View has been already disposed":"emptyvalue"===t.type?"Value is empty for "+t.context.key:"invalidparams"===t.type?"Invalid parameters for "+t.context.name:"nomatchingcontroller"===t.type?"No matching controller for "+t.context.key:"shouldneverhappen"===t.type?"This error should never happen":"Unexpected error"}(t),this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=t.type}return t.alreadyDisposed=function(){return new t({type:"alreadydisposed"})},t.shouldNeverHappen=function(){return new t({type:"shouldneverhappen"})},t}();U.prototype=Object.create(Error.prototype),U.prototype.constructor=U;var q=function(){function t(t){this.onValueChange_=this.onValueChange_.bind(this),this.reader=t.reader,this.writer=t.writer,this.emitter=new a,this.value=t.value,this.value.emitter.on("change",this.onValueChange_),this.target=t.target,this.read()}return t.prototype.read=function(){var t=this.target.read();void 0!==t&&(this.value.rawValue=this.reader(t))},t.prototype.getValueToWrite=function(t){return this.writer(t)},t.prototype.write_=function(t){this.target.write(this.getValueToWrite(t))},t.prototype.onValueChange_=function(t){this.write_(t.rawValue),this.emitter.emit("change",{rawValue:t.rawValue,sender:this})},t}(),Y=function(){function t(t,e){var n;this.constraint_=null==e?void 0:e.constraint,this.equals_=null!==(n=null==e?void 0:e.equals)&&void 0!==n?n:function(t,e){return t===e},this.emitter=new a,this.rawValue_=t}return Object.defineProperty(t.prototype,"constraint",{get:function(){return this.constraint_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rawValue",{get:function(){return this.rawValue_},set:function(t){var e=this.constraint_?this.constraint_.constrain(t):t;!this.equals_(this.rawValue_,e)&&(this.rawValue_=e,this.emitter.emit("change",{rawValue:e,sender:this}))},enumerable:!1,configurable:!0}),t}();function G(t,e,n){if(r(e.read()))throw new U({context:{key:e.key},type:"emptyvalue"});var i=o.inputs.reduce((function(i,o){return i||function(t,e){var n=t.binding.accept(e.target.read(),e.params);if(null===n)return null;var i={target:e.target,initialValue:n,params:e.params},o=t.binding.reader(i),r=t.binding.constraint?t.binding.constraint(i):void 0,a=new Y(o(n),{constraint:r,equals:t.binding.equals}),s=new q({reader:o,target:e.target,value:a,writer:t.binding.writer(i)}),l=t.controller({binding:s,document:e.document,initialValue:n,params:e.params});return new b(e.document,{binding:s,controller:l,label:e.params.label||e.target.key,blade:new w})}(o,{document:t,target:e,params:n})}),null);if(i)return i;throw new U({context:{key:e.key},type:"nomatchingcontroller"})}var $=function(){function t(t){this.controller=t}return Object.defineProperty(t.prototype,"hidden",{get:function(){return this.controller.blade.hidden},set:function(t){this.controller.blade.hidden=t},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this.controller.blade.dispose()},t.prototype.on=function(t,e){return function(t){var e=t.binding,n=t.eventName,i=t.handler;"update"===n&&e.emitter.on("update",(function(t){i(t.sender.target.read())}))}({binding:this.controller.binding,eventName:t,handler:e.bind(this)}),this},t.prototype.refresh=function(){this.controller.binding.read()},t}(),W={defaultInterval:200,defaultLineCount:3};function X(t,e){for(;t.length<e;)t.push(void 0)}function Q(t,e){var n=[t];return X(n,e),new Y(n)}var Z=function(){function t(t){this.onTick_=this.onTick_.bind(this),this.reader_=t.reader,this.target=t.target,this.emitter=new a,this.value=t.value,this.ticker=t.ticker,this.ticker.emitter.on("tick",this.onTick_),this.read()}return t.prototype.dispose=function(){this.ticker.disposable.dispose()},t.prototype.read=function(){var t=this.target.read();if(void 0!==t){var e=this.value.rawValue,n=this.reader_(t);this.value.rawValue=function(t,e){var n=i(function(t){var e=t.indexOf(void 0);return e<0?t:t.slice(0,e)}(t),[e]);return n.length>t.length?n.splice(0,n.length-t.length):X(n,t.length),n}(e,n),this.emitter.emit("update",{rawValue:n,sender:this})}},t.prototype.onTick_=function(t){this.read()},t}(),J=function(){function t(t,e){var n=this;if(this.id_=null,this.onTick_=this.onTick_.bind(this),this.doc_=t,this.emitter=new a,e<=0)this.id_=null;else{var i=this.doc_.defaultView;i&&(this.id_=i.setInterval(this.onTick_,e))}this.disposable=new _,this.disposable.emitter.on("dispose",(function(){if(null!==n.id_){var t=n.doc_.defaultView;t&&t.clearInterval(n.id_)}n.id_=null}))}return t.prototype.onTick_=function(){this.emitter.emit("tick",{sender:this})},t}(),tt=function(){function t(){this.disposable=new _,this.emitter=new a}return t.prototype.tick=function(){this.emitter.emit("tick",{sender:this})},t}();function et(t,e,n){if(r(e.read()))throw new U({context:{key:e.key},type:"emptyvalue"});var i=o.monitors.reduce((function(i,o){return i||function(t,e){var n,i,o,r=t.binding.accept(e.target.read(),e.params);if(null===r)return null;var a,s,l={target:e.target,initialValue:r,params:e.params},u=t.binding.reader(l),d=null!==(o=null!==(i=null!==(n=e.params.bufferSize)&&void 0!==n?n:e.params.count)&&void 0!==i?i:t.binding.defaultBufferSize&&t.binding.defaultBufferSize(e.params))&&void 0!==o?o:1,p=new Z({reader:u,target:e.target,ticker:(a=e.document,s=e.params.interval,0===s?new tt:new J(a,null!=s?s:W.defaultInterval)),value:Q(u(r),d)});return new g(e.document,{binding:p,controller:t.controller({binding:p,document:e.document,params:e.params}),label:e.params.label||e.target.key,blade:new w})}(o,{document:t,params:n,target:e})}),null);if(i)return i;throw new U({context:{key:e.key},type:"nomatchingcontroller"})}var nt=function(){function t(t){this.controller=t}return Object.defineProperty(t.prototype,"hidden",{get:function(){return this.controller.blade.hidden},set:function(t){this.controller.blade.hidden=t},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this.controller.blade.dispose()},t}(),it=function(){function t(t){this.controller=t}return Object.defineProperty(t.prototype,"expanded",{get:function(){return this.controller.folder.expanded},set:function(t){this.controller.folder.expanded=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hidden",{get:function(){return this.controller.blade.hidden},set:function(t){this.controller.blade.hidden=t},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this.controller.blade.dispose()},t.prototype.addInput=function(t,e,n){var i=n||{},o=G(this.controller.document,new z(t,e,i.presetKey),i);return this.controller.bladeRack.add(o,i.index),new H(o)},t.prototype.addMonitor=function(t,e,n){var i=n||{},o=et(this.controller.document,new z(t,e),i);return this.controller.bladeRack.add(o,i.index),new $(o)},t.prototype.addFolder=function(e){var i=new A(this.controller.document,n(n({},e),{blade:new w}));return this.controller.bladeRack.add(i,e.index),new t(i)},t.prototype.addButton=function(t){var e=new v(this.controller.document,n(n({},t),{blade:new w}));return this.controller.bladeRack.add(e,t.index),new T(e)},t.prototype.addSeparator=function(t){var e=t||{},n=new B(this.controller.document,{blade:new w});return this.controller.bladeRack.add(n,e.index),new nt(n)},t.prototype.on=function(t,e){return K({eventName:t,folder:this.controller.folder,handler:e.bind(this),bladeRack:this.controller.bladeRack}),this},t}();var ot=function(){function t(t){this.controller=t}return t.registerPlugin=function(t){"input"===t.type?o.inputs.unshift(t.plugin):"monitor"===t.type&&o.monitors.unshift(t.plugin)},Object.defineProperty(t.prototype,"element",{get:function(){return this.controller.view.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expanded",{get:function(){var t=this.controller.folder;return!t||t.expanded},set:function(t){var e=this.controller.folder;e&&(e.expanded=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hidden",{get:function(){return this.controller.blade.hidden},set:function(t){this.controller.blade.hidden=t},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this.controller.blade.dispose()},t.prototype.addInput=function(t,e,n){var i=n||{},o=G(this.controller.document,new z(t,e,i.presetKey),i);return this.controller.bladeRack.add(o,i.index),new H(o)},t.prototype.addMonitor=function(t,e,n){var i=n||{},o=et(this.controller.document,new z(t,e),i);return this.controller.bladeRack.add(o,i.index),new $(o)},t.prototype.addButton=function(t){var e=new v(this.controller.document,n(n({},t),{blade:new w}));return this.controller.bladeRack.add(e,t.index),new T(e)},t.prototype.addFolder=function(t){var e=new A(this.controller.document,n(n({},t),{blade:new w}));return this.controller.bladeRack.add(e,t.index),new it(e)},t.prototype.addSeparator=function(t){var e=t||{},n=new B(this.controller.document,{blade:new w});return this.controller.bladeRack.add(n,e.index),new nt(n)},t.prototype.importPreset=function(t){!function(t,e){t.forEach((function(t){var n=e[t.presetKey];void 0!==n&&t.write(n)}))}(this.controller.bladeRack.find(b).map((function(t){return t.binding.target})),t),this.refresh()},t.prototype.exportPreset=function(){return function(t){return t.reduce((function(t,e){var n;return Object.assign(t,((n={})[e.presetKey]=e.read(),n))}),{})}(this.controller.bladeRack.find(b).map((function(t){return t.binding.target})))},t.prototype.on=function(t,e){return K({eventName:t,folder:this.controller.folder,handler:e.bind(this),bladeRack:this.controller.bladeRack}),this},t.prototype.refresh=function(){this.controller.bladeRack.find(b).forEach((function(t){t.binding.read()})),this.controller.bladeRack.find(g).forEach((function(t){t.binding.read()}))},t}(),rt=u("rot"),at=function(){function t(t,e){this.titleElem_=null,this.onFolderChange_=this.onFolderChange_.bind(this),this.folder_=e.folder,this.folder_&&this.folder_.emitter.on("change",this.onFolderChange_),this.element=t.createElement("div"),this.element.classList.add(rt());var n=this.folder_;if(n){var i=t.createElement("button");i.classList.add(rt("t")),i.textContent=n.title,this.element.appendChild(i);var o=t.createElement("div");o.classList.add(rt("m")),i.appendChild(o),this.titleElem_=i}var r=t.createElement("div");r.classList.add(rt("c")),this.element.appendChild(r),this.containerElement=r,this.applyModel_()}return Object.defineProperty(t.prototype,"titleElement",{get:function(){return this.titleElem_},enumerable:!1,configurable:!0}),t.prototype.applyModel_=function(){var t=!this.folder_||this.folder_.styleExpanded,e=rt(void 0,"expanded");t?this.element.classList.add(e):this.element.classList.remove(e),this.containerElement.style.height=this.folder_?this.folder_.styleHeight:"auto"},t.prototype.onFolderChange_=function(){this.applyModel_()},t}();var st=function(){function t(t,e){this.onContainerTransitionEnd_=this.onContainerTransitionEnd_.bind(this),this.onFolderBeforeChange_=this.onFolderBeforeChange_.bind(this),this.onTitleClick_=this.onTitleClick_.bind(this),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackItemLayout_=this.onRackItemLayout_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this),this.folder=function(t){var e;return t.title?new I(t.title,null===(e=t.expanded)||void 0===e||e):null}(e),this.folder&&this.folder.emitter.on("beforechange",this.onFolderBeforeChange_),this.bladeRack=new S,this.bladeRack.emitter.on("add",this.onRackAdd_),this.bladeRack.emitter.on("itemlayout",this.onRackItemLayout_),this.bladeRack.emitter.on("remove",this.onRackRemove_),this.doc_=t,this.blade=e.blade,this.view=new at(this.doc_,{folder:this.folder}),this.view.titleElement&&this.view.titleElement.addEventListener("click",this.onTitleClick_),this.view.containerElement.addEventListener("transitionend",this.onContainerTransitionEnd_),p(this.view,this.blade)}return Object.defineProperty(t.prototype,"document",{get:function(){return this.doc_},enumerable:!1,configurable:!0}),t.prototype.onFolderBeforeChange_=function(t){if("expanded"===t.propertyName){var e=this.folder;e&&(r(e.expandedHeight)&&(e.expandedHeight=O(e,this.view.containerElement)),e.shouldFixHeight=!0,x(this.view.containerElement))}},t.prototype.applyRackChange_=function(){F(this.bladeRack)},t.prototype.onRackAdd_=function(t){L(this.view.containerElement,t.blade.view.element,t.index),this.applyRackChange_()},t.prototype.onRackRemove_=function(t){this.applyRackChange_()},t.prototype.onRackItemLayout_=function(t){this.applyRackChange_()},t.prototype.onTitleClick_=function(){this.folder&&(this.folder.expanded=!this.folder.expanded)},t.prototype.onContainerTransitionEnd_=function(t){"height"===t.propertyName&&this.folder&&(this.folder.shouldFixHeight=!1,this.folder.expandedHeight=null)},t}(),lt=function(){function t(t){this.constraints_=t.constraints}return Object.defineProperty(t.prototype,"constraints",{get:function(){return this.constraints_},enumerable:!1,configurable:!0}),t.prototype.constrain=function(t){return this.constraints_.reduce((function(t,e){return e.constrain(t)}),t)},t}();function ut(t,e){if(t instanceof e)return t;if(t instanceof lt){var n=t.constraints.reduce((function(t,n){return t||(n instanceof e?n:null)}),null);if(n)return n}return null}var dt=function(){function t(t){this.opts_=t.options}return Object.defineProperty(t.prototype,"options",{get:function(){return this.opts_},enumerable:!1,configurable:!0}),t.prototype.constrain=function(t){var e=this.opts_;return 0===e.length||e.filter((function(e){return e.value===t})).length>0?t:e[0].value},t}();function pt(t){return"false"!==t&&!!t}function ht(t){return String(t)}var ct=function(){function t(){}return t.prototype.format=function(t){return ht(t)},t}(),vt=function(){function t(t){this.step=t.step}return t.prototype.constrain=function(t){return(t<0?-Math.round(-t/this.step):Math.round(t/this.step))*this.step},t}();function ft(t,e,n,i,o){return i+(t-e)/(n-e)*(o-i)}function mt(t){return String(t.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function bt(t,e,n){return Math.min(Math.max(t,e),n)}function gt(t,e){return(t%e+e)%e}function _t(t,e){if(Array.isArray(t))return t.map((function(t){return{text:t.text,value:e(t.value)}}));var n=t;return Object.keys(n).reduce((function(t,i){return t.concat({text:i,value:e(n[i])})}),[])}function wt(t){var e=t?ut(t,dt):null;return e?e.options:null}function yt(t,e){var n=t&&ut(t,vt);return n?mt(n.step):Math.max(mt(e),2)}function xt(t){var e=function(t){var e=t?ut(t,vt):null;return e?e.step:null}(t);return null!=e?e:1}var Ct=u("lst"),kt=function(){function t(t,e){var n=this;this.onValueChange_=this.onValueChange_.bind(this),this.element=t.createElement("div"),this.element.classList.add(Ct()),this.stringifyValue_=e.stringifyValue;var i=t.createElement("select");i.classList.add(Ct("s")),e.options.forEach((function(e,o){var r=t.createElement("option");r.dataset.index=String(o),r.textContent=e.text,r.value=n.stringifyValue_(e.value),i.appendChild(r)})),this.element.appendChild(i),this.selectElement=i;var o=t.createElement("div");o.classList.add(Ct("m")),this.element.appendChild(o),e.value.emitter.on("change",this.onValueChange_),this.value=e.value,this.update()}return t.prototype.update=function(){this.selectElement.value=this.stringifyValue_(this.value.rawValue)},t.prototype.onValueChange_=function(){this.update()},t}(),Et=function(){function t(t,e){this.onSelectChange_=this.onSelectChange_.bind(this),this.value=e.value,this.listItems_=e.listItems,this.view=new kt(t,{options:this.listItems_,stringifyValue:e.stringifyValue,value:this.value}),this.view.selectElement.addEventListener("change",this.onSelectChange_)}return t.prototype.onSelectChange_=function(t){var e=t.currentTarget.selectedOptions.item(0);if(e){var n=Number(e.dataset.index);this.value.rawValue=this.listItems_[n].value,this.view.update()}},t}(),Vt=u("ckb"),Lt=function(){function t(t,e){this.onValueChange_=this.onValueChange_.bind(this),this.element=t.createElement("div"),this.element.classList.add(Vt());var n=t.createElement("label");n.classList.add(Vt("l")),this.element.appendChild(n);var i=t.createElement("input");i.classList.add(Vt("i")),i.type="checkbox",n.appendChild(i),this.inputElement=i;var o=t.createElement("div");o.classList.add(Vt("m")),n.appendChild(o),e.value.emitter.on("change",this.onValueChange_),this.value=e.value,this.update()}return t.prototype.update=function(){this.inputElement.checked=this.value.rawValue},t.prototype.onValueChange_=function(){this.update()},t}(),Pt=function(){function t(t,e){this.onInputChange_=this.onInputChange_.bind(this),this.value=e.value,this.view=new Lt(t,{value:this.value}),this.view.inputElement.addEventListener("change",this.onInputChange_)}return t.prototype.onInputChange_=function(t){var e=t.currentTarget;this.value.rawValue=e.checked,this.view.update()},t}();var It={id:"input-bool",binding:{accept:function(t){return"boolean"==typeof t?t:null},constraint:function(t){return e=t.params,n=[],"options"in e&&void 0!==e.options&&n.push(new dt({options:_t(e.options,pt)})),new lt({constraints:n});var e,n},reader:function(t){return pt},writer:function(t){return function(t){return t}}},controller:function(t){return e=t.document,n=t.binding.value,(o=n.constraint)&&ut(o,dt)?new Et(e,{listItems:null!==(i=wt(o))&&void 0!==i?i:[],stringifyValue:ht,value:n}):new Pt(e,{value:n});var e,n,i,o}};function Ft(t,e,n){var i=bt(t/255,0,1),o=bt(e/255,0,1),r=bt(n/255,0,1),a=Math.max(i,o,r),s=Math.min(i,o,r),l=a-s,u=0,d=0,p=(s+a)/2;return 0!==l&&(d=p>.5?l/(2-s-a):l/(a+s),u=(u=i===a?(o-r)/l:o===a?2+(r-i)/l:4+(i-o)/l)/6+(u<0?1:0)),[360*u,100*d,100*p]}function Ot(t,e,n){var i,o,r,a,s,l,u,d,p,h=(t%360+360)%360,c=bt(e/100,0,1),v=bt(n/100,0,1),f=(1-Math.abs(2*v-1))*c,m=f*(1-Math.abs(h/60%2-1)),b=v-f/2;return h>=0&&h<60?(u=(i=[f,m,0])[0],d=i[1],p=i[2]):h>=60&&h<120?(u=(o=[m,f,0])[0],d=o[1],p=o[2]):h>=120&&h<180?(u=(r=[0,f,m])[0],d=r[1],p=r[2]):h>=180&&h<240?(u=(a=[0,m,f])[0],d=a[1],p=a[2]):h>=240&&h<300?(u=(s=[m,0,f])[0],d=s[1],p=s[2]):(u=(l=[f,0,m])[0],d=l[1],p=l[2]),[255*(u+b),255*(d+b),255*(p+b)]}function Mt(t,e,n){var i=bt(t/255,0,1),o=bt(e/255,0,1),r=bt(n/255,0,1),a=Math.max(i,o,r),s=a-Math.min(i,o,r);return[0===s?0:a===i?((o-r)/s%6+6)%6*60:a===o?60*((r-i)/s+2):60*((i-o)/s+4),100*(0===a?0:s/a),100*a]}function St(t,e,n){var i,o,r,a,s,l,u,d,p,h=gt(t,360),c=bt(e/100,0,1),v=bt(n/100,0,1),f=v*c,m=f*(1-Math.abs(h/60%2-1)),b=v-f;return h>=0&&h<60?(u=(i=[f,m,0])[0],d=i[1],p=i[2]):h>=60&&h<120?(u=(o=[m,f,0])[0],d=o[1],p=o[2]):h>=120&&h<180?(u=(r=[0,f,m])[0],d=r[1],p=r[2]):h>=180&&h<240?(u=(a=[0,m,f])[0],d=a[1],p=a[2]):h>=240&&h<300?(u=(s=[m,0,f])[0],d=s[1],p=s[2]):(u=(l=[f,0,m])[0],d=l[1],p=l[2]),[255*(u+b),255*(d+b),255*(p+b)]}function Dt(t){return[t[0],t[1],t[2]]}var jt={hsl:{hsl:function(t,e,n){return[t,e,n]},hsv:function(t,e,n){var i=Ot(t,e,n);return Mt(i[0],i[1],i[2])},rgb:Ot},hsv:{hsl:function(t,e,n){var i=St(t,e,n);return Ft(i[0],i[1],i[2])},hsv:function(t,e,n){return[t,e,n]},rgb:St},rgb:{hsl:Ft,hsv:Mt,rgb:function(t,e,n){return[t,e,n]}}};var At={hsl:function(t){var e;return[gt(t[0],360),bt(t[1],0,100),bt(t[2],0,100),bt(null!==(e=t[3])&&void 0!==e?e:1,0,1)]},hsv:function(t){var e;return[gt(t[0],360),bt(t[1],0,100),bt(t[2],0,100),bt(null!==(e=t[3])&&void 0!==e?e:1,0,1)]},rgb:function(t){var e;return[bt(t[0],0,255),bt(t[1],0,255),bt(t[2],0,255),bt(null!==(e=t[3])&&void 0!==e?e:1,0,1)]}};function Rt(t,e){return"object"==typeof t&&!r(t)&&(e in t&&"number"==typeof t[e])}var Nt=function(){function t(t,e){this.mode_=e,this.comps_=At[e](t)}return t.black=function(){return new t([0,0,0],"rgb")},t.fromObject=function(e){return new t("a"in e?[e.r,e.g,e.b,e.a]:[e.r,e.g,e.b],"rgb")},t.toRgbaObject=function(t){return t.toRgbaObject()},t.isRgbColorObject=function(t){return Rt(t,"r")&&Rt(t,"g")&&Rt(t,"b")},t.isRgbaColorObject=function(t){return this.isRgbColorObject(t)&&Rt(t,"a")},t.isColorObject=function(t){return this.isRgbColorObject(t)},t.equals=function(t,e){if(t.mode_!==e.mode_)return!1;for(var n=t.comps_,i=e.comps_,o=0;o<n.length;o++)if(n[o]!==i[o])return!1;return!0},Object.defineProperty(t.prototype,"mode",{get:function(){return this.mode_},enumerable:!1,configurable:!0}),t.prototype.getComponents=function(t){return i=Dt(this.comps_),o=this.mode_,r=t||this.mode_,e=(a=jt[o])[r].apply(a,i),n=this.comps_[3],[e[0],e[1],e[2],n];var e,n,i,o,r,a},t.prototype.toRgbaObject=function(){var t=this.getComponents("rgb");return{r:t[0],g:t[1],b:t[2],a:t[3]}},t}();function Bt(t){if("number"==typeof t){var e=new Nt([(n=t)>>16&255,n>>8&255,255&n],"rgb");if(e)return e}var n;return Nt.black()}function zt(t){if("number"==typeof t){var e=new Nt([(n=t)>>24&255,n>>16&255,n>>8&255,ft(255&n,0,255,0,1)],"rgb");if(e)return e}var n;return Nt.black()}function Tt(t,e){var n=t.match(/^(.+)%$/);return n?Math.min(.01*parseFloat(n[1])*e,e):Math.min(parseFloat(t),e)}var Kt={deg:function(t){return t},grad:function(t){return 360*t/400},rad:function(t){return 360*t/(2*Math.PI)},turn:function(t){return 360*t}};function Ht(t){var e=t.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);if(!e)return parseFloat(t);var n=parseFloat(e[1]),i=e[2];return Kt[i](n)}var Ut={"func.rgb":function(t){var e=t.match(/^rgb\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;var n=[Tt(e[1],255),Tt(e[2],255),Tt(e[3],255)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:new Nt(n,"rgb")},"func.rgba":function(t){var e=t.match(/^rgba\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;var n=[Tt(e[1],255),Tt(e[2],255),Tt(e[3],255),Tt(e[4],1)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:new Nt(n,"rgb")},"func.hsl":function(t){var e=t.match(/^hsl\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;var n=[Ht(e[1]),Tt(e[2],100),Tt(e[3],100)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:new Nt(n,"hsl")},"func.hsla":function(t){var e=t.match(/^hsla\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;var n=[Ht(e[1]),Tt(e[2],100),Tt(e[3],100),Tt(e[4],1)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:new Nt(n,"hsl")},"hex.rgb":function(t){var e=t.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(e)return new Nt([parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)],"rgb");var n=t.match(/^#([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return n?new Nt([parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)],"rgb"):null},"hex.rgba":function(t){var e=t.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(e)return new Nt([parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),ft(parseInt(e[4]+e[4],16),0,255,0,1)],"rgb");var n=t.match(/^#?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return n?new Nt([parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16),ft(parseInt(n[4],16),0,255,0,1)],"rgb"):null}};function qt(t){return Object.keys(Ut).reduce((function(e,n){return e||((0,Ut[n])(t)?n:null)}),null)}var Yt=function(t){var e=qt(t);return e?Ut[e](t):null};function Gt(t){return"func.hsla"===t||"func.rgba"===t||"hex.rgba"===t}function $t(t){if("string"==typeof t){var e=Yt(t);if(e)return e}return Nt.black()}function Wt(t){return String(t)}var Xt=function(){function t(t){this.digits_=t}return Object.defineProperty(t.prototype,"digits",{get:function(){return this.digits_},enumerable:!1,configurable:!0}),t.prototype.format=function(t){return t.toFixed(Math.max(Math.min(this.digits_,20),0))},t}(),Qt=new Xt(0),Zt=function(){function t(){}return t.prototype.format=function(t){return Qt.format(t)+"%"},t}(),Jt=function(){function t(t){this.stringifier_=t}return t.prototype.format=function(t){return this.stringifier_(t)},t}();function te(t){var e=bt(Math.floor(t),0,255).toString(16);return 1===e.length?"0"+e:e}function ee(t){return"#"+Dt(t.getComponents("rgb")).map(te).join("")}function ne(t){var e=t.getComponents("rgb");return"#"+[e[0],e[1],e[2],255*e[3]].map(te).join("")}function ie(t){var e=new Xt(0);return"rgb("+Dt(t.getComponents("rgb")).map((function(t){return e.format(t)})).join(", ")+")"}function oe(t){var e=new Xt(2),n=new Xt(0);return"rgba("+t.getComponents("rgb").map((function(t,i){return(3===i?e:n).format(t)})).join(", ")+")"}var re={"func.hsl":function(t){var e=[new Xt(0),new Zt,new Zt];return"hsl("+Dt(t.getComponents("hsl")).map((function(t,n){return e[n].format(t)})).join(", ")+")"},"func.hsla":function(t){var e=[new Xt(0),new Zt,new Zt,new Xt(2)];return"hsla("+t.getComponents("hsl").map((function(t,n){return e[n].format(t)})).join(", ")+")"},"func.rgb":ie,"func.rgba":oe,"hex.rgb":ee,"hex.rgba":ne};function ae(t){return Dt(t.getComponents("rgb")).reduce((function(t,e){return t<<8|255&Math.floor(e)}),0)}function se(t){return t.getComponents("rgb").reduce((function(t,e,n){return t<<8|255&Math.floor(3===n?255*e:e)}),0)>>>0}var le=u("txt"),ue=function(){function t(t,e){this.onValueChange_=this.onValueChange_.bind(this),this.formatter_=e.formatter,this.element=t.createElement("div"),this.element.classList.add(le());var n=t.createElement("input");n.classList.add(le("i")),n.type="text",this.element.appendChild(n),this.inputElement=n,e.value.emitter.on("change",this.onValueChange_),this.value=e.value,this.update()}return t.prototype.update=function(){this.inputElement.value=this.formatter_.format(this.value.rawValue)},t.prototype.onValueChange_=function(){this.update()},t}(),de=function(){function t(t,e){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=e.parser,this.value=e.value,this.view=new ue(t,{formatter:e.formatter,value:this.value}),this.view.inputElement.addEventListener("change",this.onInputChange_)}return t.prototype.onInputChange_=function(t){var e=t.currentTarget.value,n=this.parser_(e);r(n)||(this.value.rawValue=n),this.view.update()},t}(),pe=u("cswtxt"),he=function(){function t(t,e){this.element=t.createElement("div"),this.element.classList.add(pe());var n=t.createElement("div");n.classList.add(pe("s")),this.swatchView_=e.swatchView,n.appendChild(this.swatchView_.element),this.element.appendChild(n);var i=t.createElement("div");i.classList.add(pe("t")),this.textView=e.textView,i.appendChild(this.textView.element),this.element.appendChild(i)}return Object.defineProperty(t.prototype,"value",{get:function(){return this.textView.value},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.swatchView_.update(),this.textView.update()},t}(),ce=function(){function t(t){this.onValueChange_=this.onValueChange_.bind(this),this.mode_=t.rawValue.mode,this.value=t,this.value.emitter.on("change",this.onValueChange_),this.emitter=new a}return Object.defineProperty(t.prototype,"mode",{get:function(){return this.mode_},set:function(t){this.mode_!==t&&(this.mode_=t,this.emitter.emit("change",{propertyName:"mode",sender:this}))},enumerable:!1,configurable:!0}),t.prototype.onValueChange_=function(){this.emitter.emit("change",{propertyName:"value",sender:this})},t}(),ve=u("csw"),fe=function(){function t(t,e){this.onValueChange_=this.onValueChange_.bind(this),e.value.emitter.on("change",this.onValueChange_),this.value=e.value,this.element=t.createElement("div"),this.element.classList.add(ve());var n=t.createElement("div");n.classList.add(ve("sw")),this.element.appendChild(n),this.swatchElem_=n;var i=t.createElement("button");i.classList.add(ve("b")),this.element.appendChild(i),this.buttonElement=i;var o=t.createElement("div");o.classList.add(ve("p")),this.pickerView_=e.pickerView,o.appendChild(this.pickerView_.element),this.element.appendChild(o),this.update()}return t.prototype.update=function(){var t=this.value.rawValue;this.swatchElem_.style.backgroundColor=ne(t)},t.prototype.onValueChange_=function(){this.update()},t}(),me=function(){function t(){this.emitter=new a,this.expanded_=!1}return Object.defineProperty(t.prototype,"expanded",{get:function(){return this.expanded_},set:function(t){this.expanded_!==t&&(this.expanded_=t,this.emitter.emit("change",{sender:this}))},enumerable:!1,configurable:!0}),t}();var be=function(t){var e=parseFloat(t);return isNaN(e)?null:e};function ge(t,e){var n=t*(e.altKey?.1:1)*(e.shiftKey?10:1);return e.upKey?+n:e.downKey?-n:0}function _e(t){return{altKey:t.altKey,downKey:40===t.keyCode,shiftKey:t.shiftKey,upKey:38===t.keyCode}}function we(t){return{altKey:t.altKey,downKey:37===t.keyCode,shiftKey:t.shiftKey,upKey:39===t.keyCode}}function ye(t){return function(t){return 38===t||40===t}(t)||37===t||39===t}function xe(t){return t?.1:1}var Ce=function(t){function n(e,n){var i=t.call(this,e,n)||this;return i.onInputKeyDown_=i.onInputKeyDown_.bind(i),i.baseStep_=n.baseStep,i.view.inputElement.addEventListener("keydown",i.onInputKeyDown_),i}return e(n,t),n.prototype.onInputKeyDown_=function(t){var e=ge(this.baseStep_,_e(t));0!==e&&(this.value.rawValue+=e,this.view.update())},n}(de),ke=u("clp"),Ee=function(){function t(t,e){this.alphaViews_=null,this.onFoldableChange_=this.onFoldableChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.pickedColor=e.pickedColor,this.pickedColor.value.emitter.on("change",this.onValueChange_),this.foldable=e.foldable,this.foldable.emitter.on("change",this.onFoldableChange_),this.element=t.createElement("div"),this.element.classList.add(ke());var n=t.createElement("div");n.classList.add(ke("hsv"));var i=t.createElement("div");i.classList.add(ke("sv")),this.svPaletteView_=e.svPaletteView,i.appendChild(this.svPaletteView_.element),n.appendChild(i);var o=t.createElement("div");o.classList.add(ke("h")),this.hPaletteView_=e.hPaletteView,o.appendChild(this.hPaletteView_.element),n.appendChild(o),this.element.appendChild(n);var r=t.createElement("div");if(r.classList.add(ke("rgb")),this.compTextsView_=e.componentTextsView,r.appendChild(this.compTextsView_.element),this.element.appendChild(r),e.alphaViews){this.alphaViews_={palette:e.alphaViews.palette,text:e.alphaViews.text};var a=t.createElement("div");a.classList.add(ke("a"));var s=t.createElement("div");s.classList.add(ke("ap")),s.appendChild(this.alphaViews_.palette.element),a.appendChild(s);var l=t.createElement("div");l.classList.add(ke("at")),l.appendChild(this.alphaViews_.text.element),a.appendChild(l),this.element.appendChild(a)}this.update()}return Object.defineProperty(t.prototype,"allFocusableElements",{get:function(){var t=i([this.svPaletteView_.element,this.hPaletteView_.element],this.compTextsView_.inputElements);return this.alphaViews_&&t.push(this.alphaViews_.palette.element,this.alphaViews_.text.inputElement),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.pickedColor.value},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.foldable.expanded?this.element.classList.add(ke(void 0,"expanded")):this.element.classList.remove(ke(void 0,"expanded"))},t.prototype.onValueChange_=function(){this.update()},t.prototype.onFoldableChange_=function(){this.update()},t}();function Ve(t,e){var n=e.ownerDocument.defaultView,i=e.getBoundingClientRect();return[t.pageX-((n&&n.scrollX||0)+i.left),t.pageY-((n&&n.scrollY||0)+i.top)]}var Le=function(){function t(t,e){this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.document=t,this.element=e,this.emitter=new a,this.pressed_=!1,C(this.document)?(e.addEventListener("touchstart",this.onTouchStart_),e.addEventListener("touchmove",this.onTouchMove_)):(e.addEventListener("mousedown",this.onMouseDown_),this.document.addEventListener("mousemove",this.onDocumentMouseMove_),this.document.addEventListener("mouseup",this.onDocumentMouseUp_))}return t.prototype.computePosition_=function(t,e){var n=this.element.getBoundingClientRect();return{px:t/n.width,py:e/n.height}},t.prototype.onMouseDown_=function(t){var e;t.preventDefault(),null===(e=t.currentTarget)||void 0===e||e.focus(),this.pressed_=!0,this.emitter.emit("down",{data:this.computePosition_.apply(this,Ve(t,this.element)),sender:this})},t.prototype.onDocumentMouseMove_=function(t){this.pressed_&&this.emitter.emit("move",{data:this.computePosition_.apply(this,Ve(t,this.element)),sender:this})},t.prototype.onDocumentMouseUp_=function(t){this.pressed_&&(this.pressed_=!1,this.emitter.emit("up",{data:this.computePosition_.apply(this,Ve(t,this.element)),sender:this}))},t.prototype.onTouchStart_=function(t){t.preventDefault();var e=t.targetTouches[0],n=this.element.getBoundingClientRect();this.emitter.emit("down",{data:this.computePosition_(e.clientX-n.left,e.clientY-n.top),sender:this})},t.prototype.onTouchMove_=function(t){var e=t.targetTouches[0],n=this.element.getBoundingClientRect();this.emitter.emit("move",{data:this.computePosition_(e.clientX-n.left,e.clientY-n.top),sender:this})},t}(),Pe=u("apl"),Ie=function(){function t(t,e){this.onValueChange_=this.onValueChange_.bind(this),this.value=e.value,this.value.emitter.on("change",this.onValueChange_),this.element=t.createElement("div"),this.element.classList.add(Pe()),this.element.tabIndex=0;var n=t.createElement("div");n.classList.add(Pe("b")),this.element.appendChild(n);var i=t.createElement("div");i.classList.add(Pe("c")),n.appendChild(i),this.colorElem_=i;var o=t.createElement("div");o.classList.add(Pe("m")),this.element.appendChild(o),this.markerElem_=o;var r=t.createElement("div");r.classList.add(Pe("p")),this.markerElem_.appendChild(r),this.previewElem_=r,this.update()}return t.prototype.update=function(){var t=this.value.rawValue,e=t.getComponents("rgb"),n=new Nt([e[0],e[1],e[2],0],"rgb"),i=new Nt([e[0],e[1],e[2],255],"rgb"),o=["to right",oe(n),oe(i)];this.colorElem_.style.background="linear-gradient("+o.join(",")+")",this.previewElem_.style.backgroundColor=oe(t);var r=ft(e[3],0,1,0,100);this.markerElem_.style.left=r+"%"},t.prototype.onValueChange_=function(){this.update()},t}(),Fe=function(){function t(t,e){this.onKeyDown_=this.onKeyDown_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=e.value,this.view=new Ie(t,{value:this.value}),this.ptHandler_=new Le(t,this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_)}return t.prototype.handlePointerEvent_=function(t){var e=t.px,n=this.value.rawValue.getComponents("hsv"),i=n[0],o=n[1],r=n[2];this.value.rawValue=new Nt([i,o,r,e],"hsv"),this.view.update()},t.prototype.onPointerDown_=function(t){this.handlePointerEvent_(t.data)},t.prototype.onPointerMove_=function(t){this.handlePointerEvent_(t.data)},t.prototype.onPointerUp_=function(t){this.handlePointerEvent_(t.data)},t.prototype.onKeyDown_=function(t){var e=ge(xe(!0),we(t)),n=this.value.rawValue.getComponents("hsv"),i=n[0],o=n[1],r=n[2],a=n[3];this.value.rawValue=new Nt([i,o,r,a+e],"hsv")},t}(),Oe=u("cctxts"),Me=new Xt(0);var Se=function(){function t(t,e){this.onValueChange_=this.onValueChange_.bind(this),this.element=t.createElement("div"),this.element.classList.add(Oe());var n=t.createElement("div");n.classList.add(Oe("m")),this.modeElem_=function(t){var e=t.createElement("select");return e.appendChild([{text:"RGB",value:"rgb"},{text:"HSL",value:"hsl"},{text:"HSV",value:"hsv"}].reduce((function(e,n){var i=t.createElement("option");return i.textContent=n.text,i.value=n.value,e.appendChild(i),e}),t.createDocumentFragment())),e}(t),this.modeElem_.classList.add(Oe("ms")),n.appendChild(this.modeSelectElement);var i=t.createElement("div");i.classList.add(Oe("mm")),n.appendChild(i),this.element.appendChild(n);var o=t.createElement("div");o.classList.add(Oe("w")),this.element.appendChild(o);var r=[0,1,2].map((function(){var e=t.createElement("input");return e.classList.add(Oe("i")),e.type="text",e}));r.forEach((function(t){o.appendChild(t)})),this.inputElems_=[r[0],r[1],r[2]],this.pickedColor=e.pickedColor,this.pickedColor.emitter.on("change",this.onValueChange_),this.update()}return Object.defineProperty(t.prototype,"modeSelectElement",{get:function(){return this.modeElem_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputElements",{get:function(){return this.inputElems_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.pickedColor.value},enumerable:!1,configurable:!0}),t.prototype.update=function(){var t=this;this.modeElem_.value=this.pickedColor.mode,this.pickedColor.value.rawValue.getComponents(this.pickedColor.mode).forEach((function(e,n){var i=t.inputElems_[n];i&&(i.value=Me.format(e))}))},t.prototype.onValueChange_=function(){this.update()},t}(),De=function(){function t(t,e){var n=this;this.onModeSelectChange_=this.onModeSelectChange_.bind(this),this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.parser_=e.parser,this.pickedColor=e.pickedColor,this.view=new Se(t,{pickedColor:this.pickedColor}),this.view.inputElements.forEach((function(t){t.addEventListener("change",n.onInputChange_),t.addEventListener("keydown",n.onInputKeyDown_)})),this.view.modeSelectElement.addEventListener("change",this.onModeSelectChange_)}return Object.defineProperty(t.prototype,"value",{get:function(){return this.pickedColor.value},enumerable:!1,configurable:!0}),t.prototype.findIndexOfInputElem_=function(t){for(var e=this.view.inputElements,n=0;n<e.length;n++)if(e[n]===t)return n;return null},t.prototype.updateComponent_=function(t,e){var n=this.pickedColor.mode,i=this.value.rawValue.getComponents(n).map((function(n,i){return i===t?e:n}));this.value.rawValue=new Nt(i,n),this.view.update()},t.prototype.onInputChange_=function(t){var e=t.currentTarget,n=this.parser_(e.value);if(!r(n)){var i=this.findIndexOfInputElem_(e);r(i)||this.updateComponent_(i,n)}},t.prototype.onInputKeyDown_=function(t){var e=this.findIndexOfInputElem_(t.currentTarget),n=ge(xe(3===e),_e(t));if(0!==n){var i=t.currentTarget,o=this.parser_(i.value);r(o)||r(e)||this.updateComponent_(e,o+n)}},t.prototype.onModeSelectChange_=function(t){var e=t.currentTarget;this.pickedColor.mode=e.value},t}(),je=u("hpl"),Ae=function(){function t(t,e){this.onValueChange_=this.onValueChange_.bind(this),this.value=e.value,this.value.emitter.on("change",this.onValueChange_),this.element=t.createElement("div"),this.element.classList.add(je()),this.element.tabIndex=0;var n=t.createElement("div");n.classList.add(je("c")),this.element.appendChild(n);var i=t.createElement("div");i.classList.add(je("m")),this.element.appendChild(i),this.markerElem_=i,this.update()}return t.prototype.update=function(){var t=this.value.rawValue.getComponents("hsv")[0];this.markerElem_.style.backgroundColor=ie(new Nt([t,100,100],"hsv"));var e=ft(t,0,360,0,100);this.markerElem_.style.left=e+"%"},t.prototype.onValueChange_=function(){this.update()},t}(),Re=function(){function t(t,e){this.onKeyDown_=this.onKeyDown_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=e.value,this.view=new Ae(t,{value:this.value}),this.ptHandler_=new Le(t,this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_)}return t.prototype.handlePointerEvent_=function(t){var e=ft(t.px,0,1,0,360),n=this.value.rawValue.getComponents("hsv"),i=n[1],o=n[2],r=n[3];this.value.rawValue=new Nt([e,i,o,r],"hsv"),this.view.update()},t.prototype.onPointerDown_=function(t){this.handlePointerEvent_(t.data)},t.prototype.onPointerMove_=function(t){this.handlePointerEvent_(t.data)},t.prototype.onPointerUp_=function(t){this.handlePointerEvent_(t.data)},t.prototype.onKeyDown_=function(t){var e=ge(xe(!1),we(t)),n=this.value.rawValue.getComponents("hsv"),i=n[0],o=n[1],r=n[2],a=n[3];this.value.rawValue=new Nt([i+e,o,r,a],"hsv")},t}(),Ne=u("svp"),Be=function(){function t(t,e){this.onValueChange_=this.onValueChange_.bind(this),this.value=e.value,this.value.emitter.on("change",this.onValueChange_),this.element=t.createElement("div"),this.element.classList.add(Ne()),this.element.tabIndex=0;var n=t.createElement("canvas");n.height=64,n.width=64,n.classList.add(Ne("c")),this.element.appendChild(n),this.canvasElement=n;var i=t.createElement("div");i.classList.add(Ne("m")),this.element.appendChild(i),this.markerElem_=i,this.update()}return t.prototype.update=function(){var t=E(this.canvasElement);if(t){for(var e=this.value.rawValue.getComponents("hsv"),n=this.canvasElement.width,i=this.canvasElement.height,o=t.getImageData(0,0,n,i),r=o.data,a=0;a<i;a++)for(var s=0;s<n;s++){var l=ft(s,0,n,0,100),u=ft(a,0,i,100,0),d=St(e[0],l,u),p=4*(a*n+s);r[p]=d[0],r[p+1]=d[1],r[p+2]=d[2],r[p+3]=255}t.putImageData(o,0,0);var h=ft(e[1],0,100,0,100);this.markerElem_.style.left=h+"%";var c=ft(e[2],0,100,100,0);this.markerElem_.style.top=c+"%"}},t.prototype.onValueChange_=function(){this.update()},t}(),ze=function(){function t(t,e){this.onKeyDown_=this.onKeyDown_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=e.value,this.view=new Be(t,{value:this.value}),this.ptHandler_=new Le(t,this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_)}return t.prototype.handlePointerEvent_=function(t){var e=ft(t.px,0,1,0,100),n=ft(t.py,0,1,100,0),i=this.value.rawValue.getComponents("hsv"),o=i[0],r=i[3];this.value.rawValue=new Nt([o,e,n,r],"hsv"),this.view.update()},t.prototype.onPointerDown_=function(t){this.handlePointerEvent_(t.data)},t.prototype.onPointerMove_=function(t){this.handlePointerEvent_(t.data)},t.prototype.onPointerUp_=function(t){this.handlePointerEvent_(t.data)},t.prototype.onKeyDown_=function(t){ye(t.keyCode)&&t.preventDefault();var e=this.value.rawValue.getComponents("hsv"),n=e[0],i=e[1],o=e[2],r=e[3],a=xe(!1);this.value.rawValue=new Nt([n,i+ge(a,we(t)),o+ge(a,_e(t)),r],"hsv")},t}(),Te=function(){function t(t,e){var n,i,o,r,a,s=this;this.triggerElement=null,this.onFocusableElementBlur_=this.onFocusableElementBlur_.bind(this),this.onKeyDown_=this.onKeyDown_.bind(this),this.pickedColor=e.pickedColor,this.foldable=new me,this.hPaletteIc_=new Re(t,{value:this.pickedColor.value}),this.svPaletteIc_=new ze(t,{value:this.pickedColor.value}),this.alphaIcs_=e.supportsAlpha?{palette:new Fe(t,{value:this.pickedColor.value}),text:new Ce(t,{formatter:new Xt(2),parser:be,baseStep:.1,value:new Y(0)})}:null,this.alphaIcs_&&(n={primary:this.pickedColor.value,secondary:this.alphaIcs_.text.value,forward:function(t){return t.rawValue.getComponents()[3]},backward:function(t,e){var n=t.rawValue.getComponents();return n[3]=e.rawValue,new Nt(n,t.rawValue.mode)}},i=n.primary,o=n.secondary,r=n.forward,a=n.backward,i.emitter.on("change",(function(){o.rawValue=r(i,o)})),o.emitter.on("change",(function(){i.rawValue=a(i,o)})),o.rawValue=r(i,o)),this.compTextsIc_=new De(t,{parser:be,pickedColor:this.pickedColor}),this.view=new Ee(t,{alphaViews:this.alphaIcs_?{palette:this.alphaIcs_.palette.view,text:this.alphaIcs_.text.view}:null,componentTextsView:this.compTextsIc_.view,foldable:this.foldable,hPaletteView:this.hPaletteIc_.view,pickedColor:this.pickedColor,supportsAlpha:e.supportsAlpha,svPaletteView:this.svPaletteIc_.view}),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.allFocusableElements.forEach((function(t){t.addEventListener("blur",s.onFocusableElementBlur_)}))}return Object.defineProperty(t.prototype,"value",{get:function(){return this.pickedColor.value},enumerable:!1,configurable:!0}),t.prototype.onFocusableElementBlur_=function(t){var e=this.view.element,n=P(t);n&&e.contains(n)||n&&n===this.triggerElement&&!C(e.ownerDocument)||(this.foldable.expanded=!1)},t.prototype.onKeyDown_=function(t){27===t.keyCode&&(this.foldable.expanded=!1)},t}(),Ke=function(){function t(t,e){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.value=e.value,this.pickerIc_=new Te(t,{pickedColor:new ce(this.value),supportsAlpha:e.supportsAlpha}),this.view=new fe(t,{pickerView:this.pickerIc_.view,value:this.value}),this.view.buttonElement.addEventListener("blur",this.onButtonBlur_),this.view.buttonElement.addEventListener("click",this.onButtonClick_),this.pickerIc_.triggerElement=this.view.buttonElement}return t.prototype.onButtonBlur_=function(t){var e=this.view.element,n=t.relatedTarget;n&&e.contains(n)||(this.pickerIc_.foldable.expanded=!1)},t.prototype.onButtonClick_=function(){this.pickerIc_.foldable.expanded=!this.pickerIc_.foldable.expanded,this.pickerIc_.foldable.expanded&&this.pickerIc_.view.allFocusableElements[0].focus()},t}(),He=function(t,e){this.value=e.value,this.swatchIc_=new Ke(t,{supportsAlpha:e.supportsAlpha,value:this.value}),this.textIc_=new de(t,{formatter:e.formatter,parser:e.parser,value:this.value}),this.view=new he(t,{swatchView:this.swatchIc_.view,textView:this.textIc_.view})};function Ue(t){return"input"in t&&"color.rgba"===t.input}var qe={id:"input-color-number",binding:{accept:function(t,e){return"number"!=typeof t?null:"input"in e?"color"!==e.input&&"color.rgb"!==e.input&&"color.rgba"!==e.input?null:t:null},reader:function(t){return Ue(t.params)?zt:Bt},writer:function(t){return Ue(t.params)?se:ae},equals:Nt.equals},controller:function(t){var e=Ue(t.params),n=new Jt(e?ne:ee);return new He(t.document,{formatter:n,parser:Yt,supportsAlpha:e,value:t.binding.value})}};function Ye(t){return Nt.isColorObject(t)?Nt.fromObject(t):Nt.black()}var Ge={id:"input-color-object",binding:{accept:function(t,e){return Nt.isColorObject(t)?t:null},reader:function(t){return Ye},writer:function(t){return Nt.toRgbaObject},equals:Nt.equals},controller:function(t){var e=Nt.isRgbaColorObject(t.initialValue),n=new Jt(e?ne:ee);return new He(t.document,{formatter:n,parser:Yt,supportsAlpha:e,value:t.binding.value})}},$e={id:"input-color-string",binding:{accept:function(t,e){return"string"!=typeof t||"input"in e&&"string"===e.input?null:qt(t)?t:null},reader:function(t){return $t},writer:function(t){var e=qt(t.initialValue);if(!e)throw U.shouldNeverHappen();return function(t){return re[t]}(e)},equals:Nt.equals},controller:function(t){var e=qt(t.initialValue);if(!e)throw U.shouldNeverHappen();return new He(t.document,{formatter:new Jt(t.binding.writer),parser:Yt,supportsAlpha:Gt(e),value:t.binding.value})}},We=function(){function t(t){this.maxValue=t.max,this.minValue=t.min}return t.prototype.constrain=function(t){var e=t;return r(this.minValue)||(e=Math.max(e,this.minValue)),r(this.maxValue)||(e=Math.min(e,this.maxValue)),e},t}();function Xe(t){if("number"==typeof t)return t;if("string"==typeof t){var e=be(t);if(!r(e))return e}return 0}var Qe=u("sldtxt"),Ze=function(){function t(t,e){this.element=t.createElement("div"),this.element.classList.add(Qe());var n=t.createElement("div");n.classList.add(Qe("s")),this.sliderView_=e.sliderView,n.appendChild(this.sliderView_.element),this.element.appendChild(n);var i=t.createElement("div");i.classList.add(Qe("t")),this.textView_=e.textView,i.appendChild(this.textView_.element),this.element.appendChild(i)}return Object.defineProperty(t.prototype,"value",{get:function(){return this.sliderView_.value},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.sliderView_.update(),this.textView_.update()},t}(),Je=u("sld"),tn=function(){function t(t,e){this.onValueChange_=this.onValueChange_.bind(this),this.minValue_=e.minValue,this.maxValue_=e.maxValue,this.element=t.createElement("div"),this.element.classList.add(Je());var n=t.createElement("div");n.classList.add(Je("o")),n.tabIndex=0,this.element.appendChild(n),this.outerElement=n;var i=t.createElement("div");i.classList.add(Je("i")),this.outerElement.appendChild(i),this.innerElement=i,e.value.emitter.on("change",this.onValueChange_),this.value=e.value,this.update()}return t.prototype.update=function(){var t=bt(ft(this.value.rawValue,this.minValue_,this.maxValue_,0,100),0,100);this.innerElement.style.width=t+"%"},t.prototype.onValueChange_=function(){this.update()},t}();function en(t){var e=function(t){var e=t.constraint?ut(t.constraint,We):null;return e?[e.minValue,e.maxValue]:[void 0,void 0]}(t),n=e[0],i=e[1];return[null!=n?n:0,null!=i?i:100]}var nn=function(){function t(t,e){this.onKeyDown_=this.onKeyDown_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=e.value,this.baseStep_=e.baseStep;var n=en(this.value),i=n[0],o=n[1];this.minValue_=i,this.maxValue_=o,this.view=new tn(t,{maxValue:this.maxValue_,minValue:this.minValue_,value:this.value}),this.ptHandler_=new Le(t,this.view.outerElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.outerElement.addEventListener("keydown",this.onKeyDown_)}return t.prototype.handlePointerEvent_=function(t){this.value.rawValue=ft(t.px,0,1,this.minValue_,this.maxValue_)},t.prototype.onPointerDown_=function(t){this.handlePointerEvent_(t.data)},t.prototype.onPointerMove_=function(t){this.handlePointerEvent_(t.data)},t.prototype.onPointerUp_=function(t){this.handlePointerEvent_(t.data)},t.prototype.onKeyDown_=function(t){this.value.rawValue+=ge(this.baseStep_,we(t))},t}(),on=function(t,e){this.value=e.value,this.sliderIc_=new nn(t,{baseStep:e.baseStep,value:e.value}),this.textIc_=new Ce(t,{baseStep:e.baseStep,formatter:e.formatter,parser:e.parser,value:e.value}),this.view=new Ze(t,{sliderView:this.sliderIc_.view,textView:this.textIc_.view})};var rn={id:"input-number",binding:{accept:function(t){return"number"==typeof t?t:null},constraint:function(t){return e=t.params,n=[],"step"in e&&!r(e.step)&&n.push(new vt({step:e.step})),("max"in e&&!r(e.max)||"min"in e&&!r(e.min))&&n.push(new We({max:e.max,min:e.min})),"options"in e&&void 0!==e.options&&n.push(new dt({options:_t(e.options,Xe)})),new lt({constraints:n});var e,n},reader:function(t){return Xe},writer:function(t){return function(t){return t}}},controller:function(t){return e=t.document,n=t.binding.value,(o=n.constraint)&&ut(o,dt)?new Et(e,{listItems:null!==(i=wt(o))&&void 0!==i?i:[],stringifyValue:Wt,value:n}):o&&ut(o,We)?new on(e,{baseStep:xt(o),formatter:new Xt(yt(n.constraint,n.rawValue)),parser:be,value:n}):new Ce(e,{baseStep:xt(o),formatter:new Xt(yt(n.constraint,n.rawValue)),parser:be,value:n});var e,n,i,o}},an=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.getComponents=function(){return[this.x,this.y]},t.isObject=function(t){if(r(t))return!1;var e=t.x,n=t.y;return"number"==typeof e&&"number"==typeof n},t.equals=function(t,e){return t.x===e.x&&t.y===e.y},t.prototype.toObject=function(){return{x:this.x,y:this.y}},t}(),sn=function(){function t(t){this.x=t.x,this.y=t.y}return t.prototype.constrain=function(t){return new an(this.x?this.x.constrain(t.x):t.x,this.y?this.y.constrain(t.y):t.y)},t}(),ln=u("p2dpadtxt"),un=function(){function t(t,e){this.element=t.createElement("div"),this.element.classList.add(ln());var n=t.createElement("div");n.classList.add(ln("w")),this.element.appendChild(n);var i,o,r=t.createElement("button");r.classList.add(ln("b")),r.appendChild((i="p2dpad",(o=t.createElementNS(y,"svg")).innerHTML=V[i],o)),n.appendChild(r),this.padButtonElem_=r;var a=t.createElement("div");a.classList.add(ln("p")),n.appendChild(a),this.padView_=e.padView,a.appendChild(this.padView_.element);var s=t.createElement("div");s.classList.add(ln("t")),this.textView_=e.textView,s.appendChild(this.textView_.element),this.element.appendChild(s)}return Object.defineProperty(t.prototype,"value",{get:function(){return this.textView_.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padButtonElement",{get:function(){return this.padButtonElem_},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.padView_.update(),this.textView_.update()},t}(),dn=u("p2dpad"),pn=function(){function t(t,e){this.onFoldableChange_=this.onFoldableChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.foldable=e.foldable,this.foldable.emitter.on("change",this.onFoldableChange_),this.invertsY_=e.invertsY,this.maxValue_=e.maxValue,this.element=t.createElement("div"),this.element.classList.add(dn());var n=t.createElement("div");n.tabIndex=0,n.classList.add(dn("p")),this.element.appendChild(n),this.padElement=n;var i=t.createElementNS(y,"svg");i.classList.add(dn("g")),this.padElement.appendChild(i),this.svgElem_=i;var o=t.createElementNS(y,"line");o.classList.add(dn("ax")),o.setAttributeNS(null,"x1","0"),o.setAttributeNS(null,"y1","50%"),o.setAttributeNS(null,"x2","100%"),o.setAttributeNS(null,"y2","50%"),this.svgElem_.appendChild(o);var r=t.createElementNS(y,"line");r.classList.add(dn("ax")),r.setAttributeNS(null,"x1","50%"),r.setAttributeNS(null,"y1","0"),r.setAttributeNS(null,"x2","50%"),r.setAttributeNS(null,"y2","100%"),this.svgElem_.appendChild(r);var a=t.createElementNS(y,"line");a.classList.add(dn("l")),a.setAttributeNS(null,"x1","50%"),a.setAttributeNS(null,"y1","50%"),this.svgElem_.appendChild(a),this.lineElem_=a;var s=t.createElementNS(y,"circle");s.classList.add(dn("m")),s.setAttributeNS(null,"r","2px"),this.svgElem_.appendChild(s),this.markerElem_=s,e.value.emitter.on("change",this.onValueChange_),this.value=e.value,this.update()}return Object.defineProperty(t.prototype,"allFocusableElements",{get:function(){return[this.padElement]},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.foldable.expanded?this.element.classList.add(dn(void 0,"expanded")):this.element.classList.remove(dn(void 0,"expanded"));var t=this.value.rawValue.getComponents(),e=t[0],n=t[1],i=this.maxValue_,o=ft(e,-i,+i,0,100),r=ft(n,-i,+i,0,100),a=this.invertsY_?100-r:r;this.lineElem_.setAttributeNS(null,"x2",o+"%"),this.lineElem_.setAttributeNS(null,"y2",a+"%"),this.markerElem_.setAttributeNS(null,"cx",o+"%"),this.markerElem_.setAttributeNS(null,"cy",a+"%")},t.prototype.onValueChange_=function(){this.update()},t.prototype.onFoldableChange_=function(){this.update()},t}(),hn=function(){function t(t,e){var n=this;this.triggerElement=null,this.onFocusableElementBlur_=this.onFocusableElementBlur_.bind(this),this.onKeyDown_=this.onKeyDown_.bind(this),this.onPadKeyDown_=this.onPadKeyDown_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=e.value,this.foldable=new me,this.baseSteps_=e.baseSteps,this.maxValue_=e.maxValue,this.invertsY_=e.invertsY,this.view=new pn(t,{foldable:this.foldable,invertsY:this.invertsY_,maxValue:this.maxValue_,value:this.value}),this.ptHandler_=new Le(t,this.view.padElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.padElement.addEventListener("keydown",this.onPadKeyDown_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.allFocusableElements.forEach((function(t){t.addEventListener("blur",n.onFocusableElementBlur_)}))}return t.prototype.handlePointerEvent_=function(t){var e=this.maxValue_,n=ft(t.px,0,1,-e,+e),i=ft(this.invertsY_?1-t.py:t.py,0,1,-e,+e);this.value.rawValue=new an(n,i),this.view.update()},t.prototype.onPointerDown_=function(t){this.handlePointerEvent_(t.data)},t.prototype.onPointerMove_=function(t){this.handlePointerEvent_(t.data)},t.prototype.onPointerUp_=function(t){this.handlePointerEvent_(t.data)},t.prototype.onPadKeyDown_=function(t){ye(t.keyCode)&&t.preventDefault(),this.value.rawValue=new an(this.value.rawValue.x+ge(this.baseSteps_[0],we(t)),this.value.rawValue.y+ge(this.baseSteps_[1],_e(t))*(this.invertsY_?1:-1))},t.prototype.onFocusableElementBlur_=function(t){var e=this.view.element,n=P(t);n&&e.contains(n)||n&&n===this.triggerElement&&!C(e.ownerDocument)||(this.foldable.expanded=!1)},t.prototype.onKeyDown_=function(t){27===t.keyCode&&(this.foldable.expanded=!1)},t}(),cn=u("p2dtxt"),vn=function(){function t(t,e){var n=this;this.onValueChange_=this.onValueChange_.bind(this),this.formatters_=e.formatters,this.element=t.createElement("div"),this.element.classList.add(cn());var i=[0,1].map((function(){var e=t.createElement("input");return e.classList.add(cn("i")),e.type="text",e}));[0,1].forEach((function(e,o){var r=t.createElement("div");r.classList.add(cn("w")),r.appendChild(i[o]),n.element.appendChild(r)})),this.inputElems_=[i[0],i[1]],e.value.emitter.on("change",this.onValueChange_),this.value=e.value,this.update()}return Object.defineProperty(t.prototype,"inputElements",{get:function(){return this.inputElems_},enumerable:!1,configurable:!0}),t.prototype.update=function(){var t=this;this.value.rawValue.getComponents().forEach((function(e,n){t.inputElems_[n].value=t.formatters_[n].format(e)}))},t.prototype.onValueChange_=function(){this.update()},t}(),fn=function(){function t(t,e){var n=this;this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.parser_=e.parser,this.value=e.value,this.baseSteps_=[e.axes[0].baseStep,e.axes[1].baseStep],this.view=new vn(t,{formatters:[e.axes[0].formatter,e.axes[1].formatter],value:this.value}),this.view.inputElements.forEach((function(t){t.addEventListener("change",n.onInputChange_),t.addEventListener("keydown",n.onInputKeyDown_)}))}return t.prototype.findIndexOfInputElem_=function(t){for(var e=this.view.inputElements,n=0;n<e.length;n++)if(e[n]===t)return n;return null},t.prototype.updateComponent_=function(t,e){var n=this.value.rawValue.getComponents().map((function(n,i){return i===t?e:n}));this.value.rawValue=new an(n[0],n[1]),this.view.update()},t.prototype.onInputChange_=function(t){var e=t.currentTarget,n=this.parser_(e.value);if(!r(n)){var i=this.findIndexOfInputElem_(e);r(i)||this.updateComponent_(i,n)}},t.prototype.onInputKeyDown_=function(t){var e=t.currentTarget,n=this.parser_(e.value);if(!r(n)){var i=this.findIndexOfInputElem_(e);if(!r(i)){var o=ge(this.baseSteps_[i],_e(t));0!==o&&this.updateComponent_(i,n+o)}}},t}(),mn=function(){function t(t,e){this.onPadButtonBlur_=this.onPadButtonBlur_.bind(this),this.onPadButtonClick_=this.onPadButtonClick_.bind(this),this.value=e.value,this.padIc_=new hn(t,{baseSteps:[e.axes[0].baseStep,e.axes[1].baseStep],invertsY:e.invertsY,maxValue:e.maxValue,value:this.value}),this.textIc_=new fn(t,{axes:e.axes,parser:e.parser,value:this.value}),this.view=new un(t,{padView:this.padIc_.view,textView:this.textIc_.view}),this.view.padButtonElement.addEventListener("blur",this.onPadButtonBlur_),this.view.padButtonElement.addEventListener("click",this.onPadButtonClick_),this.padIc_.triggerElement=this.view.padButtonElement}return t.prototype.onPadButtonBlur_=function(t){var e=this.view.element,n=t.relatedTarget;n&&e.contains(n)||(this.padIc_.foldable.expanded=!1)},t.prototype.onPadButtonClick_=function(){this.padIc_.foldable.expanded=!this.padIc_.foldable.expanded,this.padIc_.foldable.expanded&&this.padIc_.view.allFocusableElements[0].focus()},t}();function bn(t){return an.isObject(t)?new an(t.x,t.y):new an}function gn(t){if(t){var e=[];return r(t.step)||e.push(new vt({step:t.step})),r(t.max)&&r(t.min)||e.push(new We({max:t.max,min:t.min})),new lt({constraints:e})}}function _n(t,e){var n=t&&ut(t,We);if(n)return Math.max(Math.abs(n.minValue||0),Math.abs(n.maxValue||0));var i=xt(t);return Math.max(10*Math.abs(i),10*Math.abs(e))}var wn={id:"input-point2d",binding:{accept:function(t,e){return an.isObject(t)?t:null},reader:function(t){return bn},writer:function(t){return function(t){return t.toObject()}},constraint:function(t){return e=t.params,new sn({x:gn("x"in e?e.x:void 0),y:gn("y"in e?e.y:void 0)});var e},equals:an.equals},controller:function(t){return function(t,e,n){var i,o,r,a,s,l,u=e.constraint;if(!(u instanceof sn))throw U.shouldNeverHappen();return new mn(t,{axes:[{baseStep:xt(u.x),formatter:new Xt(yt(u.x,e.rawValue.x))},{baseStep:xt(u.y),formatter:new Xt(yt(u.y,e.rawValue.y))}],invertsY:n,maxValue:(i=e.rawValue,o=e.constraint,r=o instanceof sn?o.x:void 0,a=o instanceof sn?o.y:void 0,s=_n(r,i.x),l=_n(a,i.y),Math.max(s,l)),parser:be,value:e})}(t.document,t.binding.value,function(t){if(!("y"in t))return!1;var e=t.y;return!!e&&"inverted"in e&&!!e.inverted}(t.params))}},yn=function(){function t(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),this.x=t,this.y=e,this.z=n}return t.prototype.getComponents=function(){return[this.x,this.y,this.z]},t.isObject=function(t){if(r(t))return!1;var e=t.x,n=t.y,i=t.z;return"number"==typeof e&&"number"==typeof n&&"number"==typeof i},t.equals=function(t,e){return t.x===e.x&&t.y===e.y&&t.z===e.z},t.prototype.toObject=function(){return{x:this.x,y:this.y,z:this.z}},t}(),xn=function(){function t(t){this.x=t.x,this.y=t.y,this.z=t.z}return t.prototype.constrain=function(t){return new yn(this.x?this.x.constrain(t.x):t.x,this.y?this.y.constrain(t.y):t.y,this.z?this.z.constrain(t.z):t.z)},t}(),Cn=u("p3dtxt"),kn=function(){function t(t,e){var n=this;this.onValueChange_=this.onValueChange_.bind(this),this.formatters_=e.formatters,this.element=t.createElement("div"),this.element.classList.add(Cn());var i=[0,1,2].map((function(){var e=t.createElement("input");return e.classList.add(Cn("i")),e.type="text",e}));[0,1,2].forEach((function(e,o){var r=t.createElement("div");r.classList.add(Cn("w")),r.appendChild(i[o]),n.element.appendChild(r)})),this.inputElems_=[i[0],i[1],i[2]],e.value.emitter.on("change",this.onValueChange_),this.value=e.value,this.update()}return Object.defineProperty(t.prototype,"inputElements",{get:function(){return this.inputElems_},enumerable:!1,configurable:!0}),t.prototype.update=function(){var t=this;this.value.rawValue.getComponents().forEach((function(e,n){t.inputElems_[n].value=t.formatters_[n].format(e)}))},t.prototype.onValueChange_=function(){this.update()},t}(),En=function(){function t(t,e){var n=this;this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.parser_=e.parser,this.value=e.value;var i=e.axes;this.baseSteps_=[i[0].baseStep,i[1].baseStep,i[2].baseStep],this.view=new kn(t,{formatters:[i[0].formatter,i[1].formatter,i[2].formatter],value:this.value}),this.view.inputElements.forEach((function(t){t.addEventListener("change",n.onInputChange_),t.addEventListener("keydown",n.onInputKeyDown_)}))}return t.prototype.findIndexOfInputElem_=function(t){for(var e=this.view.inputElements,n=0;n<e.length;n++)if(e[n]===t)return n;return null},t.prototype.updateComponent_=function(t,e){var n=this.value.rawValue.getComponents().map((function(n,i){return i===t?e:n}));this.value.rawValue=new yn(n[0],n[1],n[2]),this.view.update()},t.prototype.onInputChange_=function(t){var e=t.currentTarget,n=this.parser_(e.value);if(!r(n)){var i=this.findIndexOfInputElem_(e);r(i)||this.updateComponent_(i,n)}},t.prototype.onInputKeyDown_=function(t){var e=t.currentTarget,n=this.parser_(e.value);if(!r(n)){var i=this.findIndexOfInputElem_(e);if(!r(i)){var o=ge(this.baseSteps_[i],_e(t));0!==o&&this.updateComponent_(i,n+o)}}},t}();function Vn(t){return yn.isObject(t)?new yn(t.x,t.y,t.z):new yn}function Ln(t){if(t){var e=[];return r(t.step)||e.push(new vt({step:t.step})),r(t.max)&&r(t.min)||e.push(new We({max:t.max,min:t.min})),new lt({constraints:e})}}function Pn(t,e){return{baseStep:xt(e),formatter:new Xt(yt(e,t))}}var In={id:"input-point3d",binding:{accept:function(t,e){return yn.isObject(t)?t:null},reader:function(t){return Vn},writer:function(t){return function(t){return t.toObject()}},constraint:function(t){return e=t.params,new xn({x:Ln("x"in e?e.x:void 0),y:Ln("y"in e?e.y:void 0),z:Ln("z"in e?e.z:void 0)});var e},equals:yn.equals},controller:function(t){return function(t,e){var n=e.constraint;if(!(n instanceof xn))throw U.shouldNeverHappen();return new En(t,{axes:[Pn(e.rawValue.x,n.x),Pn(e.rawValue.y,n.y),Pn(e.rawValue.z,n.z)],parser:be,value:e})}(t.document,t.binding.value)}};function Fn(t){return String(t)}var On=function(){function t(){}return t.prototype.format=function(t){return t},t}();var Mn={id:"input-string",binding:{accept:function(t,e){return"string"==typeof t?t:null},constraint:function(t){return e=t.params,n=[],"options"in e&&void 0!==e.options&&n.push(new dt({options:_t(e.options,Fn)})),new lt({constraints:n});var e,n},reader:function(t){return Fn},writer:function(t){return function(t){return t}}},controller:function(t){return e=t.document,n=t.binding.value,(o=n.constraint)&&ut(o,dt)?new Et(e,{listItems:null!==(i=wt(o))&&void 0!==i?i:[],stringifyValue:function(t){return t},value:n}):new de(e,{formatter:new On,parser:function(t){return t},value:n});var e,n,i,o}},Sn=u("mll"),Dn=function(){function t(t,e){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=e.formatter,this.element=t.createElement("div"),this.element.classList.add(Sn());var n=t.createElement("textarea");n.classList.add(Sn("i")),n.style.height="calc(var(--unit-size) * "+e.lineCount+")",n.readOnly=!0,this.element.appendChild(n),this.textareaElem_=n,e.value.emitter.on("change",this.onValueUpdate_),this.value=e.value,this.update()}return t.prototype.update=function(){var t=this,e=this.textareaElem_,n=e.scrollTop===e.scrollHeight-e.clientHeight;e.textContent=this.value.rawValue.map((function(e){return void 0!==e?t.formatter_.format(e):""})).join("\n"),n&&(e.scrollTop=e.scrollHeight)},t.prototype.onValueUpdate_=function(){this.update()},t}(),jn=function(t,e){this.value=e.value,this.view=new Dn(t,{formatter:e.formatter,lineCount:e.lineCount,value:this.value})},An=u("sgl"),Rn=function(){function t(t,e){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=e.formatter,this.element=t.createElement("div"),this.element.classList.add(An());var n=t.createElement("input");n.classList.add(An("i")),n.readOnly=!0,n.type="text",this.element.appendChild(n),this.inputElem_=n,e.value.emitter.on("change",this.onValueUpdate_),this.value=e.value,this.update()}return t.prototype.update=function(){var t=this.value.rawValue,e=t[t.length-1];this.inputElem_.value=void 0!==e?this.formatter_.format(e):""},t.prototype.onValueUpdate_=function(){this.update()},t}(),Nn=function(t,e){this.value=e.value,this.view=new Rn(t,{formatter:e.formatter,value:this.value})},Bn={id:"monitor-bool",binding:{accept:function(t,e){return"boolean"==typeof t?t:null},reader:function(t){return pt}},controller:function(t){var e;return 1===t.binding.value.rawValue.length?new Nn(t.document,{formatter:new ct,value:t.binding.value}):new jn(t.document,{formatter:new ct,lineCount:null!==(e=t.params.lineCount)&&void 0!==e?e:W.defaultLineCount,value:t.binding.value})}},zn=function(){function t(){this.emitter=new a,this.index_=-1}return Object.defineProperty(t.prototype,"index",{get:function(){return this.index_},set:function(t){this.index_!==t&&(this.index_=t,this.emitter.emit("change",{index:t,sender:this}))},enumerable:!1,configurable:!0}),t}(),Tn=u("grl"),Kn=function(){function t(t,e){this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=t.createElement("div"),this.element.classList.add(Tn()),this.formatter_=e.formatter,this.minValue_=e.minValue,this.maxValue_=e.maxValue,this.cursor_=e.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);var n=t.createElementNS(y,"svg");n.classList.add(Tn("g")),n.style.height="calc(var(--unit-size) * "+e.lineCount+")",this.element.appendChild(n),this.svgElem_=n;var i=t.createElementNS(y,"polyline");this.svgElem_.appendChild(i),this.lineElem_=i;var o=t.createElement("div");o.classList.add(Tn("t")),this.element.appendChild(o),this.tooltipElem_=o,e.value.emitter.on("change",this.onValueUpdate_),this.value=e.value,this.update()}return Object.defineProperty(t.prototype,"graphElement",{get:function(){return this.svgElem_},enumerable:!1,configurable:!0}),t.prototype.update=function(){var t=this.svgElem_.getBoundingClientRect(),e=this.value.rawValue.length-1,n=this.minValue_,i=this.maxValue_,o=[];this.value.rawValue.forEach((function(r,a){if(void 0!==r){var s=ft(a,0,e,0,t.width),l=ft(r,n,i,t.height,0);o.push([s,l].join(","))}})),this.lineElem_.setAttributeNS(null,"points",o.join(" "));var r=this.tooltipElem_,a=this.value.rawValue[this.cursor_.index];if(void 0!==a){r.classList.add(Tn("t","valid"));var s=ft(this.cursor_.index,0,e,0,t.width),l=ft(a,n,i,t.height,0);r.style.left=s+"px",r.style.top=l+"px",r.textContent=""+this.formatter_.format(a)}else r.classList.remove(Tn("t","valid"))},t.prototype.onValueUpdate_=function(){this.update()},t.prototype.onCursorChange_=function(){this.update()},t}(),Hn=function(){function t(t,e){this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.value=e.value,this.cursor_=new zn,this.view=new Kn(t,{cursor:this.cursor_,formatter:e.formatter,lineCount:e.lineCount,maxValue:e.maxValue,minValue:e.minValue,value:this.value}),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_),this.view.element.addEventListener("mousemove",this.onGraphMouseMove_)}return t.prototype.onGraphMouseLeave_=function(){this.cursor_.index=-1},t.prototype.onGraphMouseMove_=function(t){var e=this.view.graphElement.getBoundingClientRect(),n=t.offsetX;this.cursor_.index=Math.floor(ft(n,0,e.width,0,this.value.rawValue.length))},t}();function Un(){return new Xt(2)}function qn(t){return"view"in t&&"graph"===t.view}var Yn={id:"monitor-number",binding:{accept:function(t,e){return"number"==typeof t?t:null},defaultBufferSize:function(t){return qn(t)?64:1},reader:function(t){return Xe}},controller:function(t){return qn(t.params)?(e={document:t.document,binding:t.binding,params:t.params},r=e.document,a=e.binding,s=e.params,new Hn(r,{formatter:Un(),lineCount:null!==(n=s.lineCount)&&void 0!==n?n:W.defaultLineCount,maxValue:null!==(i="max"in s?s.max:null)&&void 0!==i?i:100,minValue:null!==(o="min"in s?s.min:null)&&void 0!==o?o:0,value:a.value})):function(t,e,n){var i;return 1===e.value.rawValue.length?new Nn(t,{formatter:Un(),value:e.value}):new jn(t,{formatter:Un(),lineCount:null!==(i=n.lineCount)&&void 0!==i?i:W.defaultLineCount,value:e.value})}(t.document,t.binding,t.params);var e,n,i,o,r,a,s}},Gn={id:"monitor-string",binding:{accept:function(t,e){return"string"==typeof t?t:null},reader:function(t){return Fn}},controller:function(t){var e,n=t.binding.value;return n.rawValue.length>1||"multiline"in t.params&&t.params.multiline?new jn(t.document,{formatter:new On,lineCount:null!==(e=t.params.lineCount)&&void 0!==e?e:W.defaultLineCount,value:n}):new Nn(t.document,{formatter:new On,value:n})}};function $n(t,e,n){if(!t.querySelector("style[data-tp-style="+e+"]")){var i=t.createElement("style");i.dataset.tpStyle=e,i.textContent=n,t.head.appendChild(i)}}function Wn(t){$n(t,"default",".tp-btnv_b,.tp-lstv_s,.tp-p2dpadtxtv_b,.tp-fldv_t,.tp-rotv_t,.tp-cctxtsv_i,.tp-cswv_sw,.tp-p2dpadv_p,.tp-p2dtxtv_i,.tp-p3dtxtv_i,.tp-txtv_i,.tp-grlv_g,.tp-sglv_i,.tp-mllv_i,.tp-ckbv_i,.tp-cctxtsv_ms{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-btnv_b,.tp-lstv_s,.tp-p2dpadtxtv_b{background-color:var(--button-background-color);border-radius:2px;color:var(--button-foreground-color);cursor:pointer;display:block;font-weight:bold;height:var(--unit-size);line-height:var(--unit-size);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-btnv_b:hover,.tp-lstv_s:hover,.tp-p2dpadtxtv_b:hover{background-color:var(--button-background-color-hover)}.tp-btnv_b:focus,.tp-lstv_s:focus,.tp-p2dpadtxtv_b:focus{background-color:var(--button-background-color-focus)}.tp-btnv_b:active,.tp-lstv_s:active,.tp-p2dpadtxtv_b:active{background-color:var(--button-background-color-active)}.tp-fldv_t,.tp-rotv_t{background-color:var(--folder-background-color);color:var(--folder-foreground-color);cursor:pointer;display:block;height:calc(var(--unit-size) + 4px);line-height:calc(var(--unit-size) + 4px);overflow:hidden;padding-left:28px;position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%;transition:border-radius .2s ease-in-out .2s}.tp-fldv_t:hover,.tp-rotv_t:hover{background-color:var(--folder-background-color-hover)}.tp-fldv_t:focus,.tp-rotv_t:focus{background-color:var(--folder-background-color-focus)}.tp-fldv_t:active,.tp-rotv_t:active{background-color:var(--folder-background-color-active)}.tp-fldv_m,.tp-rotv_m{background:linear-gradient(to left, var(--folder-foreground-color), var(--folder-foreground-color) 2px, transparent 2px, transparent 4px, var(--folder-foreground-color) 4px);border-radius:2px;bottom:0;content:'';display:block;height:6px;left:13px;margin:auto;opacity:0.5;position:absolute;top:0;transform:rotate(90deg);transition:transform .2s ease-in-out;width:6px}.tp-fldv.tp-fldv-expanded>.tp-fldv_t>.tp-fldv_m,.tp-rotv.tp-rotv-expanded .tp-rotv_m{transform:none}.tp-fldv_c,.tp-rotv_c{box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height .2s ease-in-out,opacity .2s linear,padding .2s ease-in-out}.tp-fldv_c>.tp-fldv.tp-v-first,.tp-rotv_c>.tp-fldv.tp-v-first{margin-top:-4px}.tp-fldv_c>.tp-fldv.tp-v-last,.tp-rotv_c>.tp-fldv.tp-v-last{margin-bottom:-4px}.tp-fldv_c>*:not(.tp-v-first),.tp-rotv_c>*:not(.tp-v-first){margin-top:4px}.tp-fldv_c>.tp-fldv:not(.tp-v-hidden)+.tp-fldv,.tp-rotv_c>.tp-fldv:not(.tp-v-hidden)+.tp-fldv{margin-top:0}.tp-fldv_c>.tp-sptv:not(.tp-v-hidden)+.tp-sptv,.tp-rotv_c>.tp-sptv:not(.tp-v-hidden)+.tp-sptv{margin-top:0}.tp-fldv.tp-fldv-expanded>.tp-fldv_c,.tp-rotv.tp-rotv-expanded .tp-rotv_c{opacity:1;padding-bottom:4px;padding-top:4px;transform:none;overflow:visible;transition:height .2s ease-in-out,opacity .2s linear .2s,padding .2s ease-in-out}.tp-cctxtsv_i,.tp-cswv_sw,.tp-p2dpadv_p,.tp-p2dtxtv_i,.tp-p3dtxtv_i,.tp-txtv_i{background-color:var(--input-background-color);border-radius:2px;box-sizing:border-box;color:var(--input-foreground-color);font-family:inherit;height:var(--unit-size);line-height:var(--unit-size);min-width:0;width:100%}.tp-cctxtsv_i:hover,.tp-cswv_sw:hover,.tp-p2dpadv_p:hover,.tp-p2dtxtv_i:hover,.tp-p3dtxtv_i:hover,.tp-txtv_i:hover{background-color:var(--input-background-color-hover)}.tp-cctxtsv_i:focus,.tp-cswv_sw:focus,.tp-p2dpadv_p:focus,.tp-p2dtxtv_i:focus,.tp-p3dtxtv_i:focus,.tp-txtv_i:focus{background-color:var(--input-background-color-focus)}.tp-cctxtsv_i:active,.tp-cswv_sw:active,.tp-p2dpadv_p:active,.tp-p2dtxtv_i:active,.tp-p3dtxtv_i:active,.tp-txtv_i:active{background-color:var(--input-background-color-active)}.tp-grlv_g,.tp-sglv_i,.tp-mllv_i{background-color:var(--monitor-background-color);border-radius:2px;box-sizing:border-box;color:var(--monitor-foreground-color);height:var(--unit-size);width:100%}.tp-btnv{padding:0 4px}.tp-btnv_b{width:100%}.tp-ckbv_l{display:block;position:relative}.tp-ckbv_i{left:0;opacity:0;position:absolute;top:0}.tp-ckbv_m{background-color:var(--input-background-color);border-radius:2px;cursor:pointer;display:block;height:var(--unit-size);position:relative;width:var(--unit-size)}.tp-ckbv_m::before{background-color:var(--input-foreground-color);border-radius:2px;bottom:4px;content:'';display:block;left:4px;opacity:0;position:absolute;right:4px;top:4px}.tp-ckbv_i:hover+.tp-ckbv_m{background-color:var(--input-background-color-hover)}.tp-ckbv_i:focus+.tp-ckbv_m{background-color:var(--input-background-color-focus)}.tp-ckbv_i:active+.tp-ckbv_m{background-color:var(--input-background-color-active)}.tp-ckbv_i:checked+.tp-ckbv_m::before{opacity:1}.tp-cctxtsv{display:flex;width:100%}.tp-cctxtsv_m{margin-right:4px;position:relative}.tp-cctxtsv_ms{border-radius:2px;color:var(--label-foreground-color);cursor:pointer;height:var(--unit-size);line-height:var(--unit-size);padding:0 18px 0 4px}.tp-cctxtsv_ms:hover{background-color:var(--input-background-color-hover)}.tp-cctxtsv_ms:focus{background-color:var(--input-background-color-focus)}.tp-cctxtsv_ms:active{background-color:var(--input-background-color-active)}.tp-cctxtsv_mm{border-color:var(--label-foreground-color) transparent transparent;border-style:solid;border-width:3px;box-sizing:border-box;height:6px;pointer-events:none;width:6px;bottom:0;margin:auto;position:absolute;right:6px;top:3px}.tp-cctxtsv_w{display:flex;flex:1}.tp-cctxtsv_i{border-radius:0;flex:1;padding:0 4px}.tp-cctxtsv_i:first-child{border-bottom-left-radius:2px;border-top-left-radius:2px}.tp-cctxtsv_i:last-child{border-bottom-right-radius:2px;border-top-right-radius:2px}.tp-cctxtsv_i+.tp-cctxtsv_i{margin-left:2px}.tp-clpv{background-color:var(--base-background-color);border-radius:6px;box-shadow:0 2px 4px var(--base-shadow-color);display:none;padding:4px;position:relative;visibility:hidden;z-index:1000}.tp-clpv.tp-clpv-expanded{display:block;visibility:visible}.tp-clpv_h,.tp-clpv_ap{margin-left:6px;margin-right:6px}.tp-clpv_h{margin-top:4px}.tp-clpv_rgb{display:flex;margin-top:4px;width:100%}.tp-clpv_a{display:flex;margin-top:4px;padding-top:8px;position:relative}.tp-clpv_a:before{background-color:var(--separator-color);content:'';height:4px;left:-4px;position:absolute;right:-4px;top:0}.tp-clpv_ap{align-items:center;display:flex;flex:3}.tp-clpv_at{flex:1;margin-left:4px}.tp-svpv{border-radius:2px;outline:none;overflow:hidden;position:relative}.tp-svpv_c{cursor:crosshair;display:block;height:80px;width:100%}.tp-svpv_m{border-radius:100%;border:rgba(255,255,255,0.75) solid 2px;box-sizing:border-box;filter:drop-shadow(0 0 1px rgba(0,0,0,0.3));height:12px;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;width:12px}.tp-svpv:focus .tp-svpv_m{border-color:#fff}.tp-hplv{cursor:pointer;height:var(--unit-size);outline:none;position:relative}.tp-hplv_c{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAABCAYAAABubagXAAAAQ0lEQVQoU2P8z8Dwn0GCgQEDi2OK/RBgYHjBgIpfovFh8j8YBIgzFGQxuqEgPhaDOT5gOhPkdCxOZeBg+IDFZZiGAgCaSSMYtcRHLgAAAABJRU5ErkJggg==);background-position:left top;background-repeat:no-repeat;background-size:100% 100%;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;position:absolute;top:50%;width:100%}.tp-hplv_m{border-radius:2px;border:rgba(255,255,255,0.75) solid 2px;box-shadow:0 0 2px rgba(0,0,0,0.1);box-sizing:border-box;height:12px;left:50%;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;top:50%;width:12px}.tp-hplv:focus .tp-hplv_m{border-color:#fff}.tp-aplv{cursor:pointer;height:var(--unit-size);outline:none;position:relative;width:100%}.tp-aplv_b{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:4px 4px;background-position:0 0,2px 2px;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;overflow:hidden;position:absolute;top:50%;width:100%}.tp-aplv_c{bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv_m{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:12px 12px;background-position:0 0,6px 6px;border-radius:2px;box-shadow:0 0 2px rgba(0,0,0,0.1);height:12px;left:50%;margin-left:-6px;margin-top:-6px;overflow:hidden;pointer-events:none;position:absolute;top:50%;width:12px}.tp-aplv_p{border-radius:2px;border:rgba(255,255,255,0.75) solid 2px;box-sizing:border-box;bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv:focus .tp-aplv_p{border-color:#fff}.tp-cswv{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:10px 10px;background-position:0 0,5px 5px;border-radius:2px}.tp-cswv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;cursor:pointer;display:block;height:var(--unit-size);left:0;margin:0;outline:none;padding:0;position:absolute;top:0;width:var(--unit-size)}.tp-cswv_b:focus::after{border:rgba(255,255,255,0.75) solid 2px;border-radius:2px;bottom:0;content:'';display:block;left:0;position:absolute;right:0;top:0}.tp-cswv_p{left:-4px;position:absolute;right:-4px;top:var(--unit-size)}.tp-cswtxtv{display:flex;position:relative}.tp-cswtxtv_s{flex-grow:0;flex-shrink:0;width:var(--unit-size)}.tp-cswtxtv_t{flex:1;margin-left:4px}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv.tp-fldv-expanded .tp-fldv_t{transition:border-radius 0s}.tp-fldv_c{border-left:var(--folder-background-color) solid 4px}.tp-fldv_t:hover+.tp-fldv_c{border-left-color:var(--folder-background-color-hover)}.tp-fldv_t:focus+.tp-fldv_c{border-left-color:var(--folder-background-color-focus)}.tp-fldv_t:active+.tp-fldv_c{border-left-color:var(--folder-background-color-active)}.tp-fldv_c>.tp-fldv{margin-left:4px}.tp-fldv_c>.tp-fldv>.tp-fldv_t{border-top-left-radius:2px;border-bottom-left-radius:2px}.tp-fldv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_t{border-bottom-left-radius:0}.tp-fldv_c .tp-fldv>.tp-fldv_c{border-bottom-left-radius:2px}.tp-grlv{position:relative}.tp-grlv_g{display:block;height:calc(var(--unit-size) * 3)}.tp-grlv_g polyline{fill:none;stroke:var(--monitor-foreground-color);stroke-linejoin:round}.tp-grlv_t{color:var(--monitor-foreground-color);font-size:0.9em;left:0;pointer-events:none;position:absolute;text-indent:4px;top:0;visibility:hidden}.tp-grlv_t.tp-grlv_t-valid{visibility:visible}.tp-grlv_t::before{background-color:var(--monitor-foreground-color);border-radius:100%;content:'';display:block;height:4px;left:-2px;position:absolute;top:-2px;width:4px}.tp-lblv{align-items:center;display:flex;line-height:1.3;padding-left:4px;padding-right:4px}.tp-lblv_l{color:var(--label-foreground-color);flex:1;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;overflow:hidden;padding-left:4px;padding-right:16px}.tp-lblv_v{align-self:flex-start;flex-grow:0;flex-shrink:0;width:160px}.tp-lstv{position:relative}.tp-lstv_s{padding:0 18px 0 4px;width:100%}.tp-lstv_m{border-color:var(--button-foreground-color) transparent transparent;border-style:solid;border-width:3px;box-sizing:border-box;height:6px;pointer-events:none;width:6px;bottom:0;margin:auto;position:absolute;right:6px;top:3px}.tp-sglv_i{padding:0 4px}.tp-mllv_i{display:block;height:calc(var(--unit-size) * 3);line-height:var(--unit-size);padding:0 4px;resize:none;white-space:pre}.tp-p2dpadv{background-color:var(--base-background-color);border-radius:6px;box-shadow:0 2px 4px var(--base-shadow-color);display:none;padding:4px 4px 4px calc(4px * 2 + var(--unit-size));position:relative;visibility:hidden;z-index:1000}.tp-p2dpadv.tp-p2dpadv-expanded{display:block;visibility:visible}.tp-p2dpadv_p{cursor:crosshair;height:0;overflow:hidden;padding-bottom:100%;position:relative}.tp-p2dpadv_g{display:block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.tp-p2dpadv_ax{stroke:var(--input-guide-color)}.tp-p2dpadv_l{stroke:var(--input-foreground-color);stroke-linecap:round;stroke-dasharray:1px 3px}.tp-p2dpadv_m{fill:var(--input-foreground-color)}.tp-p2dpadtxtv{display:flex;position:relative}.tp-p2dpadtxtv_b{height:var(--unit-size);position:relative;width:var(--unit-size)}.tp-p2dpadtxtv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-p2dpadtxtv_p{left:-4px;position:absolute;right:-4px;top:var(--unit-size)}.tp-p2dpadtxtv_t{margin-left:4px}.tp-p2dtxtv{display:flex}.tp-p2dtxtv_w{align-items:center;display:flex}.tp-p2dtxtv_w+.tp-p2dtxtv_w{margin-left:2px}.tp-p2dtxtv_i{padding:0 4px;width:100%}.tp-p2dtxtv_w:nth-child(1) .tp-p2dtxtv_i{border-top-right-radius:0;border-bottom-right-radius:0}.tp-p2dtxtv_w:nth-child(2) .tp-p2dtxtv_i{border-top-left-radius:0;border-bottom-left-radius:0}.tp-p3dtxtv{display:flex}.tp-p3dtxtv_w{align-items:center;display:flex}.tp-p3dtxtv_w+.tp-p3dtxtv_w{margin-left:2px}.tp-p3dtxtv_i{padding:0 4px;width:100%}.tp-p3dtxtv_w:first-child .tp-p3dtxtv_i{border-top-right-radius:0;border-bottom-right-radius:0}.tp-p3dtxtv_w:not(:first-child):not(:last-child) .tp-p3dtxtv_i{border-radius:0}.tp-p3dtxtv_w:last-child .tp-p3dtxtv_i{border-top-left-radius:0;border-bottom-left-radius:0}.tp-rotv{--font-family: var(--tp-font-family, Roboto Mono,Source Code Pro,Menlo,Courier,monospace);--unit-size: var(--tp-unit-size, 20px);--base-background-color: var(--tp-base-background-color, #2f3137);--base-shadow-color: var(--tp-base-shadow-color, rgba(0,0,0,0.2));--button-background-color: var(--tp-button-background-color, #adafb8);--button-background-color-active: var(--tp-button-background-color-active, #d6d7db);--button-background-color-focus: var(--tp-button-background-color-focus, #c8cad0);--button-background-color-hover: var(--tp-button-background-color-hover, #bbbcc4);--button-foreground-color: var(--tp-button-foreground-color, #2f3137);--folder-background-color: var(--tp-folder-background-color, rgba(200,202,208,0.1));--folder-background-color-active: var(--tp-folder-background-color-active, rgba(200,202,208,0.25));--folder-background-color-focus: var(--tp-folder-background-color-focus, rgba(200,202,208,0.2));--folder-background-color-hover: var(--tp-folder-background-color-hover, rgba(200,202,208,0.15));--folder-foreground-color: var(--tp-folder-foreground-color, #c8cad0);--input-background-color: var(--tp-input-background-color, rgba(200,202,208,0.1));--input-background-color-active: var(--tp-input-background-color-active, rgba(200,202,208,0.25));--input-background-color-focus: var(--tp-input-background-color-focus, rgba(200,202,208,0.2));--input-background-color-hover: var(--tp-input-background-color-hover, rgba(200,202,208,0.15));--input-foreground-color: var(--tp-input-foreground-color, #c8cad0);--input-guide-color: var(--tp-input-guide-color, rgba(47,49,55,0.5));--label-foreground-color: var(--tp-label-foreground-color, rgba(200,202,208,0.7));--monitor-background-color: var(--tp-monitor-background-color, #26272c);--monitor-foreground-color: var(--tp-monitor-foreground-color, rgba(200,202,208,0.7));--separator-color: var(--tp-separator-color, #26272c)}.tp-rotv{background-color:var(--base-background-color);border-radius:6px;box-shadow:0 2px 4px var(--base-shadow-color);font-family:var(--font-family);font-size:11px;font-weight:500;line-height:1;text-align:left}.tp-rotv_t{border-bottom-left-radius:6px;border-bottom-right-radius:6px;border-top-left-radius:6px;border-top-right-radius:6px}.tp-rotv.tp-rotv-expanded .tp-rotv_t{border-bottom-left-radius:0;border-bottom-right-radius:0}.tp-rotv_m{transition:none}.tp-rotv_c>.tp-fldv:last-child>.tp-fldv_c{border-bottom-left-radius:6px;border-bottom-right-radius:6px}.tp-rotv_c>.tp-fldv:last-child:not(.tp-fldv-expanded)>.tp-fldv_t{border-bottom-left-radius:6px;border-bottom-right-radius:6px}.tp-rotv_c>.tp-fldv:first-child>.tp-fldv_t{border-top-left-radius:6px;border-top-right-radius:6px}.tp-sptv_r{background-color:var(--separator-color);border-width:0;display:block;height:4px;margin:0;width:100%}.tp-sldv_o{box-sizing:border-box;cursor:pointer;height:var(--unit-size);margin:0 6px;outline:none;position:relative}.tp-sldv_o::before{background-color:var(--input-background-color);border-radius:1px;bottom:0;content:'';display:block;height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-sldv_i{height:100%;left:0;position:absolute;top:0}.tp-sldv_i::before{background-color:var(--button-background-color);border-radius:2px;bottom:0;content:'';display:block;height:12px;margin:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldv_o:hover .tp-sldv_i::before{background-color:var(--button-background-color-hover)}.tp-sldv_o:focus .tp-sldv_i::before{background-color:var(--button-background-color-focus)}.tp-sldv_o:active .tp-sldv_i::before{background-color:var(--button-background-color-active)}.tp-sldtxtv{display:flex}.tp-sldtxtv_s{flex:2}.tp-sldtxtv_t{flex:1;margin-left:4px}.tp-txtv_i{padding:0 4px}.tp-v.tp-v-hidden{display:none}"),i(o.inputs,o.monitors).forEach((function(e){e.css&&$n(t,"plugin-"+e.id,e.css)}))}var Xn=function(t){function n(e){var n,i=this,o=e||{},r=null!==(n=o.document)&&void 0!==n?n:k().document,a=new st(r,{expanded:o.expanded,blade:new w,title:o.title});return(i=t.call(this,a)||this).containerElem_=o.container||function(t){var e=t.createElement("div");return e.classList.add(u("dfw")()),t.body&&t.body.appendChild(e),e}(r),i.containerElem_.appendChild(i.element),i.doc_=r,i.usesDefaultWrapper_=!o.container,Wn(i.document),i}return e(n,t),Object.defineProperty(n.prototype,"document",{get:function(){if(!this.doc_)throw U.alreadyDisposed();return this.doc_},enumerable:!1,configurable:!0}),n.prototype.dispose=function(){var e=this.containerElem_;if(!e)throw U.alreadyDisposed();if(this.usesDefaultWrapper_){var n=e.parentElement;n&&n.removeChild(e)}this.containerElem_=null,this.doc_=null,t.prototype.dispose.call(this)},n}(ot);return[wn,In,Mn,rn,$e,Ge,qe,It].forEach((function(t){ot.registerPlugin({type:"input",plugin:t})})),[Bn,Gn,Yn].forEach((function(t){ot.registerPlugin({type:"monitor",plugin:t})})),Xn}));
